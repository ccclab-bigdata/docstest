<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data sources Â· VegaLite.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>VegaLite.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Getting Started</span><ul><li><a class="toctext" href="../../gettingstarted/installation/">Installation</a></li><li><a class="toctext" href="../../gettingstarted/tutorial/">Tutorial</a></li></ul></li><li><span class="toctext">User Guide</span><ul><li><a class="toctext" href="../vlspec/">Vega-lite specifications</a></li><li><a class="toctext" href="../vlplotmacro/">The @vlplot command</a></li><li class="current"><a class="toctext" href>Data sources</a><ul class="internal"><li><a class="toctext" href="#Inline-data-1">Inline data</a></li><li><a class="toctext" href="#Referencing-external-data-1">Referencing external data</a></li></ul></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../../examples/examples_simplecharts/">Simple Charts</a></li><li><span class="toctext">Single-View Plots</span><ul><li><a class="toctext" href="../../examples/examples_barchartshistograms/">Bar Charts &amp; Histograms</a></li><li><a class="toctext" href="../../examples/examples_scatter_strip_plots/">Scatter &amp; Strip Plots</a></li><li><a class="toctext" href="../../examples/examples_line_charts/">Line Charts</a></li><li><a class="toctext" href="../../examples/examples_area_Charts_streamgraphs/">Area Charts &amp; Streamgraphs</a></li><li><a class="toctext" href="../../examples/examples_table_based_plots/">Table-based Plots</a></li></ul></li><li><span class="toctext">Layered Plots</span><ul><li><a class="toctext" href="../../examples/examples_error_bars_bands/">Error Bars &amp; Error Bands</a></li><li><a class="toctext" href="../../examples/examples_box_plots/">Box Plots</a></li></ul></li><li><span class="toctext">Multi-View Displays</span><ul><li><a class="toctext" href="../../examples/examples_faceting/">Faceting (Trellis Plot / Small Multiples)</a></li><li><a class="toctext" href="../../examples/examples_repeat_concatenation/">Repeat &amp; Concatenation</a></li></ul></li><li><a class="toctext" href="../../examples/examples_maps/">Maps (Geographic Displays)</a></li></ul></li><li><span class="toctext">Reference Manual</span><ul><li><a class="toctext" href="../../referencemanual/global/">Global settings</a></li><li><a class="toctext" href="../../referencemanual/output/">Outputs</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>User Guide</li><li><a href>Data sources</a></li></ul></nav><hr/><div id="topbar"><span>Data sources</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Data-1" href="#Data-1">Data</a></h1><p><a href="https://github.com/fredo-dedup/VegaLite.jl">VegaLite.jl</a> accepts data to be plotted in a variety of different formats and provides a number of different ways to reference that data. The most typical way to plot data is that you have your data in some julia data structure, and then add this data to the Vega-Lite specification itself for plotting. As an alternative, Vega-Lite also accepts URLs that point to data sources either on disc or on the web for plotting. Data that you want to plot will typically be in a tabular form.</p><h2><a class="nav-anchor" id="Inline-data-1" href="#Inline-data-1">Inline data</a></h2><p>Any julia data structure data supports the iterable tables interface from the <a href="https://github.com/queryverse/TableTraits.jl">TableTraits.jl</a> package can be used as an inline data source with <a href="https://github.com/fredo-dedup/VegaLite.jl">VegaLite.jl</a>. In practice that covers most tabular data structures in the julia ecosystem: <a href="https://github.com/JuliaData/DataFrames.jl">DataFrames.jl</a>, <a href="https://github.com/JuliaComputing/JuliaDB.jl">JuliaDB.jl</a>, <a href="https://github.com/JuliaComputing/IndexedTables.jl">IndexedTables.jl</a>, various file IO packages (<a href="https://github.com/queryverse/CSVFiles.jl">CSVFiles.jl</a>, <a href="https://github.com/queryverse/FeatherFiles.jl">FeatherFiles.jl</a>, <a href="https://github.com/queryverse/ExcelFiles.jl">ExcelFiles.jl</a>, <a href="https://github.com/queryverse/StatFiles.jl">StatFiles.jl</a>, <a href="https://github.com/queryverse/ParquetFiles.jl">ParquetFiles.jl</a>) and any <a href="https://github.com/queryverse/Query.jl">Query.jl</a> result that has a tabular form.</p><p>There are two ways to add an inline data source to a Vega-Lite plot: 1) by piping the data source into a plot, or 2) by using the <code>data</code> keyword from within a <code>@vlplot</code> call.</p><h3><a class="nav-anchor" id="Piping-inline-data-1" href="#Piping-inline-data-1">Piping inline data</a></h3><p>Any tabular data can be piped into a plot by using the <code>|&gt;</code> operator. For example, to create a scatter plot of a <code>DataFrame</code> called <code>df</code> you can pipe that <code>DataFrame</code> into a specification like this:</p><pre><code class="language-julia">df |&gt; @vlplot(:point, x=:a, y=:b)</code></pre><p>As mentioned above, you are not restricted to piping <code>DataFrame</code>s into a plot, but can in fact plot any iterable table. The following example loads some data from a CSV file using <a href="https://github.com/queryverse/CSVFiles.jl">CSVFiles.jl</a>, filters it with <a href="https://github.com/queryverse/Query.jl">Query.jl</a> and then plots it with <a href="https://github.com/fredo-dedup/VegaLite.jl">VegaLite.jl</a>:</p><pre><code class="language-julia">load(&quot;my_data.csv&quot;) |&gt; @filter(_.a&gt;30) |&gt; @vlplot(:point, x=:a, y=:b)</code></pre><h3><a class="nav-anchor" id="Using-inline-data-with-the-data-keyword-1" href="#Using-inline-data-with-the-data-keyword-1">Using inline data with the <code>data</code> keyword</a></h3><p>You can also specify the inline data for a plot by using the standard <code>data</code> keyword from the Vega-Lite language. The following example creates a plot based on a <code>DataFrame</code> named <code>df</code>:</p><pre><code class="language-julia">@vlplot(:point, data=df, x=:a, y=:b)</code></pre><p>This method also accepts any iterable table.</p><h2><a class="nav-anchor" id="Referencing-external-data-1" href="#Referencing-external-data-1">Referencing external data</a></h2><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Note that some of the techniques described in this section are not yet implemented.</p></div></div><p>Sometimes it can be convenient to not embed the source data in the actual Vega-Lite specification, but instead just embed a link to some data in a file. Vega-Lite can read data in a variety of formats (CSV, TSV, JSON etc.), and you can again either pipe a reference into a plot or use the <code>data</code> keyword to specify an external link.</p><p><a href="https://github.com/fredo-dedup/VegaLite.jl">VegaLite.jl</a> uses the <code>URI</code> type from the <a href="https://github.com/JuliaWeb/URIParser.jl">URIParser.jl</a> package to represent URIs, and the <a href="https://github.com/rofinn/FilePaths.jl">FilePaths.jl</a> package to represent filesystem paths. For example, to create a path, you can use the <code>p</code> string macro:</p><pre><code class="language-julia">using FilePaths

path = p&quot;folder/filename.csv&quot;</code></pre><p>The following example creates a <code>URI</code> instance:</p><pre><code class="language-julia">using URIParser

uri = URI(&quot;https://www.foo.com/bar.csv&quot;)</code></pre><h3><a class="nav-anchor" id="Piping-paths-and-URIs-1" href="#Piping-paths-and-URIs-1">Piping paths and URIs</a></h3><p>Piping either a path or a URI into a Vega-Lite specification works the same way as piping inline data into a plot. You first have to create a path or URI, and then use the pipe operator <code>|&gt;</code>. The following code shows examples of piping both a path and a URI into a plot:</p><pre><code class="language-julia"># Piping a path into a plot

p&quot;subfolder/myfile.csv&quot; |&gt; @vlplot(:point, x=:a, y=:b)

# Piping a URI into a plot

URI(&quot;https://www.foo.com/bar.json&quot;) |&gt; @vlplot(:point, x=:a, y=:b)</code></pre><h3><a class="nav-anchor" id="Using-paths-and-URIs-with-the-data-keyword-1" href="#Using-paths-and-URIs-with-the-data-keyword-1">Using paths and URIs with the <code>data</code> keyword</a></h3><p>You can directly pass a path or URI to the <code>data</code> keyword in a <code>@vlplot</code> call, similar to how you can pass inline data:</p><pre><code class="language-julia"># Plotting data from a local file
@vlplot(:point, data=p&quot;subfolder/file.csv&quot;, x=:a, y=:b)

# Plotting data from a URI
@vlplot(:point, data=URI(&quot;https://www.foo.com/bar.json&quot;), x=:a, y=:b)</code></pre><p>Sometimes you need to specify additional configuration parameters for an external data source that are supported by the Vega-Lite specification. In that case you can also pass the path or URI instance to the <code>url</code> sub-key in the <code>data</code> part of a plot specification:</p><pre><code class="language-julia">@vlplot(
    :point,
    data={
        url=p&quot;subfolder/foo.txt&quot;,
        format={
            typ=:csv
        }
    },
    x=:a,
    y=:b
)</code></pre><footer><hr/><a class="previous" href="../vlplotmacro/"><span class="direction">Previous</span><span class="title">The @vlplot command</span></a><a class="next" href="../../examples/examples_simplecharts/"><span class="direction">Next</span><span class="title">Simple Charts</span></a></footer></article></body></html>
