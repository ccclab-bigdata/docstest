<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme · JLD.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JLD.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Quickstart-1">Quickstart</a></li><li><a class="toctext" href="#Types-and-their-definitions-1">Types and their definitions</a></li><li><a class="toctext" href="#If-you-have-performance-problems...-1">If you have performance problems...</a></li><li><a class="toctext" href="#Complete-documentation-1">Complete documentation</a></li><li><a class="toctext" href="#Credits-1">Credits</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Saving-and-loading-variables-in-Julia-Data-format-(JLD)-1" href="#Saving-and-loading-variables-in-Julia-Data-format-(JLD)-1">Saving and loading variables in Julia Data format (JLD)</a></h1><p><a href="https://travis-ci.org/JuliaIO/JLD.jl"><img src="https://travis-ci.org/JuliaIO/JLD.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://ci.appveyor.com/project/timholy/jld-jl-28dqq/branch/master"><img src="https://ci.appveyor.com/api/projects/status/o2rc8yj3qnrhn738/branch/master?svg=true" alt="Build status"/></a> <a href="http://codecov.io/github/JuliaIO/JLD.jl?branch=master"><img src="http://codecov.io/github/JuliaIO/JLD.jl/coverage.svg?branch=master" alt="codecov.io"/></a></p><p><a href="http://pkg.julialang.org/detail/JLD"><img src="http://pkg.julialang.org/badges/JLD_0.6.svg" alt="JLD"/></a></p><p>JLD, for which files conventionally have the extension <code>.jld</code>, is a widely-used format for data storage with the Julia programming language.  JLD is a specific &quot;dialect&quot; of [HDF5][HDF5], a cross-platform, multi-language data storage format most frequently used for scientific data.  By comparison with &quot;plain&quot; HDF5, JLD files automatically add attributes and naming conventions to preserve type information for each object.</p><p>For lossless storage of arbitrary Julia objects, the only other complete solution appears to be Julia&#39;s serializer, which can be accessed via the <code>serialize</code> and <code>deserialize</code> commands.  However, because the serializer is also used for inter-process communication, long-term backwards compatibility is currently uncertain.  (The <a href="https://github.com/timholy/JLDArchives.jl">JLDArchives</a> package exists to test compatibility of older JLD file formats.) If you choose to save data using the serializer, please use the file extension <code>.jls</code> to distinguish the files from <code>.jld</code> files.</p><p><strong>Note:</strong> You should only read JLD files from trusted sources, as JLD files are capable of executing arbitrary code when read in.</p><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>Within Julia, use the package manager:</p><pre><code class="language-julia">Pkg.add(&quot;JLD&quot;)</code></pre><p>Currently this also requires the <a href="https://github.com/timholy/HDF5.jl">HDF5 package</a>.</p><h2><a class="nav-anchor" id="Quickstart-1" href="#Quickstart-1">Quickstart</a></h2><p>To use the JLD module, begin your code with</p><pre><code class="language-julia">using JLD</code></pre><p>If you just want to save a few variables and don&#39;t care to use the more advanced features, then a simple syntax is:</p><pre><code class="language-julia">t = 15
z = [1,3]
save(&quot;/tmp/myfile.jld&quot;, &quot;t&quot;, t, &quot;arr&quot;, z)</code></pre><p>Here we&#39;re explicitly saving <code>t</code> and <code>z</code> as <code>&quot;t&quot;</code> and <code>&quot;arr&quot;</code> within <code>myfile.jld</code>. You can alternatively pass <code>save</code> a dictionary; the keys must be strings and are saved as the variable names of their values within the JLD file. You can read these variables back in with</p><pre><code class="language-julia">d = load(&quot;/tmp/myfile.jld&quot;)</code></pre><p>which reads the entire file into a returned dictionary <code>d</code>. Or you can be more specific and just request particular variables of interest. For example, <code>z = load(&quot;/tmp/myfile.jld&quot;, &quot;arr&quot;)</code> will return the value of <code>arr</code> from the file and assign it back to z.</p><p>JLD uses the <a href="https://github.com/JuliaIO/FileIO.jl">FileIO</a> package to provide a generic interface to <code>save</code> and <code>load</code> files. However this means that the user needs to explicitly request for the JLD format to be used while saving a new file.</p><pre><code class="language-julia">save(&quot;/tmp/foo&quot;,&quot;bar&quot;,0.0) # ambiguous
save(&quot;/tmp/foo.jld&quot;,&quot;bar&quot;,0.0) # JLD format is inferred from the file extension
using FileIO; save(File(format&quot;JLD&quot;,&quot;/tmp/foo&quot;),&quot;bar&quot;,0.0) # JLD format explicitly requested using FileIO</code></pre><p>This problem is not encountered while loading a JLD file because FileIO can use magic bytes at the beginning of the file to infer its data format.</p><p>There are also convenience macros <code>@save</code> and <code>@load</code> that work on the variables themselves. <code>@save &quot;/tmp/myfile.jld&quot; t z</code> will create a file with just <code>t</code> and <code>z</code>; if you don&#39;t mention any variables, then it saves all the variables in the current module. Conversely, <code>@load</code> will pop the saved variables directly into the global workspace of the current module. However, keep in mind that these macros have significant limitations: for example, you can&#39;t use <code>@load</code> inside a function, there are constraints on using string interpolation inside filenames, etc. These limitations stem from the fact that Julia compiles functions to machine code before evaluation, so you cannot introduce new variables at runtime or evaluate expressions in other workspaces. The <code>save</code> and <code>load</code> functions do not have these limitations, and are therefore recommended as being considerably more robust, at the cost of some slight reduction in convenience.</p><p>More fine-grained control can be obtained using functional syntax:</p><pre><code class="language-julia">jldopen(&quot;mydata.jld&quot;, &quot;w&quot;) do file
    write(file, &quot;A&quot;, A)  # alternatively, say &quot;@write file A&quot;
end

c = jldopen(&quot;mydata.jld&quot;, &quot;r&quot;) do file
    read(file, &quot;A&quot;)
end</code></pre><p>This allows you to add variables as they are generated to an open JLD file. You don&#39;t have to use the <code>do</code> syntax (<code>file = jldopen(&quot;mydata.jld&quot;, &quot;w&quot;)</code> works just fine), but an advantage is that it will automatically close the file (<code>close(file)</code>) for you, even in cases of error.</p><p>Julia&#39;s high-level wrapper, providing a dictionary-like interface, may also be of interest:</p><pre><code class="language-julia">using JLD, HDF5

jldopen(&quot;test.jld&quot;, &quot;w&quot;) do file
    g = g_create(file, &quot;mygroup&quot;) # create a group
    g[&quot;dset1&quot;] = 3.2              # create a scalar dataset inside the group
    g[&quot;dest2&quot;] = rand(2,2)
end</code></pre><p>Note that the features of HDF5 generally can also be used on JLD files.</p><h2><a class="nav-anchor" id="Types-and-their-definitions-1" href="#Types-and-their-definitions-1">Types and their definitions</a></h2><p>You can save objects that have user-defined type; in a fresh Julia session, before loading those objects these types need to be defined. If no definition is available, the JLD module will automatically create the types for you.  However, it&#39;s important to note that <code>MyType</code>, defined automatically by JLD, is not the same <code>MyType</code> as defined in an external module–-in particular, module functions will not work for types defined by JLD.  To ensure that loaded types have the full suite of behaviors provided by their definition in external modules, you should ensure that such modules are available before reading such variables from a <code>.jld</code> file.</p><p>To ensure automatic loading of modules, use <code>addrequire</code> to specify any dependencies. For example, suppose you have a file <code>&quot;MyTypes.jl&quot;</code> somewhere on your default <code>LOAD_PATH</code>, defined this way:</p><pre><code class="language-julia">module MyTypes

export MyType

type MyType
    value::Int
end

end</code></pre><p>and you have an object <code>x</code> of type <code>MyType</code>. Then save <code>x</code> in the following way:</p><pre><code class="language-julia">jldopen(&quot;somedata.jld&quot;, &quot;w&quot;) do file
    addrequire(file, MyTypes)
    write(file, &quot;x&quot;, x)
end</code></pre><p>This will cause <code>&quot;MyTypes.jl&quot;</code> to be loaded automatically whenever <code>&quot;somedata.jld&quot;</code> is opened.</p><h2><a class="nav-anchor" id="If-you-have-performance-problems...-1" href="#If-you-have-performance-problems...-1">If you have performance problems...</a></h2><p>Please see the complete documentation, particularly the section about custom serializers. </p><h2><a class="nav-anchor" id="Complete-documentation-1" href="#Complete-documentation-1">Complete documentation</a></h2><p>More extensive documentation, including information about the JLD format conventions, can be found in the <a href="doc/"><code>doc</code></a> directory.</p><p>The <a href="test/"><code>test</code></a> directory contains a number of test scripts that also demonstrate usage.</p><h2><a class="nav-anchor" id="Credits-1" href="#Credits-1">Credits</a></h2><ul><li><p>Simon Kornblith and Tim Holy (co-maintainers and primary authors)</p></li><li><p>Tom Short contributed to string-&gt;type conversion</p></li><li><p>Thanks also to the users who have reported bugs and tested fixes</p></li></ul><p>[Julia]: http://julialang.org &quot;Julia&quot; [HDF5]: http://www.hdfgroup.org/HDF5/ &quot;HDF5&quot;</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
