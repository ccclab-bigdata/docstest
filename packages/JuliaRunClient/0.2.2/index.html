<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· JuliaRunClient.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JuliaRunClient.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#APIs-1">APIs</a></li><li><a class="toctext" href="#The-API-Context-1">The API Context</a></li><li><a class="toctext" href="#APIs-2">APIs</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="JuliaRunClient-1" href="#JuliaRunClient-1">JuliaRunClient</a></h1><p>A client library to invoke with JuliaRun HTTP APIs.</p><h1><a class="nav-anchor" id="APIs-1" href="#APIs-1">APIs</a></h1><h2><a class="nav-anchor" id="The-API-Context-1" href="#The-API-Context-1">The API Context</a></h2><p>All JuliaRun APIs require a context to operate.  A JuliaRun client context consists of:</p><ul><li>URL of the JuliaRun remote server</li><li>an authentication token</li><li>namespace to operate in</li></ul><p>It can be created simply as:</p><p><code>ctx = Context()</code></p><p>Default values of all parameters are set to match those inside a JuliaRun cluster.</p><ul><li>connects to a service endpoint at &quot;juliarunremote-svc.juliarun&quot;</li><li>reads the namespace from the default secret</li><li>presents the namespace service token (also read from the default secret) for authentication</li></ul><p>Pass appropriate values for each when calling from outside the cluster.</p><p>Apart from the context, some APIs also need a job to work with. A job in JuliaRunClient is an instance of one of the <a href="JobTypes.md">Job types</a> created by passing the job name. The other required and optional parameters of a job type are needed only need to be passed to the job creation API.</p><h2><a class="nav-anchor" id="APIs-2" href="#APIs-2">APIs</a></h2><h3><a class="nav-anchor" id="getSystemStatus(ctx)-1" href="#getSystemStatus(ctx)-1"><code>getSystemStatus(ctx)</code></a></h3><p>Verifies if JuliaRun is running and is connected to a compute cluster. Returns:</p><ul><li>boolean: true/false indicating success/failure</li></ul><h3><a class="nav-anchor" id="listJobs(ctx)-1" href="#listJobs(ctx)-1"><code>listJobs(ctx)</code></a></h3><p>List all submitted jobs.</p><p>Returns:</p><ul><li>dictionary: of the form <code>{&quot;jobname&quot;: { &quot;type&quot;: &quot;JuliaBatch&quot; }...}</code></li></ul><h3><a class="nav-anchor" id="getAllJobInfo(ctx)-1" href="#getAllJobInfo(ctx)-1"><code>getAllJobInfo(ctx)</code></a></h3><p>List all submitted jobs.</p><p>Returns:</p><ul><li>dictionary: of the form <code>{&quot;jobname&quot;: { &quot;type&quot;: &quot;JuliaBatch&quot;, &quot;status&quot;: [], &quot;scale&quot;: [], &quot;endpoint&quot;: [] }...}</code></li></ul><h3><a class="nav-anchor" id="self()-1" href="#self()-1"><code>self()</code></a></h3><p>Returns the current Job.</p><h3><a class="nav-anchor" id="getJobStatus(ctx,-job)-1" href="#getJobStatus(ctx,-job)-1"><code>getJobStatus(ctx, job)</code></a></h3><p>Fetch current status of a Job.</p><p>Parameters:</p><ul><li>job: A JRunClientJob of appropriate type</li></ul><p>Returns tuple/array with:</p><ul><li>boolean: whether the job completed</li><li>integer: for a parallel job, number of workers that completed successfully</li><li>integer: for a parallel job, number of workers started</li><li>boolean: whether the job has been created (vs. scheduled)</li><li>boolean: whether this is a notebook (legacy, likely to be removed in future)</li></ul><h3><a class="nav-anchor" id="getJobScale(ctx,-job)-1" href="#getJobScale(ctx,-job)-1"><code>getJobScale(ctx, job)</code></a></h3><p>Get the current scale of a job.</p><p>Parameters:</p><ul><li>job: A JRunClientJob of appropriate type</li></ul><p>Returns tuple/array with:</p><ul><li>integer: number of workers running</li><li>integer: number of workers requested</li></ul><h3><a class="nav-anchor" id="initParallel()-1" href="#initParallel()-1"><code>initParallel()</code></a></h3><p>Initialize the current job to accept parallel workers.</p><p>Returns a reference to the Julia cluster manager instance.</p><h3><a class="nav-anchor" id="setJobScale(ctx,-job,-parallelism)-1" href="#setJobScale(ctx,-job,-parallelism)-1"><code>setJobScale(ctx, job, parallelism)</code></a></h3><p>Request to scale the job up or down to the level of parallelism requested.</p><p>Parameters:</p><ul><li>job: A JRunClientJob of appropriate type</li><li>parallelism: number of workers to scale to</li></ul><p>Returns:</p><ul><li>boolean: true/false indicating success/failure</li></ul><h3><a class="nav-anchor" id="waitForWorkers(min_workers)-1" href="#waitForWorkers(min_workers)-1"><code>waitForWorkers(min_workers)</code></a></h3><p>Wait for a certain number of workers to join.</p><h3><a class="nav-anchor" id="getJobEndpoint(ctx,-job)-1" href="#getJobEndpoint(ctx,-job)-1"><code>getJobEndpoint(ctx, job)</code></a></h3><p>Get the endpoint exposed by the job/service.</p><p>Parameters:</p><ul><li>job: A JRunClientJob of appropriate type</li></ul><p>Returns tuple/array of endpoints as URLs or IP and ports</p><h3><a class="nav-anchor" id="deleteJob(ctx,-job;-forcefalse)-1" href="#deleteJob(ctx,-job;-forcefalse)-1"><code>deleteJob(ctx, job; force=false)</code></a></h3><p>Removes the job entry from the queue.</p><p>Parameters:</p><ul><li>job: A JRunClientJob of appropriate type</li><li>force: whether to remove an incomplete job (optional, default: false)</li></ul><p>Returns:</p><ul><li>boolean: true/false indicating success/failure</li></ul><h3><a class="nav-anchor" id="tailJob(ctx,-job;-stream,-count)-1" href="#tailJob(ctx,-job;-stream,-count)-1"><code>tailJob(ctx, job; stream, count)</code></a></h3><p>Tail logs from the job.</p><p>Parameters:</p><ul><li>job: A JRunClientJob of appropriate type</li><li>stream: the stream to read from (&quot;stdout&quot;/&quot;stdin&quot;), all streams are read if not specified.</li><li>count: number of log entries to return (50 by default)</li></ul><p>Returns a string of log entries separated by new line.</p><h3><a class="nav-anchor" id="submitJob(ctx,-job;-kwargs...)-1" href="#submitJob(ctx,-job;-kwargs...)-1"><code>submitJob(ctx, job; kwargs...)</code></a></h3><p>Submit a job definition to execute on the cluster.</p><p>Parameters:</p><ul><li>job: A JRunClientJob of appropriate type</li><li>job specific parameters, with names as documented for the JobType constructor</li></ul><p>Returns nothing.</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
