<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Docstrings · Modia.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Modia.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Readme</a></li><li class="current"><a class="toctext" href>Docstrings</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Docstrings</a></li></ul></nav><hr/><div id="topbar"><span>Docstrings</span><a class="fa fa-bars" href="#"></a></div></header><pre><code class="language-none">Modia.@component</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Instantiation.@model" href="#Modia.Instantiation.@model"><code>Modia.Instantiation.@model</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@model &lt;Name&gt; begin
    &lt;declarations&gt;
    @equations begin
        &lt;equations&gt;
    end
end</code></pre><p>Fill in a <code>Model</code> instance with the given declarations and equations and assign it to a constant named &lt;Name&gt;.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.BLTandPantelides" href="#Modia.BLTandPantelides"><code>Modia.BLTandPantelides</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Module with graph theoretical methods for maximum matching, Pantelides index reduction and Tarjan&#39;s strongly connected components.</p><ul><li>Author: Hilding Elmqvist, Mogram AB  </li><li>Date: July-August 2016 (rewritten). Array version: Spring 2017</li><li>License: MIT</li></ul><p>A bipartite graph (E, V) is defined by an array of arrays. Each E-entry has an integer array of indices to V-entries. </p><p>Example bipartite graph:</p><pre><code class="language-none">G = [
  [3, 5],
  [4, 6],  
  [1, 7, 9],
  [2, 8, 9],
  [1, 2]  
]</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.BLTandPantelidesUtilities" href="#Modia.BLTandPantelidesUtilities"><code>Modia.BLTandPantelidesUtilities</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Module with utility functions for BLTandPantelides.</p><ul><li>Author: Hilding Elmqvist, Mogram AB  </li><li>Date: July-August 2016</li><li>License: MIT</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.BasicStructuralTransform" href="#Modia.BasicStructuralTransform"><code>Modia.BasicStructuralTransform</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Module for structural analysis of models.</p><ul><li>Developer: Hilding Elmqvist, Mogram AB  </li><li>First version: July-August 2016</li><li>Copyright (c) 2016-2018: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Blocks" href="#Modia.Blocks"><code>Modia.Blocks</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Modia module with block component models (inspired from Modelica Standard Library).</p><ul><li>Developer: Hilding Elmqvist, Mogram AB  </li><li>Copyright (c) 2016-2018: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Boolean" href="#Modia.Boolean"><code>Modia.Boolean</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Create a boolean <code>Variable</code></p></div></div></section><pre><code class="language-none">Modia.Date</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Electric" href="#Modia.Electric"><code>Modia.Electric</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Modia module with electric component models (inspired from Modelica Standard Library).</p><ul><li>Developer: Hilding Elmqvist, Mogram AB  </li><li>Copyright (c) 2016-2018: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul><p>The building blocks for electric components are:</p><ul><li><code>Pin</code> - The main connector representing an electrical node with variables <code>v</code> and <code>i</code>.</li><li><code>OnePort</code> - Base model for an electric device with two <code>Pin</code>s with variables    <code>v</code>, <code>i</code>, <code>p</code>, and <code>n</code>.</li></ul><p>The following functions define variables with appropriate units:</p><ul><li><code>Voltage()</code> - Electric potential</li><li><code>Current()</code> - The main flow quantity</li><li><code>Resistance()</code></li><li><code>Capacitance()</code></li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.ExactlyRemoveSingularities" href="#Modia.ExactlyRemoveSingularities"><code>Modia.ExactlyRemoveSingularities</code></a> — <span class="docstring-category">Module</span>.</div><div><div><pre><code class="language-none">module ExactlyRemoveSingularities - exactly remove singularities from A*v = 0 with A an Integer matrix.</code></pre><p>Use this module in the following way:</p><p>using ExactlyRemoveSingularities    result = removeSingularities(A,ix,iy)    # result = (iya, eqr, ix1, ix2, eqx, A1, A2)    printRemoveSingularities(A,result,names)   </p><p>where A is a dense or sparse Int matrix A[:,:] describing a linear system</p><pre><code class="language-none">A*v = 0</code></pre><p>with</p><ul><li><p>v[ix]: Variables used in the derivative operator, der(v[ix]), so these are the potential states.</p></li><li><p>v[iy]: Variables that must be solved from <code>A*v = 0</code>, because these variables do not appear in the remaining part of the model equations (e.g. absolute potentials). If variables v[iy] cannot be uniquely solved from <code>A*v = 0</code>, then in argument iya the variables are listed that must be set arbitrarily so that v[iy] can be uniquely solved from the equations. For example, if v[iy] contains the absolute potentials and no ground object is present, then v[iya] are the absolute potentials that must be explicitly set, e.g., by introducing an equation v[iya]=0, in order that the equations have a unique solution. Additionally, a warning message should be printed that v[iya] was set to 0.)</p></li></ul><p>The function return arguments are all of type Int and have the following meaning:</p><ul><li><p>iya: variables v[iya] can be arbitrarily set (iya is a sub-set of iy)</p></li><li><p>eqr: equations <code>A[eqr,:]*v = 0</code> are redundant and should be removed (they do not change the result)</p></li><li><p>ix1: x[ix1] are the dependent states (ix1 is a sub-set of ix)</p></li><li><p>ix2: i[ix2] are the independent states (ix2 is a sub-set of ix)</p></li><li><p>eqx, A1, A2: equations <code>A[eqx,:]*v = 0</code> should be replaced by the equations <code>A1*x1 + A2*x2 = 0</code>, where A1 is square, upper triangular and has full rank with A1[i,i] != 0. In other words, x1 can be computed explicitely from these equations given x2.</p></li></ul><p>The calling program should do the following:</p><ul><li>Remove equations <code>A[eqr,:]*v = 0</code>, because these are redundant equations.</li><li>Replace equations <code>A[eqx,:]*v = 0</code> by <code>A1*x1 + A2*x2 = 0</code>, in order that index reduction can be performed by a structural algorithm (e.g. Pantelides algorithm).</li><li>Introduce equations v[iya] = 0 and print a warning message that these variables have been arbitrarily set to zero. This is needed, in order that the equations have a unique solution.</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Execution" href="#Modia.Execution"><code>Modia.Execution</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Modia module for executing a model including code generation and calling DAE solver.</p><ul><li>Original developer: Toivo Henningsson, Lund</li><li>Developer: Hilding Elmqvist, Mogram AB</li><li>Copyright (c) 2016-2018: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Float" href="#Modia.Float"><code>Modia.Float</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Create a floating-point <code>Variable</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Instantiation" href="#Modia.Instantiation"><code>Modia.Instantiation</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Modia module for instantiation and flattening of models.</p><ul><li>Original developer: Toivo Henningsson, Lund</li><li>Developer: Hilding Elmqvist, Mogram AB</li><li>Copyright (c) 2016-2019: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Integ" href="#Modia.Integ"><code>Modia.Integ</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Create an integer <code>Variable</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.ModelElaboration" href="#Modia.ModelElaboration"><code>Modia.ModelElaboration</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Modia module for elaboration of models.</p><ul><li>Developer: Hilding Elmqvist, Mogram AB  </li><li>First version: July-August 2016</li><li>Copyright (c) 2016-2018: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Modia" href="#Modia.Modia"><code>Modia.Modia</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Modia - Dynamic Modeling and Simulation in Julia</p><p>To define a model:</p><pre><code class="language-julia">  @model FirstOrder begin
     x = Variable(start=1)   # start means x(0)
     T = Parameter(0.5)      # Time constant
     u = 2.0                 # Same as Parameter(2.0)
  @equations begin
     T*der(x) + x = u        # der() means time derivative
     end
  end;</code></pre><p>To simulate a model:</p><pre><code class="language-julia">  result = simulate(FirstOrder, 2);
  @show result[&quot;x&quot;][end];
  ModiaMath.plot(result, &quot;x&quot;)</code></pre><p>To run examples:</p><pre><code class="language-julia">  include(&quot;/home/pfitzseb/.julia/packages/Modia/k0HTn/examples/runexamples.jl&quot;)</code></pre><p>To run tests:</p><pre><code class="language-julia">  include(&quot;/home/pfitzseb/.julia/packages/Modia/k0HTn/test/runtests.jl&quot;)</code></pre><p>For more information, see (https://github.com/ModiaSim/Modia.jl/blob/master/README.md)</p></div></div></section><pre><code class="language-none">Modia.ModiaDir</code></pre><pre><code class="language-none">Modia.ModiaLogging</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Par" href="#Modia.Par"><code>Modia.Par</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Shortcut for <code>Parameter</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Parameter" href="#Modia.Parameter"><code>Modia.Parameter</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Create a <code>Variable</code> with <code>parameter</code> variability, meaning it  is an input variable that is constant with time</p></div></div></section><pre><code class="language-none">Modia.Property</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Rotational" href="#Modia.Rotational"><code>Modia.Rotational</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Modia module with rotational component models (inspired from Modelica Standard Library).</p><ul><li>Developer: Hilding Elmqvist, Mogram AB  </li><li>Copyright (c) 2016-2018: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul></div></div></section><pre><code class="language-none">Modia.StateSelection</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Str" href="#Modia.Str"><code>Modia.Str</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Create a string <code>Variable</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.StructuralTransform" href="#Modia.StructuralTransform"><code>Modia.StructuralTransform</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Module for structural transformation of models including alias handling and size and type deduction.</p><ul><li>Developer: Hilding Elmqvist, Mogram AB  </li><li>First version: July-August 2016</li><li>Copyright (c) 2016-2019: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.SymbolicTransform" href="#Modia.SymbolicTransform"><code>Modia.SymbolicTransform</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Module for symbolic transformation of models.</p><ul><li>Developer: Hilding Elmqvist, Mogram AB  </li><li>First version: July-September 2016</li><li>License: MIT (expat)</li></ul><p>Reference: For matrix formulas, see: Petersen, K.B, Pedersen M.S.: The Matrix Cookbook https://www.math.uwaterloo.ca/~hwolkowi/matrixcookbook.pdf</p></div></div></section><pre><code class="language-none">Modia.Synchronous</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Utilities" href="#Modia.Utilities"><code>Modia.Utilities</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Modia module with utility functions.</p><ul><li>Developer: Hilding Elmqvist, Mogram AB</li><li>First version: July 2016</li><li>Copyright (c) 2016-2018: Hilding Elmqvist, Toivo Henningsson, Martin Otter</li><li>License: MIT (expat)</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Var" href="#Modia.Var"><code>Modia.Var</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Shortcut for <code>Variable</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Instantiation.Variability" href="#Modia.Instantiation.Variability"><code>Modia.Instantiation.Variability</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Enum for variability of a variable</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/80516ca20297a67b996caa08c38786332379b6a5/base/#L0">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Instantiation.Variable" href="#Modia.Instantiation.Variable"><code>Modia.Instantiation.Variable</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>A constructor for a <code>Variable</code>, the main object for a model variable with attributes</p><p><strong>Keyword arguments</strong></p><ul><li><code>value = undefined</code>: the value of the Variable</li><li><code>info = &quot;&quot;</code>: documentation string</li><li><code>unit</code>: unit of measure: defaults to no units unless provided with the <code>value</code></li><li><code>displayUnit = unit</code>: unit used for display</li><li><code>min = undefined</code>: minimum value</li><li><code>max = undefined</code>: maximum value</li><li><code>start = undefined</code>: starting value</li><li><code>fixed::Bool = false</code>: fixed value</li><li><code>nominal = undefined</code>: nominal value</li><li><code>variability = continuous</code>: other options include <code>parameter</code>, <code>constant</code>, or <code>discrete</code></li><li><code>T</code>: type of the value; taken from <code>value</code></li><li><code>size::Tuple = ()</code>: size of the variable</li><li><code>flow::Bool = false</code>: indicates a flow variable for connectors</li><li><code>state::Bool = true</code>: indicates a state Variable</li><li><code>property = general</code>: other options include <code>symmetric</code>, <code>orthogonal</code>, and <code>rotationGroup3D</code></li></ul></div></div></section><pre><code class="language-none">Modia.Version</code></pre><pre><code class="language-none">Modia.addComponent!</code></pre><pre><code class="language-none">Modia.allInstances</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.ModelElaboration.checkSimulation" href="#Modia.ModelElaboration.checkSimulation"><code>Modia.ModelElaboration.checkSimulation</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">function checkSimulation(mod, stopTime, observer, finalSolution; options...)</code></pre><p>Simulates model mod until stopTime and checks that the final value of the observer variable is approximately finalSolution. The following options are available:</p><ul><li><code>logTranslation</code>: determines if logging of the translation is performed</li><li>...</li></ul></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Instantiation.constant" href="#Modia.Instantiation.constant"><code>Modia.Instantiation.constant</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Indicates a constant valued variable</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Instantiation.continuous" href="#Modia.Instantiation.continuous"><code>Modia.Instantiation.continuous</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Indicates a continuous variable</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Instantiation.discrete" href="#Modia.Instantiation.discrete"><code>Modia.Instantiation.discrete</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Indicates a discrete variable</p></div></div></section><pre><code class="language-none">Modia.eval</code></pre><pre><code class="language-none">Modia.general</code></pre><pre><code class="language-none">Modia.include</code></pre><pre><code class="language-none">Modia.orthogonal</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.Instantiation.parameter" href="#Modia.Instantiation.parameter"><code>Modia.Instantiation.parameter</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Indicates an input value that stays constant with time</p></div></div></section><pre><code class="language-none">Modia.rotationGroup3D</code></pre><pre><code class="language-none">Modia.simulate</code></pre><pre><code class="language-none">Modia.simulateModel</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.ModelElaboration.simulateMultiModeModel" href="#Modia.ModelElaboration.simulateMultiModeModel"><code>Modia.ModelElaboration.simulateMultiModeModel</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Experimental code for multi-mode handling with impulses.</p></div></div></section><pre><code class="language-none">Modia.skew</code></pre><pre><code class="language-none">Modia.skewCoords</code></pre><pre><code class="language-none">Modia.symmetric</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Modia.undefined" href="#Modia.undefined"><code>Modia.undefined</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>A value meant to be filled in later</p></div></div></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Readme</span></a></footer></article></body></html>
