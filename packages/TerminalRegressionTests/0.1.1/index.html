<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· TerminalRegressionTests.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>TerminalRegressionTests.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Usage-1">Usage</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="TerminalRegressionTests-Test-your-terminal-UIs-for-regressions-1" href="#TerminalRegressionTests-Test-your-terminal-UIs-for-regressions-1">TerminalRegressionTests - Test your terminal UIs for regressions</a></h1><p><a href="https://travis-ci.org/Keno/TerminalRegressionTests.jl"><img src="https://travis-ci.org/Keno/VT100.jl.svg?branch=master" alt="Build Status"/></a></p><p>This package builds upon the <a href="https://github.com/Keno/VT100.jl">VT100.jl</a> package to provide automated testing of terminal based application. Both plain text and formatted output is supported. Each test consists of</p><ul><li>The system under test (specified as a callback)</li><li>A file specifying the expected output</li><li>A series of input prompts</li></ul><p>The main interface is the <code>automated_test</code> function, which takes these three components as arguemnts. There is also the <code>create_automated_test</code> function, which has the same interface, but will create the output file rather than verifying against it. The operation of the test is fairly simple:</p><ol><li>An input is popped from the list of inputs</li><li>The input is provided to the system under test</li><li>The system under test is allowed to process the input until the system is done processing the input and has started blocking until new input is available</li><li>The output that the system writes is compared to the output file.</li><li>Repeat</li></ol><h1><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h1><p>Consider the following example:</p><pre><code class="language-none">TerminalRegressionTests.automated_test(
                joinpath(thisdir,&quot;TRT.multiout&quot;),
                [&quot;Julia\n&quot;,&quot;Yes!!\n&quot;]) do emuterm
    print(emuterm, &quot;Please enter your name: &quot;)
    name = strip(readline(emuterm))
    print(emuterm, &quot;\nHello $name. Do you like tests? &quot;)
    resp = strip(readline(emuterm))
    @assert resp == &quot;Yes!!&quot;
end</code></pre><p>Note that the callback gets an <code>emuterm</code> as an argument. This is an emulated VT100 terminal and supports the usual operation. Note that this terminal is the view from the program under test (i.e. reads from this terminal will obtain the specified input data).</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
