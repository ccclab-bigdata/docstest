<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· VisualRegressionTests.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>VisualRegressionTests.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#Usage:-1">Usage:</a></li><li><a class="toctext" href="#Example-GUI-popup:-1">Example GUI popup:</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="VisualRegressionTests.jl-1" href="#VisualRegressionTests.jl-1">VisualRegressionTests.jl</a></h1><p>Easy regression testing for visual packages. Automated tests compare similarity between a newly generated image and a reference image using the Images package. While in interactive mode, the tests can optionally pop up a Gtk GUI window showing a side-by-side comparison of the test and reference image, and then optionally overwrite the reference image with the test image. This allows for straightforward regression testing of image data, even when the &quot;correct&quot; images change over time.</p><h4><a class="nav-anchor" id="Author:-Thomas-Breloff-(@tbreloff)-1" href="#Author:-Thomas-Breloff-(@tbreloff)-1">Author: Thomas Breloff (@tbreloff)</a></h4><p><a href="https://travis-ci.org/tbreloff/VisualRegressionTests.jl"><img src="https://travis-ci.org/tbreloff/VisualRegressionTests.jl.svg?branch=master" alt="Build Status"/></a></p><h2><a class="nav-anchor" id="Usage:-1" href="#Usage:-1">Usage:</a></h2><p>Two macros are provided that can be used to perform visual regression. The first macro is for general visual objects:</p><pre><code class="language-julia">@visualtest testfun refimg popup tol</code></pre><p>where:</p><ul><li><code>testfun</code> is a function that takes a filename as input, produces a visual, and saves it to disk:</li></ul><pre><code class="language-julia">function testfun(fname)
  visual = produce() # produce some visual object
  save(fname, visual) # save visual to file using filename
end</code></pre><ul><li><p><code>refimg</code> is the filename where to save the reference image for regression testing</p></li><li><p><code>popup</code> tells whether or not a Gtk popup window should be shown in case of mismatch (default to true)</p></li><li><p><code>tol</code> the tolerance of the comparison (default to 0.02)</p></li></ul><p>The second macro is for plots generated with Plots.jl:</p><pre><code class="language-julia">@plottest plotfun refimg popup tol</code></pre><p>where the only difference is in the <code>plotfun</code> function. In this case, the function should take no argument, and produce a plot, without saving it. The macro will take care of saving the image as a PNG in the disk. Alternatively, the <code>plotfun</code> argument can be an entire sequence of commands (i.e. a function body):</p><pre><code class="language-julia">@plottest begin
  plot([1.,2.,3.])
  plot!([3.,2.,1.])
  # ...
end true 0.02</code></pre><h2><a class="nav-anchor" id="Example-GUI-popup:-1" href="#Example-GUI-popup:-1">Example GUI popup:</a></h2><p><img src="popup.png" alt="popup"/></p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
