<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>A first example: GUI controls Â· GtkReactive</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>GtkReactive</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li class="current"><a class="toctext" href>A first example: GUI controls</a><ul class="internal"></ul></li><li><a class="toctext" href="../drawing/">A simple drawing program</a></li><li><a class="toctext" href="../zoom_pan/">Zoom and pan</a></li><li><a class="toctext" href="../reference/">Reference</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>A first example: GUI controls</a></li></ul></nav><hr/><div id="topbar"><span>A first example: GUI controls</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="A-first-example:-GUI-controls-1" href="#A-first-example:-GUI-controls-1">A first example: GUI controls</a></h1><p>Let&#39;s create a <code>slider</code> object:</p><pre><code class="language-julia-repl">julia&gt; using Gtk.ShortNames, GtkReactive

julia&gt; sl = slider(1:11)
Gtk.GtkScaleLeaf with 1: &quot;input&quot; = 6 Int64

julia&gt; typeof(sl)
GtkReactive.Slider{Int64}</code></pre><p>A <code>GtkReactive.Slider</code> holds two important objects: a <code>Signal</code> (encoding the &quot;state&quot; of the widget) and a <code>GtkWidget</code> (which controls the on-screen display). We can extract both of these components:</p><pre><code class="language-julia-repl">julia&gt; signal(sl)
1: &quot;input&quot; = 6 Int64

julia&gt; typeof(widget(sl))
Gtk.GtkScaleLeaf</code></pre><p>(If you omitted the <code>typeof</code>, you&#39;d instead see a long display that encodes the settings of the <code>GtkScaleLeaf</code> widget.)</p><p>At present, this slider is not affiliated with any window. Let&#39;s create one and add the slider to the window. We&#39;ll put it inside a <code>Box</code> so that we can later add more things to this GUI (this illustrates usage of some of <a href="http://juliagraphics.github.io/Gtk.jl/latest/manual/layout.html">Gtk&#39;s layout tools</a>:</p><pre><code class="language-julia-repl">julia&gt; win = Window(&quot;Testing&quot;) |&gt; (bx = Box(:v));  # a window containing a vertical Box for layout

julia&gt; push!(bx, sl);    # put the slider in the box, shorthand for push!(bx, widget(sl))

julia&gt; Gtk.showall(win);</code></pre><p>Because of the <code>showall</code>, you should now see a window with your slider in it:</p><p><img src="../assets/slider1.png" alt="slider1"/></p><p>The value should be 6, set to the median of the range <code>1:11</code> that we used to create <code>sl</code>. Now drag the slider all the way to the right, and then see what happened to <code>sl</code>:</p><pre><code class="language-julia-repl">julia&gt; sl
Gtk.GtkScaleLeaf with 1: &quot;input&quot; = 11 Int64</code></pre><p>You can see that dragging the slider caused the value of the signal to update. Let&#39;s do the converse, and set the value of the slider programmatically:</p><pre><code class="language-julia-repl">julia&gt; push!(sl, 1)  # shorthand for push!(signal(sl), 1)</code></pre><p>Now if you check the window, you&#39;ll see that the slider is at 1.</p><p>Realistic GUIs may have many different widgets. Let&#39;s add a second way to adjust the value of that signal, by allowing the user to type a value into a textbox:</p><pre><code class="language-julia-repl">julia&gt; tb = textbox(Int; signal=signal(sl))
Gtk.GtkEntryLeaf with 1: &quot;input&quot; = 1 Int64

julia&gt; push!(bx, tb);

julia&gt; Gtk.showall(win);</code></pre><p><img src="../assets/slider2.png" alt="slider2"/></p><p>Here we created the textbox in a way that shared the signal of <code>sl</code> with the textbox; consequently, the textbox updates when you move the slider, and the slider moves when you enter a new value into the textbox. <code>push!</code>ing a value to <code>signal(sl)</code> updates both.</p><p>Another example of connecting a widget with a signal is using a <code>button</code> to allow updates to propagate to a second <code>Signal</code>:</p><pre><code class="language-none">a = button(&quot;a&quot;)
x = Signal(1)
y_temp = map(sin, x)    # see the Reactive.jl documentation for info about using `map`
y = map(_ -&gt; value(y_temp), a)</code></pre><p>Subsequent <code>push!</code>es into <code>x</code> will update <code>y_temp</code>, but not <code>y</code>. Only after the user presses on the <code>a</code> button does <code>y</code> get updated with the last value of <code>y_temp</code>.</p><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Introduction</span></a><a class="next" href="../drawing/"><span class="direction">Next</span><span class="title">A simple drawing program</span></a></footer></article></body></html>
