<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Constraints · PowerModels</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-367975-10', 'auto');
ga('send', 'pageview');
</script><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PowerModels</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../quickguide/">Getting Started</a></li><li><a class="toctext" href="../network-data/">Network Data Format</a></li><li><a class="toctext" href="../result-data/">Result Data Format</a></li><li><a class="toctext" href="../math-model/">Mathematical Model</a></li><li><a class="toctext" href="../storage/">Storage Model</a></li><li><a class="toctext" href="../utilities/">Utilities</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../formulations/">Network Formulations</a></li><li><a class="toctext" href="../specifications/">Problem Specifications</a></li><li><span class="toctext">Modeling Components</span><ul><li><a class="toctext" href="../model/">PowerModel</a></li><li><a class="toctext" href="../objective/">Objective</a></li><li><a class="toctext" href="../variables/">Variables</a></li><li class="current"><a class="toctext" href>Constraints</a><ul class="internal"><li><a class="toctext" href="#Constraint-Templates-1">Constraint Templates</a></li><li><a class="toctext" href="#Generator-Constraints-1">Generator Constraints</a></li><li><a class="toctext" href="#Bus-Constraints-1">Bus Constraints</a></li><li><a class="toctext" href="#Branch-Constraints-1">Branch Constraints</a></li><li><a class="toctext" href="#DC-Line-Constraints-1">DC Line Constraints</a></li><li><a class="toctext" href="#Commonly-Used-Constraints-1">Commonly Used Constraints</a></li></ul></li></ul></li><li><a class="toctext" href="../relaxations/">Relaxation Schemes</a></li><li><a class="toctext" href="../parser/">File IO</a></li></ul></li><li><span class="toctext">Developer</span><ul><li><a class="toctext" href="../developer/">Developer</a></li><li><a class="toctext" href="../formulation-details/">Formulation Details</a></li></ul></li><li><a class="toctext" href="../experiment-results/">Experiment Results</a></li></ul></nav><article id="docs"><header><nav><ul><li>Library</li><li>Modeling Components</li><li><a href>Constraints</a></li></ul></nav><hr/><div id="topbar"><span>Constraints</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Constraints-1" href="#Constraints-1">Constraints</a></h1><h2><a class="nav-anchor" id="Constraint-Templates-1" href="#Constraint-Templates-1">Constraint Templates</a></h2><p>Constraint templates help simplify data wrangling across multiple Power Flow formulations by providing an abstraction layer between the network data and network constraint definitions. The constraint template&#39;s job is to extract the required parameters from a given network data structure and pass the data as named arguments to the Power Flow formulations.</p><p>These templates should be defined over <code>GenericPowerModel</code> and should not refer to model variables. For more details, see the files: <code>core/constraint_template.jl</code> and <code>core/constraint.jl</code>.</p><h2><a class="nav-anchor" id="Generator-Constraints-1" href="#Generator-Constraints-1">Generator Constraints</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_active_gen_setpoint" href="#PowerModels.constraint_active_gen_setpoint"><code>PowerModels.constraint_active_gen_setpoint</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>pg[i] == pg</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_reactive_gen_setpoint" href="#PowerModels.constraint_reactive_gen_setpoint"><code>PowerModels.constraint_reactive_gen_setpoint</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>qq[i] == qq</code></p></div></div><div><div><p>do nothing, apo models do not have reactive variables</p></div></div></section><h2><a class="nav-anchor" id="Bus-Constraints-1" href="#Bus-Constraints-1">Bus Constraints</a></h2><h3><a class="nav-anchor" id="Setpoint-Constraints-1" href="#Setpoint-Constraints-1">Setpoint Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_theta_ref" href="#PowerModels.constraint_theta_ref"><code>PowerModels.constraint_theta_ref</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p>reference bus angle constraint</p></div></div><div><div><p><code>t[ref_bus] == 0</code></p></div></div><div><div><p>nothing to do, no voltage angle variables</p></div></div><div><div><p><code>t[ref_bus] == 0</code></p></div></div><div><div><p><code>t[ref_bus] == 0</code></p></div></div><div><div><p>Do nothing, no way to represent this in these variables</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_voltage_magnitude_setpoint" href="#PowerModels.constraint_voltage_magnitude_setpoint"><code>PowerModels.constraint_voltage_magnitude_setpoint</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>v[i] == vm</code></p></div></div><div><div><p><code>v[i] == vm</code></p></div></div><div><div><p>do nothing, this model does not have voltage variables</p></div></div><div><div></div></div></section><h3><a class="nav-anchor" id="KCL-Constraints-1" href="#KCL-Constraints-1">KCL Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_kcl_shunt" href="#PowerModels.constraint_kcl_shunt"><code>PowerModels.constraint_kcl_shunt</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><pre><code class="language-none">sum(p[a] for a in bus_arcs) + sum(p_dc[a_dc] for a_dc in bus_arcs_dc) == sum(pg[g] for g in bus_gens) - sum(pd[d] for d in bus_loads) - sum(gs[s] for s in bus_shunts)*v^2
sum(q[a] for a in bus_arcs) + sum(q_dc[a_dc] for a_dc in bus_arcs_dc) == sum(qg[g] for g in bus_gens) - sum(qd[d] for d in bus_loads) + sum(bs[s] for s in bus_shunts)*v^2</code></pre></div></div><div><div></div></div><div><div></div></div><div><div><pre><code class="language-none">sum(p[a] for a in bus_arcs) + sum(p_dc[a_dc] for a_dc in bus_arcs_dc) == sum(pg[g] for g in bus_gens) - sum(pd[d] for d in bus_loads) - sum(gs[s] for d in bus_shunts)*w[i]
sum(q[a] for a in bus_arcs) + sum(q_dc[a_dc] for a_dc in bus_arcs_dc) == sum(qg[g] for g in bus_gens) - sum(qd[d] for d in bus_loads) + sum(bs[s] for d in bus_shunts)*w[i]</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_kcl_shunt_ne" href="#PowerModels.constraint_kcl_shunt_ne"><code>PowerModels.constraint_kcl_shunt_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><pre><code class="language-none">sum(p[a] for a in bus_arcs) + sum(p_dc[a_dc] for a_dc in bus_arcs_dc) + sum(p_ne[a] for a in bus_arcs_ne) == sum(pg[g] for g in bus_gens) - sum(pd[d] for d in bus_loads) - sum(gs[s] for s in bus_shunts)*vm^2
sum(q[a] for a in bus_arcs) + sum(p_dc[a_dc] for a_dc in bus_arcs_dc) + sum(q_ne[a] for a in bus_arcs_ne) == sum(qg[g] for g in bus_gens) - sum(qd[d] for d in bus_loads) + sum(bs[s] for s in bus_shunts)*vm^2</code></pre></div></div><div><div></div></div><div><div><pre><code class="language-none">sum(p[a] for a in bus_arcs) + sum(p_ne[a] for a in bus_arcs_ne) + sum(p_dc[a_dc] for a_dc in bus_arcs_dc) == sum(pg[g] for g in bus_gens) - sum(pd[d] for d in bus_loads) - sum(gs[s] for s in bus_shunts)*w[i]
sum(q[a] for a in bus_arcs) + sum(q_ne[a] for a in bus_arcs_ne) + sum(q_dc[a_dc] for a_dc in bus_arcs_dc) == sum(qg[g] for g in bus_gens) - sum(qd[d] for d in bus_loads) + sum(bs[s] for s in bus_shunts)*w[i]</code></pre></div></div></section><h2><a class="nav-anchor" id="Branch-Constraints-1" href="#Branch-Constraints-1">Branch Constraints</a></h2><h3><a class="nav-anchor" id="Ohm&#39;s-Law-Constraints-1" href="#Ohm&#39;s-Law-Constraints-1">Ohm&#39;s Law Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_ohms_yt_from" href="#PowerModels.constraint_ohms_yt_from"><code>PowerModels.constraint_ohms_yt_from</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p><pre><code class="language-none">p[f_idx] ==  (g+g_fr)/tm*v[f_bus]^2 + (-g*tr+b*ti)/tm*(v[f_bus]*v[t_bus]*cos(t[f_bus]-t[t_bus])) + (-b*tr-g*ti)/tm*(v[f_bus]*v[t_bus]*sin(t[f_bus]-t[t_bus]))
q[f_idx] == -(b+b_fr)/tm*v[f_bus]^2 - (-b*tr-g*ti)/tm*(v[f_bus]*v[t_bus]*cos(t[f_bus]-t[t_bus])) + (-g*tr+b*ti)/tm*(v[f_bus]*v[t_bus]*sin(t[f_bus]-t[t_bus]))</code></pre></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p><pre><code class="language-none">p[f_idx] == -b*(t[f_bus] - t[t_bus])</code></pre></div></div><div><div><p>nothing to do, no voltage angle variables</p></div></div><div><div></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_ohms_yt_to" href="#PowerModels.constraint_ohms_yt_to"><code>PowerModels.constraint_ohms_yt_to</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p><pre><code class="language-none">p[t_idx] ==  (g+g_to)*v[t_bus]^2 + (-g*tr-b*ti)/tm*(v[t_bus]*v[f_bus]*cos(t[t_bus]-t[f_bus])) + (-b*tr+g*ti)/tm*(v[t_bus]*v[f_bus]*sin(t[t_bus]-t[f_bus]))
q[t_idx] == -(b+b_to)*v[t_bus]^2 - (-b*tr+g*ti)/tm*(v[t_bus]*v[f_bus]*cos(t[f_bus]-t[t_bus])) + (-g*tr-b*ti)/tm*(v[t_bus]*v[f_bus]*sin(t[t_bus]-t[f_bus]))</code></pre></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p></div></div><div><div><p>nothing to do, this model is symetric</p></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p></div></div><div><div></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_ohms_y_from" href="#PowerModels.constraint_ohms_y_from"><code>PowerModels.constraint_ohms_y_from</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p>Creates Ohms constraints for AC models (y post fix indicates that Y values are in rectangular form)</p><pre><code class="language-none">p[f_idx] ==  (g+g_fr)*(v[f_bus]/tr)^2 + -g*v[f_bus]/tr*v[t_bus]*cos(t[f_bus]-t[t_bus]-as) + -b*v[f_bus]/tr*v[t_bus]*sin(t[f_bus]-t[t_bus]-as)
q[f_idx] == -(b+b_fr)*(v[f_bus]/tr)^2 + b*v[f_bus]/tr*v[t_bus]*cos(t[f_bus]-t[t_bus]-as) + -g*v[f_bus]/tr*v[t_bus]*sin(t[f_bus]-t[t_bus]-as)</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_ohms_y_to" href="#PowerModels.constraint_ohms_y_to"><code>PowerModels.constraint_ohms_y_to</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p>Creates Ohms constraints for AC models (y post fix indicates that Y values are in rectangular form)</p><pre><code class="language-none">p[t_idx] == (g+g_to)*v[t_bus]^2 + -g*v[t_bus]*v[f_bus]/tr*cos(t[t_bus]-t[f_bus]+as) + -b*v[t_bus]*v[f_bus]/tr*sin(t[t_bus]-t[f_bus]+as)
q_to == -(b+b_to)*v[t_bus]^2 + b*v[t_bus]*v[f_bus]/tr*cos(t[f_bus]-t[t_bus]+as) + -g*v[t_bus]*v[f_bus]/tr*sin(t[t_bus]-t[f_bus]+as)</code></pre></div></div></section><h3><a class="nav-anchor" id="On/Off-Ohm&#39;s-Law-Constraints-1" href="#On/Off-Ohm&#39;s-Law-Constraints-1">On/Off Ohm&#39;s Law Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_ohms_yt_from_on_off" href="#PowerModels.constraint_ohms_yt_from_on_off"><code>PowerModels.constraint_ohms_yt_from_on_off</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><pre><code class="language-none">p[f_idx] == z*(g/tm*v[f_bus]^2 + (-g*tr+b*ti)/tm*(v[f_bus]*v[t_bus]*cos(t[f_bus]-t[t_bus])) + (-b*tr-g*ti)/tm*(v[f_bus]*v[t_bus]*sin(t[f_bus]-t[t_bus])))
q[f_idx] == z*(-(b+c/2)/tm*v[f_bus]^2 - (-b*tr-g*ti)/tm*(v[f_bus]*v[t_bus]*cos(t[f_bus]-t[t_bus])) + (-g*tr+b*ti)/tm*(v[f_bus]*v[t_bus]*sin(t[f_bus]-t[t_bus])))</code></pre></div></div><div><div><p><code>-b*(t[f_bus] - t[t_bus] + vad_min*(1-branch_z[i])) &lt;= p[f_idx] &lt;= -b*(t[f_bus] - t[t_bus] + vad_max*(1-branch_z[i]))</code></p></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p><pre><code class="language-none">p[f_idx] ==        g/tm*w_fr[i] + (-g*tr+b*ti)/tm*(wr[i]) + (-b*tr-g*ti)/tm*(wi[i])
q[f_idx] == -(b+c/2)/tm*w_fr[i] - (-b*tr-g*ti)/tm*(wr[i]) + (-g*tr+b*ti)/tm*(wi[i])</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_ohms_yt_to_on_off" href="#PowerModels.constraint_ohms_yt_to_on_off"><code>PowerModels.constraint_ohms_yt_to_on_off</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><pre><code class="language-none">p[t_idx] == z*(g*v[t_bus]^2 + (-g*tr-b*ti)/tm*(v[t_bus]*v[f_bus]*cos(t[t_bus]-t[f_bus])) + (-b*tr+g*ti)/tm*(v[t_bus]*v[f_bus]*sin(t[t_bus]-t[f_bus])))
q[t_idx] == z*(-(b+c/2)*v[t_bus]^2 - (-b*tr+g*ti)/tm*(v[t_bus]*v[f_bus]*cos(t[f_bus]-t[t_bus])) + (-g*tr-b*ti)/tm*(v[t_bus]*v[f_bus]*sin(t[t_bus]-t[f_bus])))</code></pre></div></div><div><div><p>nothing to do, this model is symetric</p></div></div><div><div></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p><pre><code class="language-none">p[t_idx] ==        g*w_to[i] + (-g*tr-b*ti)/tm*(wr[i]) + (-b*tr+g*ti)/tm*(-wi[i])
q[t_idx] == -(b+c/2)*w_to[i] - (-b*tr+g*ti)/tm*(wr[i]) + (-g*tr-b*ti)/tm*(-wi[i])</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_ohms_yt_from_ne" href="#PowerModels.constraint_ohms_yt_from_ne"><code>PowerModels.constraint_ohms_yt_from_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><pre><code class="language-none">p_ne[f_idx] == z*(g/tm*v[f_bus]^2 + (-g*tr+b*ti)/tm*(v[f_bus]*v[t_bus]*cos(t[f_bus]-t[t_bus])) + (-b*tr-g*ti)/tm*(v[f_bus]*v[t_bus]*sin(t[f_bus]-t[t_bus])))
q_ne[f_idx] == z*(-(b+c/2)/tm*v[f_bus]^2 - (-b*tr-g*ti)/tm*(v[f_bus]*v[t_bus]*cos(t[f_bus]-t[t_bus])) + (-g*tr+b*ti)/tm*(v[f_bus]*v[t_bus]*sin(t[f_bus]-t[t_bus])))</code></pre></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p><pre><code class="language-none">p[f_idx] == g/tm*w_fr_ne[i] + (-g*tr+b*ti)/tm*(wr_ne[i]) + (-b*tr-g*ti)/tm*(wi_ne[i])
q[f_idx] == -(b+c/2)/tm*w_fr_ne[i] - (-b*tr-g*ti)/tm*(wr_ne[i]) + (-g*tr+b*ti)/tm*(wi_ne[i])</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_ohms_yt_to_ne" href="#PowerModels.constraint_ohms_yt_to_ne"><code>PowerModels.constraint_ohms_yt_to_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><pre><code class="language-none">p_ne[t_idx] == z*(g*v[t_bus]^2 + (-g*tr-b*ti)/tm*(v[t_bus]*v[f_bus]*cos(t[t_bus]-t[f_bus])) + (-b*tr+g*ti)/tm*(v[t_bus]*v[f_bus]*sin(t[t_bus]-t[f_bus])))
q_ne[t_idx] == z*(-(b+c/2)*v[t_bus]^2 - (-b*tr+g*ti)/tm*(v[t_bus]*v[f_bus]*cos(t[f_bus]-t[t_bus])) + (-g*tr-b*ti)/tm*(v[t_bus]*v[f_bus]*sin(t[t_bus]-t[f_bus])))</code></pre></div></div><div><div><p>nothing to do, this model is symetric</p></div></div><div><div></div></div><div><div><p>Creates Ohms constraints (yt post fix indicates that Y and T values are in rectangular form)</p><pre><code class="language-none">p[t_idx] == g*w_to_ne[i] + (-g*tr-b*ti)/tm*(wr_ne[i]) + (-b*tr+g*ti)/tm*(-wi_ne[i])
q[t_idx] == -(b+c/2)*w_to_ne[i] - (-b*tr+g*ti)/tm*(wr_ne[i]) + (-g*tr-b*ti)/tm*(-wi_ne[i])</code></pre></div></div></section><h3><a class="nav-anchor" id="Current-1" href="#Current-1">Current</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_power_magnitude_sqr" href="#PowerModels.constraint_power_magnitude_sqr"><code>PowerModels.constraint_power_magnitude_sqr</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>p[f_idx]^2 + q[f_idx]^2 &lt;= w[f_bus]/tm*cm[f_bus,t_bus]</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_power_magnitude_link" href="#PowerModels.constraint_power_magnitude_link"><code>PowerModels.constraint_power_magnitude_link</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>cm[f_bus,t_bus] == (g^2 + b^2)*(w[f_bus]/tm + w[t_bus] - 2*(tr*wr[f_bus,t_bus] + ti*wi[f_bus,t_bus])/tm) - c*q[f_idx] - ((c/2)/tm)^2*w[f_bus]</code></p></div></div></section><h3><a class="nav-anchor" id="Thermal-Limit-Constraints-1" href="#Thermal-Limit-Constraints-1">Thermal Limit Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_thermal_limit_from" href="#PowerModels.constraint_thermal_limit_from"><code>PowerModels.constraint_thermal_limit_from</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">constraint_thermal_limit_from(pm::GenericPowerModel, n::Int, i::Int)</code></pre><p>Adds the (upper and lower) thermal limit constraints for the desired branch to the PowerModel.</p></div></div><div><div><p><code>p[f_idx]^2 + q[f_idx]^2 &lt;= rate_a^2</code></p></div></div><div><div><p><code>norm([p[f_idx]; q[f_idx]]) &lt;= rate_a</code></p></div></div><div><div><p><code>-rate_a &lt;= p[f_idx] &lt;= rate_a</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_thermal_limit_to" href="#PowerModels.constraint_thermal_limit_to"><code>PowerModels.constraint_thermal_limit_to</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>p[t_idx]^2 + q[t_idx]^2 &lt;= rate_a^2</code></p></div></div><div><div><p><code>norm([p[t_idx]; q[t_idx]]) &lt;= rate_a</code></p></div></div><div><div></div></div><div><div><p>nothing to do, this model is symetric</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_thermal_limit_from_on_off" href="#PowerModels.constraint_thermal_limit_from_on_off"><code>PowerModels.constraint_thermal_limit_from_on_off</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>p[f_idx]^2 + q[f_idx]^2 &lt;= (rate_a * branch_z[i])^2</code></p></div></div><div><div></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_thermal_limit_to_on_off" href="#PowerModels.constraint_thermal_limit_to_on_off"><code>PowerModels.constraint_thermal_limit_to_on_off</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>p[t_idx]^2 + q[t_idx]^2 &lt;= (rate_a * branch_z[i])^2</code></p></div></div><div><div></div></div><div><div><p>nothing to do, this model is symetric</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_thermal_limit_from_ne" href="#PowerModels.constraint_thermal_limit_from_ne"><code>PowerModels.constraint_thermal_limit_from_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>p_ne[f_idx]^2 + q_ne[f_idx]^2 &lt;= (rate_a * branch_ne[i])^2</code></p></div></div><div><div></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_thermal_limit_to_ne" href="#PowerModels.constraint_thermal_limit_to_ne"><code>PowerModels.constraint_thermal_limit_to_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>p_ne[t_idx]^2 + q_ne[t_idx]^2 &lt;= (rate_a * branch_ne[i])^2</code></p></div></div><div><div></div></div><div><div><p>nothing to do, this model is symetric</p></div></div></section><h3><a class="nav-anchor" id="Phase-Angle-Difference-Constraints-1" href="#Phase-Angle-Difference-Constraints-1">Phase Angle Difference Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_voltage_angle_difference" href="#PowerModels.constraint_voltage_angle_difference"><code>PowerModels.constraint_voltage_angle_difference</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p>branch voltage angle difference bounds</p></div></div><div><div><pre><code class="language-none">t[f_bus] - t[t_bus] &lt;= angmax
t[f_bus] - t[t_bus] &gt;= angmin</code></pre></div></div><div><div><p>nothing to do, no voltage angle variables</p></div></div><div><div></div></div><div><div><pre><code class="language-none">t[f_bus] - t[t_bus] &lt;= angmax
t[f_bus] - t[t_bus] &gt;= angmin</code></pre></div></div><div><div></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_voltage_angle_difference_on_off" href="#PowerModels.constraint_voltage_angle_difference_on_off"><code>PowerModels.constraint_voltage_angle_difference_on_off</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>angmin &lt;= branch_z[i]*(t[f_bus] - t[t_bus]) &lt;= angmax</code></p></div></div><div><div><p><code>angmin*branch_z[i] + vad_min*(1-branch_z[i]) &lt;= t[f_bus] - t[t_bus] &lt;= angmax*branch_z[i] + vad_max*(1-branch_z[i])</code></p></div></div><div><div><p><code>angmin*wr[i] &lt;= wi[i] &lt;= angmax*wr[i]</code></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_voltage_angle_difference_ne" href="#PowerModels.constraint_voltage_angle_difference_ne"><code>PowerModels.constraint_voltage_angle_difference_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p><code>angmin &lt;= branch_ne[i]*(t[f_bus] - t[t_bus]) &lt;= angmax</code></p></div></div><div><div><p><code>angmin*branch_ne[i] + vad_min*(1-branch_ne[i]) &lt;= t[f_bus] - t[t_bus] &lt;= angmax*branch_ne[i] + vad_max*(1-branch_ne[i])</code></p></div></div><div><div><p><code>angmin*wr_ne[i] &lt;= wi_ne[i] &lt;= angmax*wr_ne[i]</code></p></div></div></section><h3><a class="nav-anchor" id="Loss-Constraints-1" href="#Loss-Constraints-1">Loss Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_loss_lb" href="#PowerModels.constraint_loss_lb"><code>PowerModels.constraint_loss_lb</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><pre><code class="language-none">p[f_idx] + p[t_idx] &gt;= 0
q[f_idx] + q[t_idx] &gt;= -c/2*(v[f_bus]^2/tr^2 + v[t_bus]^2)</code></pre></div></div></section><h2><a class="nav-anchor" id="DC-Line-Constraints-1" href="#DC-Line-Constraints-1">DC Line Constraints</a></h2><h3><a class="nav-anchor" id="Network-Flow-Constraints-1" href="#Network-Flow-Constraints-1">Network Flow Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerModels.constraint_dcline" href="#PowerModels.constraint_dcline"><code>PowerModels.constraint_dcline</code></a> — <span class="docstring-category">Function</span>.</div><div><div></div></div><div><div><p>Creates Line Flow constraint for DC Lines (Matpower Formulation)</p><pre><code class="language-none">p_fr + p_to == loss0 + p_fr * loss1</code></pre></div></div></section><h2><a class="nav-anchor" id="Commonly-Used-Constraints-1" href="#Commonly-Used-Constraints-1">Commonly Used Constraints</a></h2><p>The following methods generally assume that the model contains <code>p</code> and <code>q</code> values for branches line flows and bus flow conservation.</p><h3><a class="nav-anchor" id="Generic-thermal-limit-constraint-1" href="#Generic-thermal-limit-constraint-1">Generic thermal limit constraint</a></h3><pre><code class="language-julia">constraint_thermal_limit_from(pm::GenericPowerModel, f_idx, rate_a)
constraint_thermal_limit_to(pm::GenericPowerModel, t_idx, rate_a)</code></pre><h3><a class="nav-anchor" id="Generic-on/off-thermal-limit-constraint-1" href="#Generic-on/off-thermal-limit-constraint-1">Generic on/off thermal limit constraint</a></h3><pre><code class="language-julia">constraint_thermal_limit_from_on_off(pm::GenericPowerModel, i, f_idx, rate_a)
constraint_thermal_limit_to_on_off(pm::GenericPowerModel, i, t_idx, rate_a)
constraint_thermal_limit_from_ne(pm::GenericPowerModel, i, f_idx, rate_a)
constraint_thermal_limit_to_ne(pm::GenericPowerModel, i, t_idx, rate_a)
constraint_active_gen_setpoint(pm::GenericPowerModel, i, pg)
constraint_reactive_gen_setpoint(pm::GenericPowerModel, i, qg)</code></pre><footer><hr/><a class="previous" href="../variables/"><span class="direction">Previous</span><span class="title">Variables</span></a><a class="next" href="../relaxations/"><span class="direction">Next</span><span class="title">Relaxation Schemes</span></a></footer></article></body></html>
