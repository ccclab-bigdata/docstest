<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· TrafficAssignment.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>TrafficAssignment.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Install-1">Install</a></li><li class="toplevel"><a class="toctext" href="#load*ta*network-1">load<em>ta</em>network</a></li><li class="toplevel"><a class="toctext" href="#ta*frank*wolfe-1">ta<em>frank</em>wolfe</a></li><li class="toplevel"><a class="toctext" href="#Parallel-Computing-1">Parallel Computing</a></li><li class="toplevel"><a class="toctext" href="#Contributor-1">Contributor</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="TrafficAssignment.jl-1" href="#TrafficAssignment.jl-1">TrafficAssignment.jl</a></h1><p><a href="http://pkg.julialang.org/?pkg=TrafficAssignment"><img src="http://pkg.julialang.org/badges/TrafficAssignment_0.5.svg" alt="TrafficAssignment"/></a> <a href="http://pkg.julialang.org/?pkg=TrafficAssignment"><img src="http://pkg.julialang.org/badges/TrafficAssignment_0.6.svg" alt="TrafficAssignment"/></a> <a href="http://pkg.julialang.org/?pkg=TrafficAssignment"><img src="http://pkg.julialang.org/badges/TrafficAssignment_0.7.svg" alt="TrafficAssignment"/></a></p><p><a href="https://travis-ci.org/chkwon/TrafficAssignment.jl"><img src="https://travis-ci.org/chkwon/TrafficAssignment.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://ci.appveyor.com/project/chkwon/trafficassignment-jl"><img src="https://ci.appveyor.com/api/projects/status/8729wrjsv2rjga34?svg=true" alt="Build status"/></a> <a href="https://coveralls.io/r/chkwon/TrafficAssignment.jl"><img src="https://coveralls.io/repos/chkwon/TrafficAssignment.jl/badge.svg" alt="Coverage Status"/></a></p><p>This package for <a href="http://www.julialang.org">the Julia Language</a> does basically two tasks: (1) loading a network data and (2) finding a user equilibrium traffic pattern. See <a href="https://en.wikipedia.org/wiki/Route_assignment">Traffic Assignment</a>.</p><h1><a class="nav-anchor" id="Install-1" href="#Install-1">Install</a></h1><pre><code class="language-julia">julia&gt; Pkg.add(&quot;TrafficAssignment&quot;)</code></pre><p>This will install <a href="https://github.com/JuliaGraphs/LightGraphs.jl">LightGraphs.jl</a> and <a href="https://github.com/JuliaOpt/Optim.jl">Optim.jl</a>, if you don&#39;t have them already.</p><p>To check if works</p><pre><code class="language-julia">julia&gt; Pkg.test(&quot;TrafficAssignment&quot;)</code></pre><h1><a class="nav-anchor" id="load*ta*network-1" href="#load*ta*network-1">load<em>ta</em>network</a></h1><p>This function loads a network data available in <a href="https://github.com/bstabler/TransportationNetworks">this TNTP github repository</a>. The network name must match with the directory name in the TNTP repository.</p><p>Example:</p><pre><code class="language-julia">ta_data = load_ta_network(&quot;SiouxFalls&quot;)
# ta_data = load_ta_network(&quot;Anaheim&quot;)
# ta_data = load_ta_network(&quot;Barcelona&quot;)
# ta_data = load_ta_network(&quot;Winnipeg&quot;)</code></pre><p>The return value is of the TA_Data type, which is defined as</p><pre><code class="language-julia">type TA_Data
    network_name::String

    number_of_zones::Int
    number_of_nodes::Int
    first_thru_node::Int
    number_of_links::Int

    start_node::Array{Int,1}
    end_node::Array{Int,1}
    capacity::Array{Float64,1}
    link_length::Array{Float64,1}
    free_flow_time::Array{Float64,1}
    B::Array{Float64,1}
    power::Array{Float64,1}
    speed_limit::Array{Float64,1}
    toll::Array{Float64,1}
    link_type::Array{Int64,1}

    total_od_flow::Float64

    travel_demand::Array{Float64,2}
    od_pairs::Array{Tuple{Int64,Int64},1}

    toll_factor::Float64
    distance_factor::Float64

    best_objective::Float64
end</code></pre><h1><a class="nav-anchor" id="ta*frank*wolfe-1" href="#ta*frank*wolfe-1">ta<em>frank</em>wolfe</a></h1><p>This function implements methods to find traffic equilibrium flows: currently, Frank-Wolfe (FW) method, Conjugate FW (CFW) method, and Bi-conjugate FW (BFW) method.</p><p>References:</p><ul><li><a href="http://pubsonline.informs.org/doi/abs/10.1287/trsc.1120.0409">Mitradjieva, M., &amp; Lindberg, P. O. (2013). The Stiff Is Moving-Conjugate Direction Frank-Wolfe Methods with Applications to Traffic Assignment. <em>Transportation Science</em>, 47(2), 280-293.</a></li></ul><p>Example:</p><pre><code class="language-julia">link_flow, link_travel_time, objective = ta_frank_wolfe(ta_data, log=&quot;off&quot;, tol=1e-2)</code></pre><p>Available optional arguments:</p><ul><li>method=:fw / :cfw / :bfw (default=:bfw)</li><li>step=&quot;exact&quot; / &quot;newton&quot; : exact line search using golden section / a simple Newton-type step (default=:exact)</li><li>log=:on / :off : displays information from each iteration or not (default=:off)</li><li>max<em>iter</em>no=<em>integer value</em> : maximum number of iterations (default=2000)</li><li>tol=<em>numeric value</em> : tolerance for the Average Excess Cost (AEC) (default=1e-3)</li></ul><p>For example, one may do:</p><pre><code class="language-julia">ta_data = load_ta_network(&quot;SiouxFalls&quot;)
link_flow, link_travel_time, objective = ta_frank_wolfe(ta_data, method=:cfw, max_iter_no=50000, step=:newton, log=:on, tol=1e-5)</code></pre><p>The total system travel time can be simply computed as</p><pre><code class="language-julia">system_travel_time = dot(link_travel_time, link_flow)</code></pre><h1><a class="nav-anchor" id="Parallel-Computing-1" href="#Parallel-Computing-1">Parallel Computing</a></h1><p>During the all-or-nothing allocation procedure, this package supports parallel computing. If you want to start with two processes, use the following command to start Julia</p><pre><code class="language-none">julia -p 2</code></pre><p>When you directly run your script, use the following command:</p><pre><code class="language-none">julia -p 2 your-script.jl</code></pre><h1><a class="nav-anchor" id="Contributor-1" href="#Contributor-1">Contributor</a></h1><p>This package is written and maintained by <a href="http://www.chkwon.net">Changhyun Kwon</a>.</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
