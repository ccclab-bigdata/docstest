<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· UMAP.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>UMAP.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#Usage-1">Usage</a></li><li><a class="toctext" href="#Implementation-Details-1">Implementation Details</a></li><li><a class="toctext" href="#Current-Limitations-1">Current Limitations</a></li><li><a class="toctext" href="#External-Resources-1">External Resources</a></li><li><a class="toctext" href="#Examples-1">Examples</a></li><li><a class="toctext" href="#Disclaimer-1">Disclaimer</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="UMAP.jl-1" href="#UMAP.jl-1">UMAP.jl</a></h1><p><a href="https://travis-ci.com/dillondaudert/UMAP.jl"><img src="https://travis-ci.com/dillondaudert/UMAP.jl.svg?branch=master" alt="Build Status"/></a><a href="https://ci.appveyor.com/project/dillondaudert/umap-jl"><img src="https://ci.appveyor.com/api/projects/status/bd8r74ingfos7166?svg=true" alt="Build status"/></a> <a href="https://coveralls.io/github/dillondaudert/UMAP.jl?branch=master"><img src="https://coveralls.io/repos/github/dillondaudert/UMAP.jl/badge.svg?branch=master" alt="Coverage Status"/></a> <a href="https://codecov.io/gh/dillondaudert/UMAP.jl"><img src="https://codecov.io/gh/dillondaudert/UMAP.jl/branch/master/graph/badge.svg" alt="codecov"/></a></p><p>A pure Julia implementation of the <a href="https://arxiv.org/abs/1802.03426">Uniform Manifold Approximation and Projection</a> dimension reduction algorithm</p><blockquote><p>McInnes, L, Healy, J, Melville, J, <em>UMAP: Uniform Manifold Approximation and Projection for Dimension Reduction</em>. ArXiV 1802.03426, 2018</p></blockquote><h2><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h2><pre><code class="language-jl">embedding = umap(X, n_components; n_neighbors, metric, min_dist, ...)</code></pre><p>The <code>umap</code> function takes two arguments, <code>X</code> (a matrix of shape (n<em>features, n</em>samples)), <code>n_components</code> (the number of dimensions in the output embedding), and various keyword arguments. Several important ones are:</p><ul><li><code>n_neighbors::Int=15</code>: This controls how many neighbors around each point are considered to be part of its local neighborhood. Larger values will result in embeddings that capture more global structure, while smaller values will preserve more local structures.</li><li><code>metric::SemiMetric=Euclidean()</code>: The (semi)metric to use when calculating distances between points. This can be any subtype of the <code>SemiMetric</code> type from the <code>Distances.jl</code> package, including user-defined types.</li><li><code>min_dist::Float=0.1</code>: This controls the minimum spacing of points in the embedding. Larger values will cause points to be more evenly distributed, while smaller values will preserve more local structure.</li></ul><p>The returned <code>embedding</code> will be a matrix of shape (n<em>components, n</em>samples).</p><h2><a class="nav-anchor" id="Implementation-Details-1" href="#Implementation-Details-1">Implementation Details</a></h2><p>There are two main steps involved in UMAP: building a weighted graph with edges connecting points to their nearest neighbors, and optimizing the low-dimensional embedding of that graph. The first step is accomplished either by an exact kNN search (for datasets with <code>&lt; 4096</code> points) or by the approximate kNN search algorithm, <a href="https://github.com/dillondaudert/NearestNeighborDescent.jl">NNDescent</a>. This step is also usually the most costly.</p><p>The low-dimensional embedding is initialized (by default) with the eigenvectors of the normalized Laplacian of the kNN graph. These are found using ARPACK (via <a href="https://github.com/JuliaLinearAlgebra/Arpack.jl">Arpack.jl</a>).</p><h2><a class="nav-anchor" id="Current-Limitations-1" href="#Current-Limitations-1">Current Limitations</a></h2><ul><li><strong>No transform</strong>: Only one-time embeddings are possible at the moment. That is to say, it isn&#39;t possible to &quot;fit&quot; UMAP to a dataset and then use it to &quot;transform&quot; new data</li><li><strong>Input data types</strong>: Only data points that are represented by vectors of numbers (passed in as a matrix) are valid inputs. This is mostly due to a lack of support for other formats in <a href="https://github.com/dillondaudert/NearestNeighborDescent.jl">NNDescent</a>. Support for e.g. string datasets is possible in the future</li><li><strong>Sequential</strong>: This implementation does not take advantage of any parallelism</li></ul><h2><a class="nav-anchor" id="External-Resources-1" href="#External-Resources-1">External Resources</a></h2><ul><li>For a great description of how UMAP works, see <a href="https://umap-learn.readthedocs.io/en/latest/how_umap_works.html">this page</a> from the Python UMAP documentation</li><li>If you&#39;re familiar with <a href="https://lvdmaaten.github.io/tsne/">t-SNE</a>, then <a href="https://jlmelville.github.io/uwot/umap-for-tsne.html">this page</a> describes UMAP with similar vocabulary to that dimension reduction algorithm</li></ul><h2><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h2><p>The full MNIST and FMNIST datasets are plotted below using both this implementation and the <a href="github.com/lmcinnes/umap">Python implementation</a> for comparison. These were generated by <a href="PlotMNIST.ipynb">this notebook</a>.</p><p>Note that the memory allocation for the Python UMAP is unreliable, as Julia&#39;s benchmarking doesn&#39;t count memory allocated within Python itself.</p><h3><a class="nav-anchor" id="MNIST-1" href="#MNIST-1">MNIST</a></h3><p><img src="img/mnist_julia.png" alt="Julia MNIST"/> <img src="img/mnist_python.png" alt="Python MNIST"/></p><h3><a class="nav-anchor" id="FMNIST-1" href="#FMNIST-1">FMNIST</a></h3><p><img src="img/fmnist_julia.png" alt="Julia FMNIST"/> <img src="img/fmnist_python.png" alt="Python FMNIST"/></p><h2><a class="nav-anchor" id="Disclaimer-1" href="#Disclaimer-1">Disclaimer</a></h2><p>This implementation is a work-in-progress. If you encounter any issues, please create an issue or make a pull request.</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
