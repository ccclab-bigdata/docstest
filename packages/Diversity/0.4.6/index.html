<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme · Diversity.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Diversity.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#Summary-1">Summary</a></li><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Project-Status-1">Project Status</a></li><li><a class="toctext" href="#Contributing-and-Questions-1">Contributing and Questions</a></li><li><a class="toctext" href="#Usage-1">Usage</a></li><li><a class="toctext" href="#Documentation-1">Documentation</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Diversity-1" href="#Diversity-1">Diversity</a></h1><p><em>Package for measuring and partitioning diversity</em></p><table><tr><th><strong>Documentation</strong></th><th><strong>PackageEvaluator</strong></th><th><strong>Build Status of master</strong></th></tr><tr><td>[![][docs-stable-img]][docs-stable-url]</td><td>[![][pkg-0.6-img]][pkg-0.6-url]</td><td>[![][travis-img]][travis-url] [![][appveyor-img]][appveyor-url]</td></tr><tr><td>[![][docs-latest-img]][docs-latest-url]</td><td>[![Works with 1.0!][pkg-1.0-img]][pkg-1.0-url]</td><td>[![][codecov-img]][codecov-url] [![][coveralls-img]][coveralls-url]</td></tr></table><h2><a class="nav-anchor" id="Summary-1" href="#Summary-1">Summary</a></h2><p><strong>Diversity</strong> is a <a href="http://www.julialang.org">Julia</a> package that provides functionality for measuring alpha, beta and gamma diversity of metacommunities (e.g. ecosystems) and their constituent subcommunities. It uses the diversity measures described in the arXiv paper [arXiv:1404.6520 (q-bio.QM)][paper-url], <em>How to partition diversity</em>. It also provides a series of other older diversity measures through sub-modules. Currently these are all ecological diversity measures, but this will be expanded through interfacing to EcoJulia and BioJulia.</p><p>This package is in beta now, but is cross-validated against our R package [boydorr/rdiversity][rdiversity-url], which is developed independently, so please [raise an issue][issues-url] if you find any problems. We now use a DataFrame as the common output format for all of the diversity calculations to provide consistency with our R package [rdiversity][rdiversity-url]. The code is not optimised for speed at the moment due to the substantial changes that have happened to it under the hood, and the Phylogenetics submodule is also new, and may need further improvements.</p><p>Version 0.4, which is the current release, has significant breaking changes to the underlying code, but everything works with Julia v0.6, v0.7 and v1.0 as far as we&#39;re aware. It is periodically working with Julia nightly but that is not a high priority now that Julia 1.0 has been released. Older interfaces from Diversity v0.2 have been removed in v0.4.</p><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>The package is registered in the <code>General</code> registry on v1.0 and v0.7 as well as <code>METADATA</code> on Julia v0.6 and so can be installed with <code>add</code>. For example on Julia v1.0:</p><pre><code class="language-julia">(v1.0) pkg&gt; add Diversity
 Resolving package versions...
  Updating `~/.julia/environments/v1.0/Project.toml`
  [xxxxxxxx] + Diversity v0.4.4
  Updating `~/.julia/environments/v1.0/Manifest.toml`
  [xxxxxxxx] + Diversity v0.4.4
...

(v1.0) pkg&gt;</code></pre><h2><a class="nav-anchor" id="Project-Status-1" href="#Project-Status-1">Project Status</a></h2><p>The package is tested against the current Julia v1.0 release, and also the previous v0.6 and v0.7 versions, on Linux, macOS, and Windows.</p><h2><a class="nav-anchor" id="Contributing-and-Questions-1" href="#Contributing-and-Questions-1">Contributing and Questions</a></h2><p>Contributions are very welcome, as are feature requests and suggestions. Please open an [issue][issues-url] if you encounter any problems or would just like to ask a question.</p><h2><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h2><h3><a class="nav-anchor" id="Diversity-2" href="#Diversity-2">Diversity</a></h3><p>The main package provides basic numbers-equivalent diversity measures (described in <a href="http://www.jstor.org/stable/1934352">Hill, 1973</a>), similarity-sensitive diversity measures (generalised from Hill, and described in [Leinster and Cobbold, 2012][leinster-cobbold-url]), and related alpha, beta and gamma diversity measures at the level of the metacommunity and its component subcommunities (generalised in turn from Leinster and Cobbold, and described in [arXiv:1404.6520 (q-bio.QM)][paper-url]). The diversity functions exist both with unicode names (e.g. ᾱ()), which are not automatically exported as we feel they are too short and with matching ascii names (e.g. NormalisedAlpha()), which are. We also provide a general function for extract any diversity measure for a series of subcommunity relative abundances.</p><h4><a class="nav-anchor" id="Getting-started-1" href="#Getting-started-1">Getting started</a></h4><p>Before calculating diversity a <code>Metacommunity</code> object must be created. This object contains all the information needed to calculate diversity.</p><pre><code class="language-julia"># Load the package into Julia
using Diversity

# Example population
pop = [1 1 0; 2 0 0; 3 1 4]
pop = pop / sum(pop)

# Create Metacommunity object
meta = Metacommunity(pop)</code></pre><h4><a class="nav-anchor" id="Calculating-diversity-1" href="#Calculating-diversity-1">Calculating diversity</a></h4><p>First we need to calculate the low-level diversity component seperately, by passing a <code>metacommunity</code> object to the appropriate function; <code>RawAlpha()</code>, <code>NormalisedAlpha()</code>, <code>RawBeta()</code>, <code>NormalisedBeta()</code>, <code>RawRho()</code>, <code>NormalisedRho()</code>, or <code>Gamma()</code>.</p><pre><code class="language-julia"># First, calculate the normalised alpha component
component = NormalisedAlpha(meta)</code></pre><p>Afterwhich, <code>subdiv()</code> or <code>metadiv()</code> are used to calculate subcommunity or metacommunity diversity, respectively (since both subcommunity and metacommunity diversity measures are transformations of the same low-level components, this is computationally more efficient).</p><pre><code class="language-julia"># Then, calculate species richness of the subcommunities
subdiv(component, 0)

# or the average (alpha) species richness across the whole population
metadiv(component, 0)

# We can also generate a diversity profile by calculating multiple q-values simultaneously
df = subdiv(component, 0:30)</code></pre><p>In some instances, it may be useful to calculate <strong>all</strong> subcommunity (or metacommunity) measures. In which case, a <code>Metacommunity</code> object may be passed directly to <code>subdiv()</code> or <code>metadiv()</code>:</p><pre><code class="language-julia"># To calculate all subcommunity diversity measures
subdiv(meta, 0:2)

# To calculate all metacommunity diversity measures
metadiv(meta, 0:2)</code></pre><p>Alternatively, if computational efficiency is not an issue, a single measure of diversity may be calculated directly by calling a wrapper function:</p><pre><code class="language-julia">norm_sub_alpha(meta, 0:2)</code></pre><p>A complete list of these functions is shown below:</p><ul><li><code>raw_sub_alpha()</code> : per-subcommunity estimate of naive-community metacommunity diversity</li><li><code>norm_sub_alpha()</code> : similarity-sensitive diversity of each subcommunity in isolation</li><li><code>raw_sub_rho()</code> : redundancy of individual subcommunities</li><li><code>norm_sub_rho()</code> : representativeness of individual subcommunities</li><li><code>raw_sub_beta()</code> : distinctiveness of individual subcommunities</li><li><code>norm_sub_beta()</code> : per-subcommunity estimate of effective number of distinct subcommunities</li><li><code>sub_gamma()</code> : contribution per individual in a subcommunity toward metacommunity diversity</li><li><code>raw_meta_alpha()</code> : naive-community metacommunity diversity</li><li><code>norm_meta_alpha()</code> : average similarity-sensitive diversity of subcommunities</li><li><code>raw_meta_rho()</code> : average redundancy of subcommunities</li><li><code>norm_meta_rho()</code> : average representativeness of subcommunities</li><li><code>raw_meta_beta()</code> : average distinctiveness of subcommunities</li><li><code>norm_meta_beta()</code> : effective number of distinct subcommunities</li><li><code>meta_gamma()</code> : metacommunity similarity-sensitive diversity</li></ul><h4><a class="nav-anchor" id="Phylogenetics-1" href="#Phylogenetics-1">Phylogenetics</a></h4><p>Phylogenetic diversity (described [here][leinster-cobbold-url]) is automatically included in the Diversity module when the <code>Phylo</code> package is loaded. Documentation for these diversity measures can be found <a href="http://richardreeve.github.io/Diversity.jl/latest/phylogenetics/">here</a>. The phylogenetics code relies on the [Phylo][phylo-url] package to generate trees to incorporate into the diversity code, and the <code>Diversity.Phylogenetics</code> sub-package will be created when both main packages are loaded:</p><pre><code class="language-julia-repl">julia&gt; using Diversity, Phylo
Creating Diversity to Phylo interface...

julia&gt; communities = [4 1; 3 2; 1 0; 0 1] / 12;

julia&gt; nt = rand(Nonultrametric(4))
NamedTree phylogenetic tree with 7 nodes and 6 branches
Leaf names:
String[&quot;tip 1&quot;, &quot;tip 2&quot;, &quot;tip 3&quot;, &quot;tip 4&quot;]

julia&gt; metaphylo = Metacommunity(communities, PhyloTypes(nt));

julia&gt; raw_meta_rho(metaphylo, [1, 2])
2×8 DataFrames.DataFrame
│ Row │ div_type     │ measure │ q │ type_level │ type_name │ partition_level │ partition_name │ diversity │
├─────┼──────────────┼─────────┼───┼────────────┼───────────┼─────────────────┼────────────────┼───────────┤
│ 1   │ Phylogenetic │ RawRho  │ 1 │ types      │           │ metacommunity   │                │ 1.75622   │
│ 2   │ Phylogenetic │ RawRho  │ 2 │ types      │           │ metacommunity   │                │ 1.61371   │</code></pre><p>The package also provides some other sub-modules for related measures:</p><h4><a class="nav-anchor" id="Diversity.Ecology-1" href="#Diversity.Ecology-1">Diversity.Ecology</a></h4><p>Many existing ecological diversity measures can be derived from our diversity measures, and so we provide them in the Diversity.Ecology submodule along with generalised versions of them that relate to our general measures of alpha, beta and gamma diversity at subcommunity and metacommunity levels. The generalisations of species richness, Shannon entropy and Simpson&#39;s index are the only standard measures we are aware of whose subcommunity components sum directly to the corresponding metacommunity measure (although note that Simpson&#39;s index decreases for increased diversity, so small components are more diverse). Documentation for these diversity measures can be found <a href="http://richardreeve.github.io/Diversity.jl/stable/ecology/">here</a>.</p><h4><a class="nav-anchor" id="Diversity.Hill-1" href="#Diversity.Hill-1">Diversity.Hill</a></h4><p><a href="http://www.jstor.org/stable/1934352">Hill numbers</a> are found in the Diversity.Hill sub-module. Documentation for these diversity measures can be found <a href="http://richardreeve.github.io/Diversity.jl/stable/hill/">here</a>.</p><h4><a class="nav-anchor" id="Diversity.Jost-1" href="#Diversity.Jost-1">Diversity.Jost</a></h4><p>Lou Jost&#39;s <a href="http://dx.doi.org/10.1111/j.2006.0030-1299.14714.x">diversity</a> <a href="http://www.esajournals.org/doi/abs/10.1890/06-1736.1">measures</a> are found in the Diversity.Jost sub-module. Documentation for these diversity measures is <a href="http://richardreeve.github.io/Diversity.jl/stable/jost/">here</a>.</p><h2><a class="nav-anchor" id="Documentation-1" href="#Documentation-1">Documentation</a></h2><p>Documentation is generated by the Base documentation in Julia and online via the <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter</a> package.</p><h3><a class="nav-anchor" id="Usage-2" href="#Usage-2">Usage</a></h3><p>Accessing the documentation in Julia is easy:</p><pre><code class="language-julia">using Diversity

# Returns any documentation for the subdiv() function
?subdiv</code></pre><p>The documentation is also available online.</p><h3><a class="nav-anchor" id="Stable-branch-1" href="#Stable-branch-1">Stable branch</a></h3><p>The online documentation for the current stable branch is [here][docs-stable-url].</p><h3><a class="nav-anchor" id="Master-branch-1" href="#Master-branch-1">Master branch</a></h3><p>The online documentation for the latest master (unreleased) branch is [here][docs-latest-url].</p><p>[docs-latest-img]: https://img.shields.io/badge/docs-latest-blue.svg [docs-latest-url]: https://richardreeve.github.io/Diversity.jl/latest</p><p>[docs-stable-img]: https://img.shields.io/badge/docs-stable-blue.svg [docs-stable-url]: https://richardreeve.github.io/Diversity.jl/stable</p><p>[travis-img]: https://travis-ci.org/richardreeve/Diversity.jl.svg?branch=master [travis-url]: https://travis-ci.org/richardreeve/Diversity.jl?branch=master</p><p>[appveyor-img]: https://ci.appveyor.com/api/projects/status/github/richardreeve/Diversity.jl?svg=true&amp;branch=master [appveyor-url]: https://ci.appveyor.com/project/richardreeve/diversity-jl/branch/master</p><p>[coveralls-img]: https://img.shields.io/coveralls/richardreeve/Diversity.jl.svg [coveralls-url]: https://coveralls.io/r/richardreeve/Diversity.jl?branch=master</p><p>[codecov-img]: https://codecov.io/gh/richardreeve/Diversity.jl/branch/master/graph/badge.svg [codecov-url]: https://codecov.io/gh/richardreeve/Diversity.jl</p><p>[issues-url]: https://github.com/richardreeve/Diversity.jl/issues</p><p>[pkg-0.6-img]: http://pkg.julialang.org/badges/Diversity_0.6.svg [pkg-0.6-url]: http://pkg.julialang.org/?pkg=Diversity&amp;ver=0.6</p><p>[pkg-1.0-img]: http://pkg.julialang.org/badges/Diversity_1.0.svg [pkg-1.0-url]: http://pkg.julialang.org/?pkg=Diversity&amp;ver=1.0</p><p>[paper-url]: http://arxiv.org/abs/1404.6520</p><p>[rdiversity-url]: https://github.com/boydorr/rdiversity</p><p>[leinster-cobbold-url]: http://www.esajournals.org/doi/abs/10.1890/10-2402.1</p><p>[phylo-url]: https://github.com/richardreeve/Phylo.jl</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
