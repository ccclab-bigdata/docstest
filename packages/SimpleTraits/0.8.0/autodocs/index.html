<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Docstrings · SimpleTraits.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>SimpleTraits.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Readme</a></li><li class="current"><a class="toctext" href>Docstrings</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Docstrings</a></li></ul></nav><hr/><div id="topbar"><span>Docstrings</span><a class="fa fa-bars" href="#"></a></div></header><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.@check_fast_traitdispatch" href="#SimpleTraits.@check_fast_traitdispatch"><code>SimpleTraits.@check_fast_traitdispatch</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">check_fast_traitdispatch(Tr, Args=(Int,), nlines=6, verbose=false)</code></pre><p>Macro to check whether a trait-dispatch is fast (i.e. as fast as an ordinary function call) or whether dispatch is slow (dynamic).  Only works with single parameters traits (so far).</p><p>Optional arguments are:</p><ul><li>Type parameter to the trait (default <code>Int</code>)</li><li>Verbosity (default <code>false</code>)</li></ul><p>Example:</p><pre><code class="language-none">@check_fast_traitdispatch IsBits
@check_fast_traitdispatch IsBits String true</code></pre><p>NOTE: This only works when code-coverage is disabled!  Thus, do not use this macro in tests (or disable <code>coverage=true</code> in your <code>.travis.yml</code> script), or it will error.</p><p>NOTE: This does not seem to work all the time.  At least in Julia 0.7 this test is negative for IsIndexLinear, however, it&#39;s fast.</p><p>TODO: This is rather ugly.  Ideally this would be a function but I ran into problems, see source code.  Also the macro is ugly.  PRs welcome...</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.@traitdef" href="#SimpleTraits.@traitdef"><code>SimpleTraits.@traitdef</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>Used to define a trait.  Traits, like types, are camel cased.  I suggest to start them with a verb, e.g. <code>IsImmutable</code>, to distinguish them from actual types, which are usually nouns.</p><p>Traits need to have one or more (type-)parameters to specify the type to which the trait is applied.  For instance <code>IsImmutable{Int}</code> signifies that <code>Int</code> is part of <code>IsImmutable</code> (although whether that is true needs to be checked with the <code>istrait</code> function).  Most traits will be one-parameter traits, however, several parameters are useful when there is a &quot;contract&quot; between several types.</p><p>Examples:</p><pre><code class="language-julia">@traitdef IsFast{X}
@traitdef IsSlow{X,Y}</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.@traitfn" href="#SimpleTraits.@traitfn"><code>SimpleTraits.@traitfn</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>Defines a function dispatching on a trait. Examples:</p><pre><code class="language-julia">@traitfn f(x::X,y) where {X;  Tr1{X}} = ...
@traitfn f(x::X,y) where {X; !Tr1{X}} = ...

@traitfn f(x::X,y::Y) where {X,Y;  Tr2{X,Y}} = ...
@traitfn f(x::X,y::Y) where {X,Y; !Tr2{X,Y}} = ...</code></pre><p>Note that the second example is just syntax sugar for <code>@traitfn f(x::X,y::Y) where {X,Y; Not{Tr1{X,Y}}} = ...</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.@traitimpl" href="#SimpleTraits.@traitimpl"><code>SimpleTraits.@traitimpl</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><p>Used to add a type or type-tuple to a trait.  By default a type does not belong to a trait.</p><p>Example:</p><pre><code class="language-julia">@traitdef IsFast{X}
@traitimpl IsFast{Array{Int,1}}</code></pre><p>Often a trait is dependent on some check-function returning true or false.  This can be done with:</p><pre><code class="language-julia">@traitimpl IsFast{T} &lt;- isfast(T)</code></pre><p>where <code>isfast</code> is that check-function.</p><p>Note that traits implemented with the former of above methods will override an implementation with the latter method.  Thus it can be used to define exceptions to the rule.</p></div></div></section><pre><code class="language-none">SimpleTraits.BaseTraits</code></pre><pre><code class="language-none">SimpleTraits.GenerateTypeVars</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.Not" href="#SimpleTraits.Not"><code>SimpleTraits.Not</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>The set of all types not belonging to a trait is encoded by wrapping it with Not{}, e.g.  Not{Tr1{X,Y}}</p></div></div></section><pre><code class="language-none">SimpleTraits.SimpleTraits</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.Trait" href="#SimpleTraits.Trait"><code>SimpleTraits.Trait</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>All Traits are subtypes of abstract type Trait.</p><p>A concrete Trait will look like:</p><pre><code class="language-julia">struct Tr1{X,Y} &lt;: Trait end</code></pre><p>where X and Y are the types involved in the trait.</p><p>(SUPER is not used here but in Traits.jl, thus retained for possible future compatibility.)</p></div></div></section><pre><code class="language-none">SimpleTraits.curmod</code></pre><pre><code class="language-none">SimpleTraits.dispatch_cache</code></pre><pre><code class="language-none">SimpleTraits.eval</code></pre><pre><code class="language-none">SimpleTraits.findline</code></pre><pre><code class="language-none">SimpleTraits.include</code></pre><pre><code class="language-none">SimpleTraits.insertdummy</code></pre><pre><code class="language-none">SimpleTraits.isnegated</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.istrait" href="#SimpleTraits.istrait"><code>SimpleTraits.istrait</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>This function checks whether a trait is fulfilled by a specific set of types.</p><pre><code class="language-none">istrait(Tr1{Int,Float64}) =&gt; return true or false</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.llvm_lines" href="#SimpleTraits.llvm_lines"><code>SimpleTraits.llvm_lines</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Returns number of llvm-IR lines for a call of function <code>fn</code> with argument types <code>args</code></p></div></div></section><pre><code class="language-none">SimpleTraits.stripNot</code></pre><pre><code class="language-none">SimpleTraits.strip_kw</code></pre><pre><code class="language-none">SimpleTraits.strip_tpara</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimpleTraits.trait" href="#SimpleTraits.trait"><code>SimpleTraits.trait</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>A trait is defined as full-filled if this function is the identity function for that trait.  Otherwise it returns the trait wrapped in <code>Not</code>.</p><p>Example:</p><pre><code class="language-none">trait(IsBits{Int}) # returns IsBits{Int}
trait(IsBits{Array}) # returns Not{IsBits{Array}}</code></pre><p>Usually this function is defined when using the <code>@traitimpl</code> macro.</p><p>However, instead of using <code>@traitimpl</code> one can define a method for <code>trait</code> to implement a trait, see the README.</p></div></div></section><pre><code class="language-none">SimpleTraits.traitfn</code></pre><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Readme</span></a></footer></article></body></html>
