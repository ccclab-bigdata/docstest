<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· OpenStreetMapPlotter.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>OpenStreetMapPlotter.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#About-1">About</a></li><li><a class="toctext" href="#Features-1">Features</a></li><li><a class="toctext" href="#MapCSS-Support-1">MapCSS Support</a></li><li><a class="toctext" href="#Example-1">Example</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="OpenStreetMapPlotter.jl-1" href="#OpenStreetMapPlotter.jl-1">OpenStreetMapPlotter.jl</a></h1><h2><a class="nav-anchor" id="About-1" href="#About-1">About</a></h2><p>This package was created to be an improvement on <a href="https://github.com/tedsteiner/OpenStreetMap.jl">OpenStreetMap.jl&#39;s</a> plotting capabilities. As opposed to <a href="https://github.com/yeesian/OpenStreetMap2.jl">OpenStreetMap2.jl</a> or <a href="https://github.com/pszufe/OpenStreetMapX.jl">OpenStreetMapX.jl</a> it is focused primarily on creating beautiful plots using Winston.jl from OpenStreetMap data, and additionally exporting those plots to other formats such as GeoJSON.</p><h2><a class="nav-anchor" id="Features-1" href="#Features-1">Features</a></h2><p>It can parse OpenStreetMap maps from either a bounding box (which then fetches the map from the <a href="https://wiki.openstreetmap.org/wiki/Overpass_API">Overpass API</a>) or from a .osm file.  It uses three functions to create arrays of either the nodes, the ways, or the relations in the map. These are defined by structs in the library, and have all the attributes that OSM objects do, just in an easier format to work with in Julia. In addition, it has a plotting function which uses <a href="https://github.com/JuliaGraphics/Winston.jl">Winston.jl</a> to create beautiful renderings of the maps. </p><p>The main ways in which this package improves on OpenStreetMap.jl:</p><ul><li>The graphing function is able to draw buildings and other OSM objects like parks, rivers, etc, as polygons rather than just as outlines.</li><li>Because this package is primarily focused on extracting data from the OSM objects, rather than on geometry, the structs are much easier to understand because everything is in WGS84 projection. </li><li>In OpenStreetMap.jl, smaller streets that adjoin a larger street will sometimes be drawn over the larger street. This package delays the drawing of motorways, trunks, and primary through tertiary ways so that they display correctly when plotted.</li></ul><p>The styling for all the different object types is defined in styles.jl, which is composed of a few dictionaries that map OSM tags to Style objects. These dicts are accessible to the user, so you can easily change the styling as you wish.</p><h3><a class="nav-anchor" id="Planned-Features-1" href="#Planned-Features-1">Planned Features</a></h3><ul><li>Ability to export to QGIS</li><li>Better theming options</li></ul><h2><a class="nav-anchor" id="MapCSS-Support-1" href="#MapCSS-Support-1">MapCSS Support</a></h2><p>Currently, OpenStreetMapPlotter.jl supports a subset of <a href="https://wiki.openstreetmap.org/wiki/MapCSS/0.2">MapCSS</a> features. The only attributes which can be set are width and color, but ways can be filtered by what tags they have and also by the values of those tags. Example:</p><pre><code class="language-CSS">way[highway]
{width: 2; color:black;}
way[highway!=motorway]
{ width:2; color:green;}</code></pre><p>Supported operators are: !=, =, &lt;=, &gt;=, &gt;, &lt;. Note: the statements in the CSS file are executed sequentially, so later statements will override earlier statements</p><h2><a class="nav-anchor" id="Example-1" href="#Example-1">Example</a></h2><pre><code class="language-julia">#open a file from bounding box...
julia&gt; bbox = (-75.2262,39.9365,-75.1327, 39.9821)
julia&gt; xml = open_bbox(bbox)
#or from a file
julia&gt; xml, bbox = open_file(&quot;map2.osm&quot;)

#parse the ways
julia&gt; way_arr = parse_ways(xml)

#plot it
julia&gt; plot_ways(way_arr, bbox=bbox)
#or plot it using a CSS file to define the appearance
julia&gt; plot_ways(way_arr, bbox, css_file_name=&quot;src/test.css&quot;)</code></pre><p><img src="./map_out.svg" alt="Example map of West Philadelphia"/></p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
