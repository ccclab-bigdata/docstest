<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· HTTPClient.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>HTTPClient.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#Usage-1">Usage</a></li><li class="toplevel"><a class="toctext" href="#Samples-1">Samples</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="HTTPClient.jl-1" href="#HTTPClient.jl-1">HTTPClient.jl</a></h1><p><a href="https://travis-ci.org/JuliaWeb/HTTPClient.jl"><img src="https://travis-ci.org/JuliaWeb/HTTPClient.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://coveralls.io/r/JuliaWeb/HTTPClient.jl"><img src="https://coveralls.io/repos/JuliaWeb/HTTPClient.jl/badge.svg" alt="Coverage Status"/></a></p><p><a href="http://pkg.julialang.org/?pkg=HTTPClient&amp;ver=0.3"><img src="http://pkg.julialang.org/badges/HTTPClient_0.3.svg" alt="HTTPClient"/></a> <a href="http://pkg.julialang.org/?pkg=HTTPClient&amp;ver=0.4"><img src="http://pkg.julialang.org/badges/HTTPClient_0.4.svg" alt="HTTPClient"/></a></p><p>Provides HTTP client functionality based on <a href="https://github.com/JuliaWeb/LibCURL.jl">libcurl</a>.</p><h2><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h2><p>The exported APIs from module HTTPClient are :</p><pre><code class="language-julia">get(url::String, options::RequestOptions)
get(url::String; kw_opts...)

post(url::String, data, options::RequestOptions)
post(url::String, data; kw_opts...)

put(url::String, data, options::RequestOptions)
put(url::String, data; kw_opts...)</code></pre><p><code>data</code> can be either a</p><ul><li><code>String</code> - sent as is.</li><li><code>IOStream</code> - Content type is set to &quot;application/octet-stream&quot; unless specified otherwise</li><li><code>Dict{Name, Value}</code> or <code>Vector{Tuple{Name, Value}}</code> - Content type is set to &quot;application/x-www-form-urlencoded&quot; unless specified otherwise</li><li>(:file, filename::String) - The file is read, and the content-type is set automatically unless specified otherwise.</li></ul><pre><code class="language-julia">head(url::String, options::RequestOptions)
head(url::String; kw_opts...)

delete(url::String, options::RequestOptions)
delete(url::String; kw_opts...)

trace(url::String, options::RequestOptions)
trace(url::String; kw_opts...)

options(url::String, options::RequestOptions)
options(url::String; kw_opts...)</code></pre><p>Each API returns an object of type</p><pre><code class="language-julia">type Response
    body::IOBuffer
    headers::Dict{String, Vector{String}}
    http_code::Int
    total_time::Float64
    bytes_recd::Integer
end</code></pre><p>If you expecting ascii text as a response, for example, html content, or json, <code>bytestring(r.body)</code> will return the stringified response. For binary data use the functions described in http://docs.julialang.org/en/latest/stdlib/base/#i-o to access the raw data.</p><h3><a class="nav-anchor" id="Specifying-Options-1" href="#Specifying-Options-1">Specifying Options</a></h3><p>Options can specified either as keyword arguments or a single object of type <code>RequestOptions</code></p><pre><code class="language-julia">type RequestOptions
    blocking::Bool
    query_params::Vector{Tuple}
    request_timeout::Float64
    callback::Union(Function,Bool)
    content_type::String
    headers::Vector{Tuple}
    ostream::Union{IO, Nothing}
    auto_content_type::Bool
end</code></pre><p><code>options</code> can also be specified as named arguments in each of the APIS. The names are field names of RequestOptions. For example, <code>get(url; blocking=false, request_timeout=30.0)</code></p><ul><li><p>By default all APIs block till request completion and return Response objects.</p></li><li><p>If <code>blocking</code> is set to <code>false</code>, then the API returns immediately with a RemoteRef. The request is executed asynchronously in a separate task.</p></li><li><p>The user can specify a complete url in the <code>url</code> parameter of the API, or can set query_params as a <code>Vector</code> of <code>(Name, Value)</code> tuples</p><p>In the former case, the passed url is executed as is.</p><p>In the latter case the complete URL if formed by concatenating the <code>url</code> field, a &quot;?&quot; and the escaped (name,value) pairs. Both the name and values must be convertible to appropriate ASCIIStrings.</p></li><li><p>In file upload cases, an attempt is made to set the <code>content_type</code> type automatically as derived from the file extension unless <code>auto_content_type</code> is set to false.</p></li><li><p><code>auto_content_type</code> - default is true. If the content_type has not been explicitly specified, the library will try to guess the content type for a PUT/POST from the file extension. For POST it will default to &quot;application/x-www-form-urlencoded&quot;. Set this parameter to false to override this behaviour</p></li><li><p>Default value for the <code>request_timeout</code> is 0.0 seconds, i.e., never timeout.</p></li><li><p>If a callback is specified, its signature should be  <code>customize_cb(curl)</code> where <code>curl</code> is the libCURL handle. The callback can further customize the request by using libCURL easy* APIs directly</p></li><li><p>headers - additional headers to be set. Vector of {Name, Value} Tuples</p></li><li><p>ostream - if set as an IO, any returned data to written to ostream. If it is a String, it is treated as a filename and written to the file. In both these cases the data is not returned as part of the Response object</p></li></ul><h1><a class="nav-anchor" id="Samples-1" href="#Samples-1">Samples</a></h1><p>See <code>test/runtests.jl</code> for sample code</p><h3><a class="nav-anchor" id="TODO-1" href="#TODO-1">TODO</a></h3><p>Change the sleep in a loop to using fdwatcher when support for fdwatcher becomes available in mainline</p><footer><hr/></footer></article></body></html>
