<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Builder and Glade Â· Gtk.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../index.html"><img class="logo" src="../../assets/logo.png" alt="Gtk.jl logo"/></a><h1>Gtk.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../gettingStarted/">Getting Started</a></li><li><a class="toctext" href="../properties/">Properties</a></li><li><a class="toctext" href="../layout/">Layout</a></li><li><a class="toctext" href="../signals/">Signals and Callbacks</a></li><li class="current"><a class="toctext" href>Builder and Glade</a><ul class="internal"><li><a class="toctext" href="#Glade-1">Glade</a></li><li><a class="toctext" href="#Builder-1">Builder</a></li><li><a class="toctext" href="#Callbacks-1">Callbacks</a></li></ul></li><li><a class="toctext" href="../textwidgets/">Text Widgets</a></li><li><a class="toctext" href="../combobox/">Combobox</a></li><li><a class="toctext" href="../listtreeview/">List and Tree Widgets</a></li><li><a class="toctext" href="../filedialogs/">Dialogs</a></li><li><a class="toctext" href="../keyevents/">Key Events</a></li><li><a class="toctext" href="../canvas/">Drawing on Canvas</a></li><li><a class="toctext" href="../customWidgets/">Custom/Composed Widgets</a></li><li><a class="toctext" href="../async/">Asynchronous UI</a></li><li><a class="toctext" href="../nonreplusage/">Non REPL Usage</a></li><li><a class="toctext" href="../packages/">High-Level Packages</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Builder and Glade</a></li></ul></nav><hr/><div id="topbar"><span>Builder and Glade</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Builder-and-Glade-1" href="#Builder-and-Glade-1">Builder and Glade</a></h1><p>Until now we have created and arranged all widgets entirely using Julia code. While this works fine for small examples, it has the issue that we are tightly coupling the appearance from our application with the logic of our program code. In addition the linear way of procedural Julia code does not fit very well with complex user interfaces arranged in deeply nested tables and boxes.</p><p>Fortunately, there is a much better way to design user interfaces that strictly separate the layout from the code. This is done by an XML based file format that allows for describing any widget arrangements. The XML file is usually not manually created but designed graphically using <a href="https://glade.gnome.org">Glade</a> in a WYSIWYG (what you see is what you get) manner. In order to use the interface in your Julia Gtk application you will need <code>GtkBuilder</code>.</p><h2><a class="nav-anchor" id="Glade-1" href="#Glade-1">Glade</a></h2><p>Glade lets you create complex user interfaces by graphically arranging them together in a user friendly way. There are many good <a href="https://wiki.gnome.org/action/show/Apps/Glade/Tutorials">tutorials</a> out there so that we will skip a detailed introduction here.</p><p>The important thing when putting together the interface with glade is to give each widget that you later want to interface with a meaningful ID.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Note that Glade can not only be used to create toplevel widgets (e.g. Windows). Instead one can start for instance with a <code>GtkGrid</code> or <code>GtkBox</code> serving as the base for a <a href="../customWidgets/#Custom/Composed-Widgets-1">Custom/Composed Widgets</a>.</p></div></div><h2><a class="nav-anchor" id="Builder-1" href="#Builder-1">Builder</a></h2><p>Once we have created the interface with Glade the result can be stored in an XML file that usually has the extension <code>.glade</code>. Lets assume we have created a file <code>myapp.glade</code> that looks like</p><pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;interface&gt;
  &lt;!-- interface-requires gtk+ 3.0 --&gt;
  &lt;object class=&quot;GtkWindow&quot; id=&quot;window1&quot;&gt;
    &lt;property name=&quot;can_focus&quot;&gt;False&lt;/property&gt;
    &lt;child&gt;
      &lt;object class=&quot;GtkButton&quot; id=&quot;button1&quot;&gt;
        &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;button&lt;/property&gt;
        &lt;property name=&quot;use_action_appearance&quot;&gt;False&lt;/property&gt;
        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
        &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
        &lt;property name=&quot;receives_default&quot;&gt;True&lt;/property&gt;
        &lt;property name=&quot;use_action_appearance&quot;&gt;False&lt;/property&gt;
      &lt;/object&gt;
    &lt;/child&gt;
  &lt;/object&gt;
&lt;/interface&gt;</code></pre><p>In order to access the widgets from Julia we first create a <code>GtkBuilder</code> object that will serve as our connector between the XML definition and our Julia code.</p><pre><code class="language-julia">b = GtkBuilder(filename=&quot;path/to/myapp.glade&quot;)</code></pre><p>Alternatively, if we would store above XML definition in a Julia string <code>myapp</code> we can initalize the builder by</p><pre><code class="language-julia">b = GtkBuilder(buffer=myapp)</code></pre><p>Now we want to access a widget from the XML file in order to actually display it on the screen. To do so we call</p><pre><code class="language-julia">win = b[&quot;window1&quot;]
showall(win)</code></pre><p>That is all that you need to know. You can thus see your builder as a kind of a widget store that you use when you need access to your widgets. It it therefore not really necessary to bind the widgets to local variables anymore but instead you can always use the builder object.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>If you are developing the code in a package you can get the package directory using the <code>Pkg.dir(&quot;MyPackage&quot;)</code> function. This allows you to put the files into the package directory and reference them in a relative manner.</p></div></div><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>From Julia 1.0 on, <code>Pkg.dir()</code> is deprecated. Instead, you can use the <code>@__DIR__</code> macro. For instance, if your glade file is located at <code>MyPackage/src/builder/myuifile.ui</code>, you can get the full path using <code>uifile = joinpath(@__DIR__, &quot;builder&quot;, &quot;myuifile.ui&quot;)</code>.</p></div></div><h2><a class="nav-anchor" id="Callbacks-1" href="#Callbacks-1">Callbacks</a></h2><p>The XML file lets us only describe the visual structure of our widgets and not their behavior when the using is interacting with it. For this reason, we will have to add callbacks to the widgets which we do in Julia code as it was described in <a href="../signals/#Signals-and-Callbacks-1">Signals and Callbacks</a>.</p><footer><hr/><a class="previous" href="../signals/"><span class="direction">Previous</span><span class="title">Signals and Callbacks</span></a><a class="next" href="../textwidgets/"><span class="direction">Next</span><span class="title">Text Widgets</span></a></footer></article></body></html>
