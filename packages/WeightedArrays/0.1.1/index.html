<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme · WeightedArrays.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>WeightedArrays.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Weighted-Arrays-.jl-1" href="#Weighted-Arrays-.jl-1">Weighted Arrays .jl</a></h1><p><a href="https://travis-ci.org/mcabbott/WeightedArrays.jl"><img src="https://travis-ci.org/mcabbott/WeightedArrays.jl.svg?branch=master" alt="Build Status"/></a></p><p>This simple package defines a <code>WeightedMatrix</code>, a struct with vector of weights corresponding to the columns of a matrix. By default the <code>weights(x)</code> add up to 1. The <code>array(x)</code> values may have a box constraint:</p><pre><code class="language-julia">julia&gt; Weighted(randn(3,5))
Weighted 3×5 Array{Float64,2}, of unclamped θ:
 -0.264476   -1.83297      0.0669732  -0.340433  -1.87672
  0.0461253  -0.330401     0.0215189   2.3129    -1.78839
  0.461376    0.00486523  -0.819182   -1.43221   -0.855756
with normalised weights p(θ), 5-element Array{Float64,1}:
 0.2  0.2  0.2  0.2  0.2

julia&gt; Weighted(rand(2,4), ones(4), 0, 1)
Weighted 2×4 Array{Float64,2}, clamped 0.0 ≦ θ ≦ 1.0:
 0.7842    0.257179  0.483388  0.780996
 0.138967  0.748165  0.387104  0.167825
with normalised weights p(θ), 4-element Array{Float64,1}:
 0.25  0.25  0.25  0.25</code></pre><p>These examples are roughly <code>wrandn(3,5)</code> and <code>wrand(2,4)</code>, there are also sub-random <code>sobol(3,7)</code> and regular <code>wgrid(2, 0:0.1:1)</code>. Their values are mutable, <code>clamp!(x)</code> will enforce the box constraint, and <code>normalise!(x)</code> (with an s) the weights.</p><p>They are not subtypes of <code>AbstractArray</code>, but many functions will work. For instance <code>x[1:2, :]</code> keeps only the first two rows (and the weights), <code>hcat(x,y)</code> will concatenate the weights, and <code>mapslices(f,x)</code> will act with <code>f</code> on columns &amp; then restore weights. <code>sort(x)</code> re-arranges columns to order by the weights, <code>sortcols(x)</code> orders by the array instead, <code>unique(x)</code> will accumulate the weights of identical columns. A few functions like <code>log(x)</code> and <code>tanh(x)</code> act element-wise but update the box constraints appropriately.</p><p>Most of this will work for any N-dimensional Array, not just a Matrix. The weights then belong to the last dimension.</p><p>&lt;img src=&quot;deps/red.png?raw=true&quot; width=&quot;440&quot; height=&quot;400&quot; alt=&quot;Plot example&quot; align=&quot;right&quot; padding=&quot;5&quot;&gt;</p><p>Plot recipes are defined, in which the area of points indicating weight. The example shown is a grid plus a bivariate sub-random normal distribution:</p><pre><code class="language-julia">julia&gt; using Plots

julia&gt; plot(wgrid(2, -5:5), m=:+)

julia&gt; plot!(soboln(2, 2000), m=:diamond, c=:red)</code></pre><p>With more than three rows e.g. <code>plot(wrandn(4,50))</code>, it will plot the first two principal components (and attempt to scale these correctly). There is a function <code>pplot(x)</code> which saves the PCA function (see help for <code>wPCA(x)</code>) in a global variable, so that <code>pplot!(t)</code> can add more points on the same axes.</p><p>The package is now registered, so can be installed by typing <code>]</code> and:</p><pre><code class="language-julia">pkg&gt; add WeightedArrays

julia&gt; using WeightedArrays</code></pre><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
