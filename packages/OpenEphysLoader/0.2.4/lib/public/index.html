<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public · OpenEphysLoader.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>OpenEphysLoader.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Library</span><ul><li class="current"><a class="toctext" href>Public</a><ul class="internal"></ul></li><li><a class="toctext" href="../internals/">Internals</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Library</li><li><a href>Public</a></li></ul></nav><hr/><div id="topbar"><span>Public</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Public-Documentation-1" href="#Public-Documentation-1">Public Documentation</a></h1><p>Documentation for exported functions and types for <code>OpenEphysLoader.jl</code></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader" href="#OpenEphysLoader"><code>OpenEphysLoader</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Module to read the binary data files created by the OpenEphys GUI</p><p>Provides array interfaces to file contents, without loading the entire file into memory</p></div></div></section><h3><a class="nav-anchor" id="Array-types-1" href="#Array-types-1">Array types</a></h3><p>All array types are subtypes of the abstract type <a href="#OpenEphysLoader.OEArray"><code>OEArray</code></a>, and data from continuous files are subtypes of the abstract type  <a href="#OpenEphysLoader.OEContArray"><code>OEContArray</code></a>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OEArray" href="#OpenEphysLoader.OEArray"><code>OpenEphysLoader.OEArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Abstract array for file-backed OpenEphys data.</p><p>All subtypes support a ready-only array interface and should be constructable with a single IOStream argument.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OEContArray" href="#OpenEphysLoader.OEContArray"><code>OpenEphysLoader.OEContArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Abstract array for file-backed continuous OpenEphys data.</p><p>Will throw <a href="#OpenEphysLoader.CorruptedException"><code>CorruptedException</code></a> if the data file has a corrupt <a href="#OpenEphysLoader.OriginalHeader"><code>OriginalHeader</code></a>, is not the correct size for an <code>.continuous</code> file, or contains corrupt data blocks.</p><p>Subtype of abstract type <a href="#OpenEphysLoader.OEArray"><code>OEArray</code></a> are read only, and have with the following fields:</p><p><strong>Fields</strong></p><p><strong><code>contfile</code></strong> <a href="#OpenEphysLoader.ContinuousFile"><code>ContinuousFile</code></a> for the current file.</p><p><strong><code>block</code></strong> buffer object for the data blocks in the file.</p><p><strong><code>blockno</code></strong> the current block being access in the file.</p><p><strong><code>check</code></strong> <code>Bool</code> to check each data block&#39;s validity.</p></div></div></section><p>The following array types can be used to access different aspects of the data:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.SampleArray" href="#OpenEphysLoader.SampleArray"><code>OpenEphysLoader.SampleArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">SampleArray([type::Type{T},] file::Union{IO, String}, [check::Bool, filepath::String])</code></pre><p>Subtype of <a href="#OpenEphysLoader.OEContArray"><code>OEContArray</code></a> to provide file backed access to OpenEphys sample values. If <code>type</code> is a floating point type, then the sample value will be converted to voltage (in uV). Otherwise, the sample values will remain the raw ADC integer readings.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.TimeArray" href="#OpenEphysLoader.TimeArray"><code>OpenEphysLoader.TimeArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">TimeArray([type::Type{T},] file::Union{IO, String}, [check::Bool, filepath::String])</code></pre><p>Subtype of <a href="#OpenEphysLoader.OEContArray"><code>OEContArray</code></a> to provide file backed access to OpenEphys time stamps. If <code>type</code> is a floating point type, then the time stamps will be converted to seconds. Otherwise, the time stamp will be the sample number.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.RecNoArray" href="#OpenEphysLoader.RecNoArray"><code>OpenEphysLoader.RecNoArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">RecNoArray([type::Type{T},] file::Union{IO, String}, [check::Bool, filepath::String])</code></pre><p>Subtype of <a href="#OpenEphysLoader.OEContArray"><code>OEContArray</code></a> to provide file backed access to OpenEphys numbers.</p></div></div></section><p>Alternatively, all three aspects can be accessed simultaneously:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.JointArray" href="#OpenEphysLoader.JointArray"><code>OpenEphysLoader.JointArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">JointArray([type::Type{T},] file::Union{IO, String}, [check::Bool, filepath::String])</code></pre><p>Subtype of <a href="#OpenEphysLoader.OEContArray"><code>OEContArray</code></a> to provide file backed access to OpenEphys data. Returns a tuple of type <code>type</code>, whose values represent <code>(samplevalue, timestamp, recordingnumber)</code>. For a description of each, see <a href="#OpenEphysLoader.SampleArray"><code>SampleArray</code></a>, <a href="#OpenEphysLoader.TimeArray"><code>TimeArray</code></a>, and <a href="#OpenEphysLoader.RecNoArray"><code>RecNoArray</code></a>, respectively.</p></div></div></section><h3><a class="nav-anchor" id="Information-types-1" href="#Information-types-1">Information types</a></h3><p>The following types provide information about OpenEphys files</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OriginalHeader" href="#OpenEphysLoader.OriginalHeader"><code>OpenEphysLoader.OriginalHeader</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">OriginalHeader(io::IOStream)</code></pre><p>Data in the header of binary OpenEphys files.</p><p>Will throw <a href="#OpenEphysLoader.CorruptedException"><code>CorruptedException</code></a> if header is corrupt, not an &quot;OpenEphys&quot; data format, or not version 0.4 of the data format.</p><p><strong>Fields</strong></p><p><strong><code>format</code></strong> is the name of the data format.</p><p><strong><code>version</code></strong> is the version number of the data format.</p><p><strong><code>headerbytes</code></strong> is the number of bytes in the header.</p><p><strong><code>description</code></strong> is a description of the header.</p><p><strong><code>created</code></strong> is the date and time the file was created.</p><p><strong><code>channel</code></strong> is the name of the channel used to acquire this data.</p><p><strong><code>channeltype</code></strong> is the type of channel used to acquire this data.</p><p><strong><code>samplerate</code></strong> is the sampling rate in Hz.</p><p><strong><code>blocklength</code></strong> is the length in bytes of each block of data within the file.</p><p><strong><code>buffersize</code></strong> is the size of the buffer used during acquisition, in bytes.</p><p><strong><code>bitvolts</code></strong> are the Volts per ADC bit.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.ContinuousFile" href="#OpenEphysLoader.ContinuousFile"><code>OpenEphysLoader.ContinuousFile</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">ContinuousFile(io::IOStream)</code></pre><p>Type for an open continuous file.</p><p><strong>Fields</strong></p><p><strong><code>io</code></strong> <code>IOStream</code> object.</p><p><strong><code>filepath</code></strong> Path to underlying file, possibly empty</p><p><strong><code>nsample</code></strong> number of samples in a file.</p><p><strong><code>nblock</code></strong> number of data blocks in a file.</p><p><strong><code>header</code></strong> <a href="#OpenEphysLoader.OriginalHeader"><code>OriginalHeader</code></a> of the current file.</p></div></div></section><h3><a class="nav-anchor" id="Recording-metadata-1" href="#Recording-metadata-1">Recording metadata</a></h3><p>Information about the recording session can be gathered from the  <code>settings.xml</code> and <code>Continuous_Data.openephys</code> files by using the  <a href="#OpenEphysLoader.metadata"><code>metadata</code></a> function. The contents of the metadata files are  contained in the <a href="#OpenEphysLoader.OEExperMeta"><code>OEExperMeta</code></a> datatype.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.metadata" href="#OpenEphysLoader.metadata"><code>OpenEphysLoader.metadata</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">metadata([dirpath::AbstractString = pwd()]; settingsfile = &quot;settings.xml&quot;, continuousmeta=&quot;Continuous_Data.openephys&quot;)</code></pre><p>Top-level function to read a directory and parse the <code>settings.xml</code> and <code>Continuous_data.openeephys</code> files.</p><p>returns a <a href="#OpenEphysLoader.OEExperMeta"><code>OEExperMeta</code></a>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OEExperMeta" href="#OpenEphysLoader.OEExperMeta"><code>OpenEphysLoader.OEExperMeta</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">OEExperMeta{S&lt;:AbstractString, T&lt;:OEProcessor}(s::OESettings, exper::LightXML.XMLElement)</code></pre><p>Type to represent the Experiment metadata in <code>Continuous_Data.openephys</code>.</p><p>Construct with the <a href="#OpenEphysLoader.OESettings"><code>OESettings</code></a> from <code>settings.xml</code> and XML experiment element.</p><p><strong>Fields</strong></p><p><strong><code>file_version</code></strong> <code>VersionNumber</code> continuous file format version</p><p><strong><code>experiment_number</code></strong> <code>Int</code> experiment number</p><p><strong><code>separate_files</code></strong> <code>Bool</code> <code>true</code> if files are separate</p><p><strong><code>recordings</code></strong> <code>Vector{OERecordingMeta{T}}</code> <code>Vector</code> of each <a href="#OpenEphysLoader.OERecordingMeta"><code>OERecordingMeta</code></a> within the experiment</p><p><strong><code>settings</code></strong> <a href="#OpenEphysLoader.OESettings"><code>OESettings</code></a> of the <code>settings.xml</code> file</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OESettings" href="#OpenEphysLoader.OESettings"><code>OpenEphysLoader.OESettings</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">OESettings{S&lt;:AbstractString, T&lt;:OEProcessor}(xdoc::LightXML.XMLDocument)</code></pre><p>Type to represent information in the <code>settings.xml</code> file made by the Open Ephys GUI.</p><p>Construct with the XML document for <code>settings.xml</code></p><p><strong>Fields</strong></p><p><strong><code>info</code></strong> <a href="#OpenEphysLoader.OEInfo"><code>OEInfo</code></a> GUI info.</p><p><strong><code>recording_chain</code></strong> <a href="../internals/#OpenEphysLoader.OESignalTree"><code>OESignalTree</code></a> Signal tree that leads to recording processors.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OEInfo" href="#OpenEphysLoader.OEInfo"><code>OpenEphysLoader.OEInfo</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">OEInfo{T&lt;:AbstractString}(info_e::LigthXML.XMLElement)</code></pre><p>Type to represent the info element in <code>settings.xml</code> made by Open Ephys.</p><p>Construct with the XML info element.</p><p><strong>Fields</strong></p><p><strong><code>gui_version</code></strong> <code>VersionNumber</code> GUI version</p><p><strong><code>plugin_api_version</code></strong> <code>VersionNumber</code> plugin API version. If <code>gui_version</code> is less than <code>0.4.0</code> then this will be <code>0</code></p><p><strong><code>datetime</code></strong> <code>DateTime</code> date and time that <code>settings.xml</code> was made</p><p><strong><code>os</code></strong> <code>T</code> Operating system of computer running GUI</p><p><strong><code>machine</code></strong> <code>T</code> hostname of computer running GUI</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OERecordingMeta" href="#OpenEphysLoader.OERecordingMeta"><code>OpenEphysLoader.OERecordingMeta</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">OERecordingMeta{T&lt;:OEProcessor}(settings::OESettings, rec_e::LightXML.XMLElement)</code></pre><p>Type that represents recording metadata in <code>Continuous_Data.openephys</code> file made by the Open Ephys GUI.</p><p>Construct with a <a href="#OpenEphysLoader.OESettings"><code>OESettings</code></a> from the <code>settings.xml</code> file, and the XML recording element of the <code>Continuous_Data.openephys</code> file.</p><p><strong>Fields</strong></p><p><strong><code>number</code></strong> <code>Int</code> Recording number</p><p><strong><code>samplerate</code></strong> <code>Float64</code> Sampling rate</p><p><strong><code>recording_processors</code></strong> <code>Vector{T}</code> list of recording processors</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OEProcessor" href="#OpenEphysLoader.OEProcessor"><code>OpenEphysLoader.OEProcessor</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">OEProcessor{T&lt;:AbstractString}</code></pre><p>Abstract type for recording Open Ephys processors.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OERhythmProcessor" href="#OpenEphysLoader.OERhythmProcessor"><code>OpenEphysLoader.OERhythmProcessor</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">OERhythmProcessor{T&lt;:AbstractString}(proc_e::LightXML.XMLElement)</code></pre><p>Type for Rhythm processor metadata, subtype of <a href="#OpenEphysLoader.OEProcessor"><code>OEProcessor</code></a>.</p><p>Construct with XML element for processor.</p><p><strong>Fields</strong></p><p><strong><code>id</code></strong> <code>Int</code> of processor ID in GUI</p><p><strong><code>lowcut</code></strong> <code>Float64</code> of low pass filter cutoff on headstages</p><p><strong><code>highcut</code></strong> <code>Float64</code> of high pass filter cutoff on headstages</p><p><strong><code>adcs_on</code></strong> <code>Bool</code> <code>true</code> if ADCs on</p><p><strong><code>noiseslicer</code></strong> <code>Bool</code> <code>true</code> if noiseslicer used for ADC</p><p><strong><code>ttl_fastsettle</code></strong> <code>Bool</code> <code>true</code> if TTL fast settle used</p><p><strong><code>dac_ttl</code></strong> <code>Bool</code> <code>true</code> if dac ttl is on</p><p><strong><code>dac_hpf</code></strong> <code>Bool</code> <code>true</code> if dac hpf is on</p><p><strong><code>dsp_offset</code></strong> <code>Bool</code> <code>true</code> if headstage DSP offset removal is used</p><p><strong><code>dsp_cutoff</code></strong> <code>Float64</code> of DSP high pass filter cutoff</p><p><strong><code>channels</code></strong> <code>Vector{OEChannel{T}}</code> list of <a href="#OpenEphysLoader.OEChannel"><code>OEChannel</code></a> in Rhythm processor</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.OEChannel" href="#OpenEphysLoader.OEChannel"><code>OpenEphysLoader.OEChannel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">OEChannel{T&lt;:AbstractString}</code></pre><p>Type for continuous recording channel metadata</p><p><strong>Fields</strong></p><p><strong><code>name</code></strong> <code>T</code> of channel name</p><p><strong><code>number</code></strong> <code>Int</code> of channel number in GUI</p><p><strong><code>bitvolts</code></strong> <code>Float64</code> of volts per ADC bit</p><p><strong><code>position</code></strong> <code>Vector{Int}</code> vector of start position in the file for each recording&#39;s data.</p><p><strong><code>filename</code></strong> <code>T</code> name of associated <code>.continuous</code> file</p></div></div></section><h3><a class="nav-anchor" id="Exceptions-1" href="#Exceptions-1">Exceptions</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenEphysLoader.CorruptedException" href="#OpenEphysLoader.CorruptedException"><code>OpenEphysLoader.CorruptedException</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Exception type to indicate a malformed data file</p></div></div></section><footer><hr/><a class="previous" href="../../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../internals/"><span class="direction">Next</span><span class="title">Internals</span></a></footer></article></body></html>
