<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· Xtensor.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Xtensor.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Documentation-1">Documentation</a></li><li><a class="toctext" href="#Usage-1">Usage</a></li><li><a class="toctext" href="#Building-the-HTML-Documentation-1">Building the HTML Documentation</a></li><li><a class="toctext" href="#Running-the-C-tests-1">Running the C++ tests</a></li><li><a class="toctext" href="#Dependencies-on-xtensor,-xtensor-julia,-and-CxxWrap-1">Dependencies on <code>xtensor</code>, <code>xtensor-julia</code>, and <code>CxxWrap</code></a></li><li><a class="toctext" href="#License-1">License</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="![Xtensor.jl](xtensor-julia.svg)-1" href="#![Xtensor.jl](xtensor-julia.svg)-1"><img src="xtensor-julia.svg" alt="Xtensor.jl"/></a></h1><p><a href="https://travis-ci.org/QuantStack/Xtensor.jl"><img src="https://travis-ci.org/QuantStack/Xtensor.jl.svg?branch=master" alt="Travis"/></a> <a href="https://ci.appveyor.com/project/QuantStack/xtensor-jl"><img src="https://ci.appveyor.com/api/projects/status/ddwxiu61ee6p9tp5?svg=true" alt="Appveyor"/></a> <a href="https://xtensor-julia.readthedocs.io/en/latest/?badge=latest"><img src="http://readthedocs.org/projects/xtensor-julia/badge/?version=latest" alt="Documentation Status"/></a> <a href="https://gitter.im/QuantStack/Lobby?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the Gitter Chat"/></a></p><p>Julia package for the <code>xtensor-julia</code> library, the Julia bindings for <a href="https://github.com/QuantStack/xtensor">xtensor</a>.</p><ul><li><p><code>xtensor</code> is a C++ library for multi-dimensional arrays enabling numpy-style broadcasting and lazy computing.</p></li><li><p><code>xtensor-julia</code> enables inplace use of julia arrays in C++ with all the benefits from <code>xtensor</code></p><ul><li>C++ universal function and broadcasting</li><li>STL - compliant APIs.</li><li>A broad coverage of numpy APIs (see <a href="http://xtensor.readthedocs.io/en/latest/numpy.html">the numpy to xtensor cheat sheet</a>).</li></ul></li></ul><p>The Julia bindings for <code>xtensor</code> are based on the <a href="https://github.com/JuliaInterop/CxxWrap.jl/">CxxWrap.jl</a> C++ library.</p><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><pre><code class="language-julia">using Pkg; Pkg.add(&quot;Xtensor&quot;);</code></pre><h2><a class="nav-anchor" id="Documentation-1" href="#Documentation-1">Documentation</a></h2><p>To get started with using <code>Xtensor.jl</code> and <code>xtensor-julia</code>, check out the full documentation</p><p>http://xtensor-julia.readthedocs.io/</p><h2><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h2><p>xtensor-julia offers two container types wrapping julia arrays inplace to provide an xtensor semantics</p><ul><li><code>jltensor</code></li><li><code>jlarray</code>.</li></ul><p>Both containers enable the numpy-style APIs of xtensor (see <a href="http://xtensor.readthedocs.io/en/latest/numpy.html">the numpy to xtensor cheat sheet</a>).</p><ul><li><p>On the one hand, <code>jlarray</code> has a dynamic number of dimensions. It can be reshaped dynamically and the new shape is reflected on the Julia side.</p></li><li><p>On the other hand <code>jltensor</code> has a compile time number of dimensions, specified with a template parameter. Shapes of <code>jltensor</code> instances are stack allocated, making <code>jltensor</code> a significantly faster expression than <code>jlarray</code>.</p></li></ul><h3><a class="nav-anchor" id="Example-1:-Use-an-algorithm-of-the-C-standard-library-with-Julia-array.-1" href="#Example-1:-Use-an-algorithm-of-the-C-standard-library-with-Julia-array.-1">Example 1: Use an algorithm of the C++ standard library with Julia array.</a></h3><p><strong>C++ code</strong></p><pre><code class="language-cpp">#include &lt;numeric&gt;                        // Standard library import for std::accumulate
#include &lt;cxx_wrap.hpp&gt;                   // libcxxwrap import to define Julia bindings
#include &quot;xtensor-julia/jltensor.hpp&quot;     // Import the jltensor container definition
#include &quot;xtensor/xmath.hpp&quot;              // xtensor import for the C++ universal functions

double sum_of_sines(xt::jltensor&lt;double, 2&gt; m)
{
    auto sines = xt::sin(m);  // sines does not actually hold values.
    return std::accumulate(sines.cbegin(), sines.cend(), 0.0);
}

JLCXX_MODULE define_julia_module(jlcxx::Module&amp; mod)
{
    mod.method(&quot;sum_of_sines&quot;, sum_of_sines);
}</code></pre><p><strong>Julia Code</strong></p><pre><code class="language-julia">using xtensor_julia_test

arr = [[1.0 2.0]
       [3.0 4.0]]

s = sum_of_sines(arr)
s</code></pre><p><strong>Outputs</strong></p><pre><code class="language-none">1.1350859243855171</code></pre><h3><a class="nav-anchor" id="Example-2:-Create-a-numpy-style-universal-function-from-a-C-scalar-function-1" href="#Example-2:-Create-a-numpy-style-universal-function-from-a-C-scalar-function-1">Example 2: Create a numpy-style universal function from a C++ scalar function</a></h3><p><strong>C++ code</strong></p><pre><code class="language-cpp">#include &lt;cxx_wrap.hpp&gt;
#include &quot;xtensor-julia/jlvectorize.hpp&quot;

double scalar_func(double i, double j)
{
    return std::sin(i) - std::cos(j);
}

JLCXX_MODULE define_julia_module(jlcxx::Module&amp; mod)
{
    mod.method(&quot;vectorized_func&quot;, xt::jlvectorize(scalar_func));
}</code></pre><p><strong>Julia Code</strong></p><pre><code class="language-julia">using xtensor_julia_test

x = [[ 0.0  1.0  2.0  3.0  4.0]
     [ 5.0  6.0  7.0  8.0  9.0]
     [10.0 11.0 12.0 13.0 14.0]]
y = [1.0, 2.0, 3.0, 4.0, 5.0]
z = xt.vectorized_func(x, y)
z</code></pre><p><strong>Outputs</strong></p><pre><code class="language-none">[[-0.540302  1.257618  1.89929   0.794764 -1.040465],
 [-1.499227  0.136731  1.646979  1.643002  0.128456],
 [-1.084323 -0.583843  0.45342   1.073811  0.706945]]</code></pre><h2><a class="nav-anchor" id="Building-the-HTML-Documentation-1" href="#Building-the-HTML-Documentation-1">Building the HTML Documentation</a></h2><p><code>xtensor-julia</code>&#39;s documentation is built with three tools</p><ul><li><a href="http://www.doxygen.org">doxygen</a></li><li><a href="http://www.sphinx-doc.org">sphinx</a></li><li><a href="https://breathe.readthedocs.io">breathe</a></li></ul><p>While doxygen must be installed separately, you can install breathe by typing</p><pre><code class="language-bash">pip install breathe</code></pre><p>Breathe can also be installed with <code>conda</code></p><pre><code class="language-bash">conda install -c conda-forge breathe</code></pre><p>Finally, build the documentation with</p><pre><code class="language-bash">make html</code></pre><p>from the <code>docs</code> subdirectory.</p><h2><a class="nav-anchor" id="Running-the-C-tests-1" href="#Running-the-C-tests-1">Running the C++ tests</a></h2><p>From <code>deps/build</code></p><pre><code class="language-none">cmake -D JlCxx_DIR=/path/to/.julia/v0.6/CxxWrap/deps/usr/lib/cmake/JlCxx -D BUILD_TESTS=ON ..</code></pre><h2><a class="nav-anchor" id="Dependencies-on-xtensor,-xtensor-julia,-and-CxxWrap-1" href="#Dependencies-on-xtensor,-xtensor-julia,-and-CxxWrap-1">Dependencies on <code>xtensor</code>, <code>xtensor-julia</code>, and <code>CxxWrap</code></a></h2><p><code>Xtensor.jl</code> depends on <code>xtensor-julia</code>, <code>xtensor</code> and <code>CxxWrap</code> libraries</p><table><tr><th><code>Xtensor.jl</code></th><th><code>xtensor</code></th><th><code>xtensor-julia</code></th><th><code>CxxWrap</code></th></tr><tr><td>master</td><td>&gt;=0.18.1,&lt;0.19</td><td>0.6.0</td><td>&gt;=0.8.1,&lt;0.9</td></tr><tr><td>0.6.0</td><td>&gt;=0.18.1,&lt;0.19</td><td>0.6.0</td><td>&gt;=0.8.1,&lt;0.9</td></tr><tr><td>0.5.0</td><td>&gt;=0.18.0,&lt;0.19</td><td>0.5.0</td><td>&gt;=0.6,&lt;0.7</td></tr><tr><td>0.4.0</td><td>&gt;=0.17.1,&lt;0.18</td><td>0.4.0</td><td>&gt;=0.6,&lt;0.7</td></tr><tr><td>0.3.0</td><td>&gt;=0.16.3,&lt;0.17</td><td>0.3.0</td><td>&gt;=0.6,&lt;0.7</td></tr><tr><td>0.2.1</td><td>&gt;=0.16.1,&lt;0.17</td><td></td><td>&gt;=0.5,&lt;0.6</td></tr><tr><td>0.2.0</td><td>&gt;=0.16.0,&lt;0.17</td><td></td><td>&gt;=0.5,&lt;0.6</td></tr><tr><td>0.1.0</td><td>&gt;=0.15.4,&lt;0.16</td><td></td><td>&gt;=0.5,&lt;0.6</td></tr></table><p>These dependencies are automatically resolved when using the Julia package manager.</p><h2><a class="nav-anchor" id="License-1" href="#License-1">License</a></h2><p>We use a shared copyright model that enables all contributors to maintain the copyright on their contributions.</p><p>This software is licensed under the BSD-3-Clause license. See the <a href="LICENSE">LICENSE</a> file for details.</p><footer><hr/></footer></article></body></html>
