<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Docstrings · GtkUtilities.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>GtkUtilities.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Readme</a></li><li class="current"><a class="toctext" href>Docstrings</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Docstrings</a></li></ul></nav><hr/><div id="topbar"><span>Docstrings</span><a class="fa fa-bars" href="#"></a></div></header><pre><code class="language-none">GtkUtilities.AbstractState</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.GtkUtilities" href="#GtkUtilities.GtkUtilities"><code>GtkUtilities.GtkUtilities</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Summary of features in GtkUtilities:</p><ul><li><code>rubberband_start</code>: initiate rubber band selection</li><li><code>guidata</code>: associate user data with on-screen elements</li></ul><p>Each of these has detailed help available, e.g., <code>?guidata</code>.</p></div></div></section><pre><code class="language-none">GtkUtilities.GuiData</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.PanZoom.Interval" href="#GtkUtilities.PanZoom.Interval"><code>GtkUtilities.PanZoom.Interval</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>An <code>Interval</code> is a <code>(min,max)</code> pair. It is the one-dimensional analog of a <code>BoundingBox</code>.</p></div></div></section><pre><code class="language-none">GtkUtilities.Link</code></pre><pre><code class="language-none">GtkUtilities.PanZoom</code></pre><pre><code class="language-none">GtkUtilities.RubberBands</code></pre><pre><code class="language-none">GtkUtilities.State</code></pre><pre><code class="language-none">GtkUtilities.disconnect</code></pre><pre><code class="language-none">GtkUtilities.eval</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.PanZoom.fullview" href="#GtkUtilities.PanZoom.fullview"><code>GtkUtilities.PanZoom.fullview</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>iv = fullview(limits)</code> returns an <code>Interval</code> <code>iv</code> that encompases the full view as permitted by <code>limits</code>.</p><p>If <code>limits == nothing</code>, then <code>fullview</code> returns <code>nothing</code>.</p><p>The simplest effectual <code>limits</code> object is another <code>Interval</code> representing the &quot;whole canvas&quot; along the chosen axis. If you need more sophisticated behavior, you can extend this function to work with custom types of <code>limits</code> objects.</p></div></div></section><pre><code class="language-none">GtkUtilities.get</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.GuiData.guidata" href="#GtkUtilities.GuiData.guidata"><code>GtkUtilities.GuiData.guidata</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Given a widget (Button, Canvas, Window, etc.) or other graphical object <code>w</code>, a value <code>val</code> can be associated with (&quot;stored in&quot;) <code>w</code> using</p><pre><code class="language-none">guidata[w, :name] = val</code></pre><p>where <code>:name</code> is the name (a Symbol) you&#39;ve assigned to <code>val</code> for the purposes of storage.</p><p>The value can be retrieved with</p><pre><code class="language-none">val = guidata[w, :name]</code></pre><p>Here are some other things you can do with <code>guidata</code>:</p><pre><code class="language-none">alldata = guidata[w]           # fetch all data associated with w
val = get(guidata, (w,:name), default)   # returns default if :name not defined
delete!(guidata, (w,:name))    # deletes the value associated with :name
delete!(guidata, w)            # deletes all data associated with w

Example:

    c = Canvas()
    panzoom(c, (0,1), (0,1))
    xview = guidata[c, :xview]</code></pre><p>Note that if <code>:name</code> corresponds to a <code>State</code> object, <code>guidata</code> will get/set the <strong>value</strong> of the State object, transparently stripping the wrapper itself.  This means that you change the value without destroying any links you have set up.  If you need the state object itself, use the <code>raw</code> keyword:</p><pre><code class="language-jl">    state = getindex(guidata, c, :name; raw=true)     # retrieves a state object
    setindex!(guidata, newstate, c, :name; raw=true)  # replaces the old state object</code></pre></div></div></section><pre><code class="language-none">GtkUtilities.id</code></pre><pre><code class="language-none">GtkUtilities.image_surface</code></pre><pre><code class="language-none">GtkUtilities.image_to_cairo</code></pre><pre><code class="language-none">GtkUtilities.include</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.PanZoom.interior" href="#GtkUtilities.PanZoom.interior"><code>GtkUtilities.PanZoom.interior</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>ivnew = interior(iv, limits)</code> returns a new version of <code>iv</code>, an <code>Interval</code>, which is inside the region allowd by <code>limits</code>. One should prefer &quot;shifting&quot; <code>iv</code> over &quot;shrinking&quot; <code>iv</code> (if possible, the width of <code>iv</code> should be preserved).</p><p>If <code>limits == nothing</code>, then <code>iv</code> is unconstrained and <code>ivnew == iv</code>.</p><p>The simplest effectual <code>limits</code> object is another <code>Interval</code> representing the full view interval across the chosen axis. If you need more sophisticated behavior, you can extend this function to work with custom types of <code>limits</code> objects.</p></div></div></section><pre><code class="language-none">GtkUtilities.lEntry</code></pre><pre><code class="language-none">GtkUtilities.lLabel</code></pre><pre><code class="language-none">GtkUtilities.lScale</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.Link.link" href="#GtkUtilities.Link.link"><code>GtkUtilities.Link.link</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>w_linked = link(state, widget)</code> links the value of the user-interface element <code>widget</code> to the value of the <code>AbstractState</code> <code>state</code>. The two will henceforth be synchronized: calling <code>get(state)</code> or <code>get(w_linked)</code> returns the current value, and <code>set!(state, val)</code> or <code>set!(w_linked, val)</code> will change the value for all mutually-linked objects.</p><p><code>link(state, c)</code>, where <code>c</code> is a <code>Canvas</code>, makes <code>c</code> a listener for <code>state</code>. There is no return value.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.PanZoom.panzoom" href="#GtkUtilities.PanZoom.panzoom"><code>GtkUtilities.PanZoom.panzoom</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-jl">panzoom(c)
panzoom(c, xviewlimits, yviewlimits)
panzoom(c, xviewlimits, yviewlimits, xview, yview)
panzoom(c2, c1)</code></pre><p>sets up the Canvas <code>c</code> for panning and zooming. The arguments may be 2-tuples, 2-vectors, Intervals, or <code>nothing</code>.</p><p><code>panzoom</code> creates the <code>:view[x|y]</code>, <code>:view[x|y]limits</code> properties of <code>c</code>:</p><ul><li><p><code>:xview</code>, <code>:yview</code> are two <code>AbstractState</code>s (for horizontal and   vertical, respectively), each holding an Interval specifying   the current &quot;view&quot; limits. This might be the entire area, or it   might be a subregion due to a previous zoom event.</p></li><li><p><code>:xviewlimits</code>, <code>:yviewlimits</code> encode the maximum allowable viewing   region; in most cases these will also be <code>State{Interval}</code>s, but   any object that supports <code>interior</code> and <code>fullview</code> may be used.   Use <code>nothing</code> to indicate unlimited range.</p></li></ul><p>If <code>c</code> is the only argument to <code>panzoom</code>, then the current user-coordinate limits of <code>c</code> are used.  Note that this invocation works only if the Canvas has been drawn at least once; if that is not the case, you need to specify the limits manually.</p><p><code>panzoom(c2, c1)</code> sets canvas <code>c2</code> to share pan/zoom state with canvas <code>c1</code>.  Panning or zooming in either one will cause the same action in the other.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.PanZoom.panzoom_key" href="#GtkUtilities.PanZoom.panzoom_key"><code>GtkUtilities.PanZoom.panzoom_key</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>id = panzoom_key(c; kwargs...)</code> initializes panning- and zooming-by-keypress for a canvas <code>c</code>. <code>c</code> is expected to have the four <code>guidata</code> properties described in <code>panzoom</code>.</p><p>You can configure the keys through keyword arguments. The default settings are shown below. The first entry is the key, the second a modifier (like the SHIFT key); <code>0</code> means no modifier.</p><pre><code class="language-none">    panleft      = (GDK_KEY_Left,0),
    panright     = (GDK_KEY_Right,0),
    panup        = (GDK_KEY_Up,0),
    pandown      = (GDK_KEY_Down,0),
    panleft_big  = (GDK_KEY_Left,SHIFT),
    panright_big = (GDK_KEY_Right,SHIFT),
    panup_big    = (GDK_KEY_Up,SHIFT),
    pandown_big  = (GDK_KEY_Down,SHIFT),
    xpanflip     = false,
    ypanflip     = false
    zoomin       = (GDK_KEY_Up,  CONTROL)
    zoomout      = (GDK_KEY_Down,CONTROL)</code></pre><p>&quot;Regular&quot; panning motions correspond to 10% of the view region; &quot;big&quot; panning motions are 100% of the view region, and thus jump by one whole view area.  The constants are defined in <code>Gtk.GConstants</code> and the modifiers in <code>Gtk.GConstants.GdkModifierType</code>.</p><p>The returned <code>id</code> can be disabled or enabled via <code>signal_handler_block</code> and <code>signal_handler_unblock</code>, respectively, or removed with <code>signal_handler_disconnect</code>.</p><p>Example:</p><pre><code class="language-none">    c = Canvas()
    panzoom(c, (0,1), (0,1))
    id = panzoom_key(c)</code></pre><p>The <code>draw</code> method for <code>c</code> should take account of <code>:viewbb</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.PanZoom.panzoom_mouse" href="#GtkUtilities.PanZoom.panzoom_mouse"><code>GtkUtilities.PanZoom.panzoom_mouse</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>panzoom_mouse(c; kwargs...)</code> initializes panning-by-mouse-scroll and mouse control over zooming for a canvas <code>c</code>.</p><p>zooming or panning (along either x or y) is selected by modifier keys, which are configurable through keyword arguments.  The default settings are:</p><pre><code class="language-none">    # Panning
    xpan      = SHIFT     # hold down the shift key
    ypan      = 0
    xpanflip  = false
    ypanflip  = false
    # Zooming
    zoom      = CONTROL     # hold down the ctrl-key while scrolling
    focus     = :pointer    # zoom around the position under the mouse pointer
    factor    = 2.0
    initiate  = BUTTON_PRESS # start a rubberband selection for zoom
    reset     = DOUBLE_BUTTON_PRESS    # go back to original limits</code></pre><p>where 0 means no modifier. SHIFT, CONTROL, BUTTON<em>PRESS, and DOUBLE</em>BUTTON_PRESS are defined in <code>Gtk.GConstants.GdkModifierType</code>.</p><p>The <code>focus</code> keyword controls how the zooming progresses as you scroll the mouse wheel. <code>:pointer</code> means that whatever feature of the canvas is under the pointer will stay there as you zoom in or out. The other choice, <code>:center</code>, keeps the canvas centered on its current location. These behaviors are subject to modification by the canvas&#39; <code>:viewlimits</code> data.</p><p>An additional keyword is <code>user_to_data</code>, for which you may supply a function</p><pre><code class="language-none">    user_to_data_fcn(c, x, y) -&gt; (datax, datay)</code></pre><p>that converts canvas user-coordinates to &quot;data coordinates&quot; before setting the values of :xview and :yview.</p><p>For important additional information, see <code>panzoom_key</code>. To disable mouse panning and zooming, use</p><pre><code class="language-none">    pop!((c.mouse, :scroll))
    pop!((c.mouse, :button1press))</code></pre><p>Example:</p><pre><code class="language-none">    c = Canvas()
    panzoom(c, (0,1), (0,1))
    panzoom_mouse(c)</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.RubberBands.rubberband_start" href="#GtkUtilities.RubberBands.rubberband_start"><code>GtkUtilities.RubberBands.rubberband_start</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>rubberband_start(c, x, y, callback_done; minpixels=2)</code> starts a rubber-band selection on Canvas <code>c</code> at position <code>(x,y)</code>.  When the user releases the mouse button, the callback function <code>callback_done(c, bb)</code> is run, where <code>bb</code> is the BoundingBox of the selected region.  To reduce the likelihood that clicks used to raise windows will result in rubber banding, the callback is not executed unless the user drags the mouse by at least <code>minpixels</code> pixels (default value 2).</p><p>Example:</p><pre><code class="language-none">c.mouse.button1press = (widget, event) -&gt; begin
    if event.event_type == Gtk.GdkEventType.BUTTON_PRESS
        GtkUtilities.rubberband_start(c, event.x, event.y, (c, bb) -&gt; @show bb)
    end
end</code></pre><p>would set up a Canvas so that rubberband selection starts when the user clicks the mouse; when the button is released, it displays the bounding box of the selection region.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.Link.set!" href="#GtkUtilities.Link.set!"><code>GtkUtilities.Link.set!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>set(w, val)</code> sets the value of the linked widget <code>w</code> and fires the callback, thereby updating all other linked widgets.</p></div></div></section><pre><code class="language-none">GtkUtilities.set_coordinates</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.Link.set_quietly!" href="#GtkUtilities.Link.set_quietly!"><code>GtkUtilities.Link.set_quietly!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>set_quietly!(w, val)</code> sets the value of the linked widget <code>w</code> without firing the callback.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GtkUtilities.GuiData.trigger" href="#GtkUtilities.GuiData.trigger"><code>GtkUtilities.GuiData.trigger</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>trigger(widgets, symbols)</code> is used when you want to set several state variables simultaneously, but don&#39;t want to refresh the screen more frequently than necessary. You can set the <code>.value</code> parameter of the state variables directly, then call <code>trigger</code> to synchronize the GUI.</p></div></div></section><pre><code class="language-none">GtkUtilities.widget</code></pre><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Readme</span></a></footer></article></body></html>
