<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sea-water properties · PhysOcean</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PhysOcean</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Sea-water properties</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Heat-fluxes-1">Heat fluxes</a></li><li class="toplevel"><a class="toctext" href="#Filtering-1">Filtering</a></li><li class="toplevel"><a class="toctext" href="#Earth-1">Earth</a></li><li class="toplevel"><a class="toctext" href="#GFD-1">GFD</a></li><li class="toplevel"><a class="toctext" href="#Data-download-1">Data download</a></li><li><a class="toctext" href="#CMEMS-1">CMEMS</a></li><li><a class="toctext" href="#World-Ocean-Database-(NODC)-1">World Ocean Database (NODC)</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Sea-water properties</a></li></ul></nav><hr/><div id="topbar"><span>Sea-water properties</span><a class="fa fa-bars" href="#"></a></div></header><p>PhysOcean</p><h1><a class="nav-anchor" id="Sea-water-properties-1" href="#Sea-water-properties-1">Sea-water properties</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.density-Tuple{Any,Any,Any}" href="#PhysOcean.density-Tuple{Any,Any,Any}"><code>PhysOcean.density</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">density(S,T,p)</code></pre><p>Compute the density of sea-water (kg/m³) at the salinity <code>S</code> (psu, PSS-78), temperature <code>T</code> (degree Celsius, ITS-90) and pressure <code>p</code> (decibar) using the UNESCO 1983 polynomial.</p><p>Fofonoff, N.P.; Millard, R.C. (1983). Algorithms for computation of fundamental properties of seawater. UNESCO Technical Papers in Marine Science, No. 44. UNESCO: Paris. 53 pp. http://web.archive.org/web/20170103000527/http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.secant_bulk_modulus-Tuple{Any,Any,Any}" href="#PhysOcean.secant_bulk_modulus-Tuple{Any,Any,Any}"><code>PhysOcean.secant_bulk_modulus</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">secant_bulk_modulus(S,T,p)</code></pre><p>Compute the secant bulk modulus of sea-water (bars) at the salinity <code>S</code> (psu, PSS-78), temperature <code>T</code> (degree Celsius, ITS-90) and pressure <code>p</code> (decibar) using the UNESCO polynomial 1983.</p><p>Fofonoff, N.P.; Millard, R.C. (1983). Algorithms for computation of fundamental properties of seawater. UNESCO Technical Papers in Marine Science, No. 44. UNESCO: Paris. 53 pp. http://web.archive.org/web/20170103000527/http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.freezing_temperature-Tuple{Any}" href="#PhysOcean.freezing_temperature-Tuple{Any}"><code>PhysOcean.freezing_temperature</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">freezing_temperature(S)</code></pre><p>Compute the freezing temperature (in degree Celsius) of sea-water based on the salinity <code>S</code> (psu).</p></div></div></section><h1><a class="nav-anchor" id="Heat-fluxes-1" href="#Heat-fluxes-1">Heat fluxes</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.latentflux-NTuple{5,Any}" href="#PhysOcean.latentflux-NTuple{5,Any}"><code>PhysOcean.latentflux</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">latentflux(Ts,Ta,r,w,pa)</code></pre><p>Compute the latent heat flux (W/m²) using the sea surface temperature <code>Ts</code> (degree Celsius), the air temperature <code>Ta</code> (degree Celsius), the relative humidity <code>r</code> (0 ≤ r ≤ 1, pressure ratio, not percentage), the wind speed <code>w</code> (m/s) and the air pressure (hPa).</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.longwaveflux-NTuple{4,Any}" href="#PhysOcean.longwaveflux-NTuple{4,Any}"><code>PhysOcean.longwaveflux</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">longwaveflux(Ts,Ta,e,tcc)</code></pre><p>Compute the long wave heat flux (W/m²) using the sea surface temperature <code>Ts</code> (degree Celsius), the air temperature <code>Ta</code> (degree Celsius), the wate vapour pressure <code>e</code> (hPa) and the total cloud coverage <code>ttc</code> (0 ≤ tcc ≤ 1).</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.sensibleflux-Tuple{Any,Any,Any}" href="#PhysOcean.sensibleflux-Tuple{Any,Any,Any}"><code>PhysOcean.sensibleflux</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">sensibleflux(Ts,Ta,w)</code></pre><p>Compute the sensible heat flux (W/m²) using the wind speed <code>w</code> (m/s), the sea surface temperature <code>Ts</code> (degree Celsius), the air temperature <code>Ta</code> (degree Celsius).</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.solarflux-Tuple{Any,Any}" href="#PhysOcean.solarflux-Tuple{Any,Any}"><code>PhysOcean.solarflux</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">solarflux(Q,al)</code></pre><p>Compute the solar heat flux (W/m²)</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.vaporpressure-Tuple{Any}" href="#PhysOcean.vaporpressure-Tuple{Any}"><code>PhysOcean.vaporpressure</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">vaporpressure(T)</code></pre><p>Compute vapour pressure of water at the temperature <code>T</code> (degree Celsius) in hPa using Tetens equations. The temperature must be postive.</p><p>Monteith, J.L., and Unsworth, M.H. 2008. Principles of Environmental Physics. Third Ed. AP, Amsterdam. http://store.elsevier.com/Principles-of-Environmental-Physics/John-Monteith/isbn-9780080924793</p></div></div></section><h1><a class="nav-anchor" id="Filtering-1" href="#Filtering-1">Filtering</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.gausswin" href="#PhysOcean.gausswin"><code>PhysOcean.gausswin</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">gausswin(N, α = 2.5)</code></pre><p>Return a Gaussian window with <code>N</code> points with a standard deviation of (N-1)/(2 α).</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.gaussfilter-Tuple{Any,Any}" href="#PhysOcean.gaussfilter-Tuple{Any,Any}"><code>PhysOcean.gaussfilter</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gaussfilter(x,N)</code></pre><p>Filter the vector <code>x</code> with a <code>N</code>-point Gaussian window.</p></div></div></section><h1><a class="nav-anchor" id="Earth-1" href="#Earth-1">Earth</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.coriolisfrequency-Tuple{Any}" href="#PhysOcean.coriolisfrequency-Tuple{Any}"><code>PhysOcean.coriolisfrequency</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">coriolisfrequency(latitude)</code></pre><p>Provides coriolisfrequency et given latidudes in DEGREES from -90 Southpole to +90 Northpole</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.earthgravity-Tuple{Any}" href="#PhysOcean.earthgravity-Tuple{Any}"><code>PhysOcean.earthgravity</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">earthgravity(latitude)</code></pre><p>Provides gravity in m/s2 at ocean surface at given latidudes in DEGREES from -90 Southpole to +90 Northpole</p></div></div></section><h1><a class="nav-anchor" id="GFD-1" href="#GFD-1">GFD</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.integraterhoprime-Tuple{Any,Any}" href="#PhysOcean.integraterhoprime-Tuple{Any,Any}"><code>PhysOcean.integraterhoprime</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">rhoi = integraterhoprime(rhop,z);</code></pre><p>Integrates density anomalies over depth. When used with gravity, assuming gravity is independant on z, it can be used to calculate dynamic pressure up to a constant. Function can be used with 1D, 2D, ...</p><p><strong>Input:</strong></p><ul><li><code>rhop</code>: density anomaly array</li><li><code>z</code>: vertical position array. Zero at surface and positive downward, same dimensions as rhop</li><li><code>dim</code>: along which dimension depth is found and integral is performed. If not provided, last dimension is taken</li></ul><p><strong>Output:</strong></p><ul><li><code>rhoi</code> : Integrated value to the same levels as on which rhop where given. So basically total density anomaly ABOVE the current depth</li></ul><p><strong>Note:</strong></p><p>Compute vertical integral of density anomalies</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.stericheight" href="#PhysOcean.stericheight"><code>PhysOcean.stericheight</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">ssh=stericheight(rhoi,z,zlevel,dim::Integer=0)</code></pre><p><strong>Input:</strong></p><ul><li><code>rhoi</code>: integrated density anomalies (from a call to integraterhoprime)</li><li><code>z</code>: array of vertical positions</li><li><code>zlevel</code>: integer for the zlevel on which no motion is assumed</li><li><code>dim</code>: along which dimension depth is found . If not provided last dimension is used</li></ul><p><strong>Output:</strong></p><ul><li><code>ssh</code>: steric height. space dimensions as for rhoi in which direction dim is taken out</li></ul><p>Compute steric height with respect to given depth level presently provided as index , not depth</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.geostrophy-Tuple{BitArray,Any,Any,Any}" href="#PhysOcean.geostrophy-Tuple{BitArray,Any,Any,Any}"><code>PhysOcean.geostrophy</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">velocity,ssh,fluxes=geostrophy(mask::BitArray,rhop,pmnin,xiin;dim::Integer=0,ssh=(),znomotion=0,fillin=true)</code></pre><p><strong>Input:</strong></p><ul><li><code>mask</code> : Boolean array with true in water and false on land.</li><li><code>rhop</code> : density anomaly (rho-1025) array on the same grid as the mask.</li><li><code>pmnin</code>: tuple of metrics as in divand, but to get velocities in m/s the metrics need to be in per meters too.</li><li><code>xiin</code>: tuple position of the grid points.</li><li><code>dim</code> : optional paramter telling which index in the arrays corresponds to the vertical direction. By default 0 uses the last index</li><li><code>ssh</code> : array as mask for which the vertical direction is taken out. Corresponds to sea surface height in meters. Default is no used but diagnosed</li><li><code>znomotion</code> : index in the vertical direction where a level of no motion is assumed</li><li><code>fillin</code> : Boolean telling if a filling of land points using water points at the same level is to be used. Default is yes.</li></ul><p><strong>Output:</strong></p><ul><li><code>velocity</code> tuple of velocity components NORMAL and to the left of each coordinate line</li><li><code>eta</code> : sea surface height deduced. If a ssh was provided in input it returs ssh but filled in on land.</li><li><code>fluxes</code>: integrated velocities across sections in each horizontal direction. Same conventions as for velocities</li></ul><p><strong>Note:</strong></p><p>Calculates geostrophic velocities. Works with one or two horizontal dimensions and additional (time) dimensions. Dimensions are supposed to be ordered horizontal, vertical, other dimensions You must either provide the index for the level of no motion or ssh eta. NOTE THAT THE LEVEL IS AN INDEX NUMBER FOR THE MOMENT Dimensions of ssh must be the same as rhop in which vertical dimension has been taken out If you force fillin=false, then you must have created the density array without missing values outside of this call, as well as ssh if you provide it.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.streamfunctionvolumeflux-Tuple{BitArray,Any,Any,Any}" href="#PhysOcean.streamfunctionvolumeflux-Tuple{BitArray,Any,Any,Any}"><code>PhysOcean.streamfunctionvolumeflux</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">psifluxes=streamfunctionvolumeflux(mask::BitArray,velocities,pmnin,xiin;dim::Integer=0)</code></pre><p><strong>Input:</strong></p><ul><li><code>mask</code> : Boolean array with true in water and false on land. </li><li><code>velocities</code> : tuple of arrays on the same grid as the mask. Each tuple element is a velocity field normal to the corresponding direction in space</li><li><code>pmnin</code>: tuple of metrics as in divand, but to get velocities in m/s the metrics need to be in per meters too.</li><li><code>xiin</code>: tuple position of the grid points.</li><li><code>dim</code> : optional paramter telling which index in the arrays corresponds to the vertical direction. By default 0 uses the last index</li></ul><p><strong>Output:</strong></p><ul><li><code>psifluxes</code> tuple of volume fluxes at each depth and direction NORMAL and to the left of each coordinate line</li></ul><p>Calculates volume flux streamfunction calculated from the surface. The value of this field provides the total flow (in Sverdrup) across the section above the depth of the zlevel looked at. </p></div></div></section><h1><a class="nav-anchor" id="Data-download-1" href="#Data-download-1">Data download</a></h1><h2><a class="nav-anchor" id="CMEMS-1" href="#CMEMS-1">CMEMS</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.CMEMS.download" href="#PhysOcean.CMEMS.download"><code>PhysOcean.CMEMS.download</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">CMEMS.download(lonr,latr,timerange,param,username,password,basedir[; indexURLs = ...])</code></pre><p>Download in situ data within the longitude range <code>lonr</code> (an array or tuple with two elements: the minimum longitude and the maximum longitude), the latitude range <code>latr</code> (likewise), time range <code>timerange</code> (an array or tuple with two <code>DateTime</code> structures: the starting date and the end date) from the CMEMS (Copernicus Marine environment monitoring service) in situ service <a href="#footnote-1">[1]</a>. <code>param</code> is one of the parameter codes as defined in <a href="#footnote-2">[2]</a> or <a href="#footnote-3">[3]</a>. <code>username</code> and <code>password</code> are the credentials to access data <a href="#footnote-1">[1]</a> and <code>basedir</code> is the directory under which the data is saved. <code>indexURLs</code> is a list of the URL to the <code>index_history.txt</code> file. Per default, it includes the URLs of the Baltic, Arctic, North West Shelf, Iberian, Mediteranean and Black Sea Thematic Assembly Center.</p><p>As these URLs might change, the latest version of the URLs to the indexes can be obtained at <a href="#footnote-1">[1]</a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; username = &quot;...&quot;
julia&gt; password = &quot;...&quot;
julia&gt; lonr = [7.6, 12.2]
julia&gt; latr = [42, 44.5]
julia&gt; timerange = [DateTime(2016,5,1),DateTime(2016,8,1)]
julia&gt; param = &quot;TEMP&quot;
julia&gt; basedir = &quot;/tmp&quot;
julia&gt; files = CMEMS.download(lonr,latr,timerange,param,username,password,basedir)</code></pre><div class="footnote" id="footnote-1"><a href="#footnote-1"><strong>[1]</strong></a><p>http://marine.copernicus.eu/</p></div><div class="footnote" id="footnote-2"><a href="#footnote-2"><strong>[2]</strong></a><p>http://www.coriolis.eu.org/Documentation/General-Informations-on-Data/Codes-Tables</p></div><div class="footnote" id="footnote-3"><a href="#footnote-3"><strong>[3]</strong></a><p>http://doi.org/10.13155/40846</p></div></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.CMEMS.load" href="#PhysOcean.CMEMS.load"><code>PhysOcean.CMEMS.load</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">data,lon,lat,z,time,ids = load(T,fname::TS,param; qualityflags = [good_data, probably_good_data]) where TS &lt;: AbstractString</code></pre></div></div><div><div><pre><code class="language-none">data,lon,lat,z,time,ids = CMEMS.load(T,fnames,param; qualityflags = ...)</code></pre><p>Load all data in the vector of file names <code>fnames</code> corresponding to the parameter <code>param</code> as the data type <code>T</code>. Only the data with the quality flags <code>CMEMS.good_data</code> and <code>CMEMS.probably_good_data</code> are loaded per default. The output parameters correspondata to the data, longitude, latitude, depth, time (as <code>DateTime</code>) and an identifier (as <code>String</code>).</p><p>See also <code>CMEMS.download</code>.</p></div></div></section><h2><a class="nav-anchor" id="World-Ocean-Database-(NODC)-1" href="#World-Ocean-Database-(NODC)-1">World Ocean Database (NODC)</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.WorldOceanDatabase.download" href="#PhysOcean.WorldOceanDatabase.download"><code>PhysOcean.WorldOceanDatabase.download</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">dirnames,indexnames = WorldOceanDatabase.download(lonrange,latrange,timerange,
  variable,email,basedir)</code></pre><p>Download data using the NODC web-service. The range parameters are vectors from with the frist element is the lower bound and the last element is the upper bound. The parameters of the functions will be transmitted to nodc.noaa.gov (http://www.noaa.gov/privacy.html). Note that no XBT corrections are applied. The table below show the avialable variable and their units.</p><p>Example:</p><p>dirnames,indexnames = WorldOceanDatabase.download([0,10],[30,40],     [DateTime(2000,1,1),DateTime(2000,2,1)],     &quot;Temperature&quot;,&quot;your@email.com,&quot;/tmp&quot;)</p><table><tr><th>Variables</th><th>Unit</th></tr><tr><td>Temperature</td><td>°C</td></tr><tr><td>Salinity</td><td>unitless</td></tr><tr><td>Oxygen</td><td>ml l⁻¹</td></tr><tr><td>Phosphate</td><td>µM</td></tr><tr><td>Silicate</td><td>µM</td></tr><tr><td>Nitrate and Nitrate+Nitrite</td><td>µM</td></tr><tr><td>pH</td><td>unitless</td></tr><tr><td>Chlorophyll</td><td>µg l⁻¹</td></tr><tr><td>Plankton</td><td>multiple</td></tr><tr><td>Alkalinity</td><td>meq l⁻¹</td></tr><tr><td>Partial Pressure of Carbon Dioxide</td><td>µatm</td></tr><tr><td>Dissolved Inorganic Carbon</td><td>mM</td></tr><tr><td>Transmissivity</td><td>m⁻¹</td></tr><tr><td>Pressure</td><td>dbar</td></tr><tr><td>Air temperature</td><td>°C</td></tr><tr><td>CO2 warming</td><td>°C</td></tr><tr><td>CO2 atmosphere</td><td>ppm</td></tr><tr><td>Air pressure</td><td>mbar</td></tr><tr><td>Tritium</td><td>TU</td></tr><tr><td>Helium</td><td>nM</td></tr><tr><td>Delta Helium-3</td><td>%</td></tr><tr><td>Delta Carbon-14</td><td>ᵒ/ᵒᵒ</td></tr><tr><td>Delta Carbon-13</td><td>ᵒ/ᵒᵒ</td></tr><tr><td>Argon</td><td>nM</td></tr><tr><td>Neon</td><td>nM</td></tr><tr><td>Chlorofluorocarbon 11 (CFC 11)</td><td>pM</td></tr><tr><td>Chlorofluorocarbon 12 (CFC 12)</td><td>pM</td></tr><tr><td>Chlorofluorocarbon 113 (CFC 113)</td><td>pM</td></tr><tr><td>Delta Oxygen-18</td><td>ᵒ/ᵒᵒ</td></tr></table></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PhysOcean.WorldOceanDatabase.load" href="#PhysOcean.WorldOceanDatabase.load"><code>PhysOcean.WorldOceanDatabase.load</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none"> load(T,dirname,indexname,varname)</code></pre><p>Load all profiles with the NetCDF variable <code>varname</code> in <code>dirname</code> indexed with the NetCDF file <code>indexname</code>. T is the type (e.g. Float64) for numeric return values.</p></div></div><div><div><pre><code class="language-none">value,lon,lat,depth,obstime,id = load(T,dirnames,varname)</code></pre><p>Load a list  of directories <code>dirnames</code>.</p></div></div><div><div><pre><code class="language-none">value,lon,lat,depth,obstime,id = WorldOceanDatabase.load(T,basedir::AbstractString,varname)</code></pre><p>Load a list profiles under the directory <code>basedir</code> assuming <code>basedir</code> was populated by <code>WorldOceanDatabase.download</code>.</p></div></div></section><footer><hr/></footer></article></body></html>
