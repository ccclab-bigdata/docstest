<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Docstrings · Changepoints.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Changepoints.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Readme</a></li><li class="current"><a class="toctext" href>Docstrings</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Docstrings</a></li></ul></nav><hr/><div id="topbar"><span>Docstrings</span><a class="fa fa-bars" href="#"></a></div></header><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.@BS" href="#Changepoints.@BS"><code>Changepoints.@BS</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@BS data changepoint_model [β₁]</code></pre><p>Runs the Binary Segmentation algorithm using a specified <code>changepoint_model</code> for a given penalty <code>β₁</code>. If no penalty specified, use penalty <code>log(length(data))</code> by default.</p><p>See also: <a href="#Changepoints.BS"><code>BS</code></a>, <a href="#Changepoints.@segment_cost"><code>@segment_cost</code></a></p><p><strong>Example</strong></p><pre><code class="language-none">n = 1000   # Length of time series
λ = 100    # Frequency of changepoints
α, β = Uniform(0.0, 10.0), 1.0
# Samples changepoints from Gamma distribution with changing shape
sample, cps = @changepoint_sampler n λ Gamma(α, β)
# Run binary segmentation on sample
bs_cps = @BS sample Gamma(:?, β)</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.@PELT" href="#Changepoints.@PELT"><code>Changepoints.@PELT</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@PELT data changepoint_model [β₁ [β₂] ]</code></pre><p>Runs the PELT algorithm on time series <code>data</code> using a specified <code>changepoint_model</code> and penalties. If no penalty <code>β₁</code> provided, a default of value <code>log(length(data))</code> is used. If two penalties <code>β₁</code> and <code>β₂</code> are provided then the CROPS algorithm is run which finds all optimal segmentations for all penalties between <code>β₁</code> and <code>β₂</code>.</p><p>See also: <a href="#Changepoints.PELT"><code>PELT</code></a>, <a href="#Changepoints.CROPS"><code>CROPS</code></a></p><p><strong>Example</strong></p><pre><code class="language-none">n = 1000
λ = 100
μ, σ = Normal(0.0, 10.0), 1.0
# Samples changepoints from Normal distribution with changing mean
sample, cps = @changepoint_sampler n λ Normal(μ, σ)
# Run PELT on sample
pelt_cps, pelt_cost = @PELT sample Normal(:?, σ)</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.@changepoint_sampler" href="#Changepoints.@changepoint_sampler"><code>Changepoints.@changepoint_sampler</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@changepoint_sampler(n, λ, Distribution(param1, param2, ...))</code></pre><p>Generates sample of size <code>n</code> from <code>Distribution</code> with changes in parameters generated at random intervals. <code>param1, param2, ...</code> are parameters of the sampleable <code>Distribution</code> type, and may be fixed values, or themselves sampleable distributions. Changepoints occur at random times whose separation follows a Poisson distribution with rate <code>λ</code>. At each changepoint, new values for all parameters in <code>param1, param2, ...</code>, which are distributions are sampled.</p><p><strong>Returns</strong></p><ul><li>(data::Array, cps::Array{Int}) :<ul><li>data : generated time series</li><li>cps : array of indices of changepoints</li></ul></li></ul><p><strong>Example</strong></p><p>```julia-repl n, λ = 1000, 100 μ, σ = Normal(0.0, 10.0), 1.0 sample, cps = @changepoint_sampler n λ Normal(μ, σ)  # Sample changepoints</p></div></div></section><pre><code class="language-none">Changepoints.@glue</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.@segment_cost" href="#Changepoints.@segment_cost"><code>Changepoints.@segment_cost</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@segement_cost data changepoint_model</code></pre><p>Creates a segment cost function given data and changepoint model expression.</p><p><strong>Cost functions</strong></p><p><code>changepoint_model</code> is an expression which describes what segment cost function should be constructed for use with PELT. For parametric segment cost functions, this is represented by the name of a distribution (as in the Distributions package) with some parameters replaced by &#39;:?&#39; to indicate that the parameters change. The full list of available cost functions based on parametric distributions is as follows:</p><ul><li><code>Normal(:?, σ)</code>: Normal model with changing mean and fixed standard deviation <code>σ</code> (see also <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a>)</li><li><code>Normal(μ, :?)</code>: Normal model with fixed mean <code>μ</code> and changing standard deviation (see also <a href="#Changepoints.NormalVarSegment"><code>NormalVarSegment</code></a>)</li><li><code>Normal(:?, :?)</code>: Normal model with changing mean and standard deviation (see also <a href="#Changepoints.NormalMeanVarSegment"><code>NormalMeanVarSegment</code></a>)</li><li><code>Exponential(:?)</code>: Exponential model with changing mean (see also <a href="#Changepoints.ExponentialSegment"><code>ExponentialSegment</code></a>)</li><li><code>Poisson(:?)</code>: Poisson model with changing mean (see also <a href="#Changepoints.PoissonSegment"><code>PoissonSegment</code></a>)</li><li><code>Gamma(:?, β)</code>: Gamma model with fixed rate parameter <code>β</code> and changing shape parameter (see also <a href="#Changepoints.GammaShapeSegment"><code>GammaShapeSegment</code></a>)</li><li><code>Gamma(α, :?)</code>: Gamma model with fixed shape parameter <code>α</code> and changing rate parameter (see also <a href="#Changepoints.GammaRateSegment"><code>GammaRateSegment</code></a>)</li></ul><p>The following others models are also available:</p><ul><li><code>Nonparametric(k)</code>: Nonparametric cost function with parameter <code>k</code> (see also <a href="#Changepoints.NonparametricSegment"><code>NonparametricSegment</code></a>)</li><li><code>OLS</code> : Cost function for piecewise linear regressions (see also <a href="#Changepoints.OLSSegment"><code>OLSSegment</code></a>)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl">n = 1000
λ = 100
μ, σ = Normal(0.0, 10.0), 1.0
# Samples changepoints from Normal distribution with changing mean
sample, cps = @changepoint_sampler n λ Normal(μ, σ)
# Create cost function
seg_cost = @segment_cost sample Normal(:?, σ)
# Calculate changepoints using PELT and BS
pelt_cps, cost = PELT(seg_cost, n)
bs_cps = BS(seg_cost, n)</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.BS" href="#Changepoints.BS"><code>Changepoints.BS</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">BS(segment_cost, n[, β = log(n)])</code></pre><p>Runs the Binary segmentation algorithm for the cost function <code>segment_cost</code> for a time series of length <code>n</code> and a penalty <code>β</code> and returns the position of found changepoints, and the cost of this segmentation.</p><p>See also: <a href="#Changepoints.@BS"><code>@BS</code></a>, <a href="#Changepoints.@segment_cost"><code>@segment_cost</code></a></p><p><strong>Returns</strong></p><ul><li><code>CP::Vector{Int}</code>: Vector of indices of detected changepoints</li><li><code>cost::Float64</code>: Cost of optimal segmentation</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl"># Sample Normal time series with changing mean
n = 1000
λ = 100
μ, σ = Normal(0.0, 10.0), 1.0
sample, cps = @changepoint_sampler n λ Normal(μ, σ)
# Run binary segmentation
seg_cost = NormalMeanChange(sample, σ)
BS_cps, BS_cost = BS(seg_cost, n)</code></pre><p><strong>References</strong></p><p>Scott, A.J. and Knott, M. (1974) A Cluster Analysis Method for Grouping Means in the Analysis of Variance, Biometrics 30(3), 507 - 512</p></div></div></section><pre><code class="language-none">Changepoints.BetaSegment</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.CROPS" href="#Changepoints.CROPS"><code>Changepoints.CROPS</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">CROPS(segment_cost, n, β₁, β₂)</code></pre><p>Runs the CROPS algorithm for cost function <code>segment_cost</code> for range of penalties between <code>β₁</code> and <code>β₂</code>. This calculates optimal segmentations using PELT for all penalties between <code>β₁</code> and <code>β₂</code>.</p><p>See also: <a href="#Changepoints.PELT"><code>PELT</code></a>, <a href="#Changepoints.@PELT"><code>@PELT</code></a>, <a href="#Changepoints.@segment_cost"><code>@segment_cost</code></a></p><p><strong>Returns</strong></p><ul><li><code>out::Dict{String,Any}</code>:<ul><li><code>out[&quot;penalty&quot;]</code> : vector of penalties between minimum and maximum pen</li><li><code>out[&quot;number&quot;]</code> : vector of number of changepoints for each penalty</li><li><code>out[&quot;constrained&quot;]</code> : vector of optimal segmentation costs for each penalty</li><li><code>out[&quot;changepoints&quot;]</code> : vector of changepoints sets for each penalty</li></ul></li></ul><p><strong>Example</strong></p><pre><code class="language-none"># Sample time series with change points
n = 1000       # Length of time series
λ = 100        # Frequency of change points
μ, σ = Normal(0.0, 10.0), 1.0
sample, cps = @changepoint_sampler n λ Normal(μ, σ)

# Create cost function and run CROPS
seg_cost = NormalMeanSegment(sample)
pen = (4.0,100.0)
crops_output = CROPS(seg_cost, n, pen)</code></pre><p><strong>References</strong></p><p>Haynes, K., Eckley. I.A., and Fearnhead, P., (2014) Efficient penalty search for multiple changepoint problems arXiv:1412.3617</p></div></div></section><pre><code class="language-none">Changepoints.ChangepointSampler</code></pre><pre><code class="language-none">Changepoints.Changepoints</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.ExponentialSegment" href="#Changepoints.ExponentialSegment"><code>Changepoints.ExponentialSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">ExponentialSegment(data)</code></pre><p>Constructs a segment cost function for <code>data</code> assuming it follows an Exponential distribution with changing mean.</p><p>See also: <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a></p></div></div></section><pre><code class="language-none">Changepoints.Gadfly_init</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.GammaRateSegment" href="#Changepoints.GammaRateSegment"><code>Changepoints.GammaRateSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">GammaRateSegment(data, alpha)</code></pre><p>Constructs a segment cost function for <code>data</code> assuming it follows a Gamma distribution with changing rate parameter and fixed shape parameter <code>alpha</code>.</p><p>See also: <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.GammaShapeSegment" href="#Changepoints.GammaShapeSegment"><code>Changepoints.GammaShapeSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">GammaShapeSegment(data, beta)</code></pre><p>Constructs a segment cost function for <code>data</code> assuming it follows a Gamma distribution with changing shape parameter and fixed rate parameter <code>beta</code>.</p><p>See also: <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.NonparametricSegment" href="#Changepoints.NonparametricSegment"><code>Changepoints.NonparametricSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">NonparametricSegment(data, k)</code></pre><p>Constructs a segment cost function for <code>data</code> using the Nonparametric model with parameter <code>k</code>.</p><p>See also: <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.NormalMeanSegment" href="#Changepoints.NormalMeanSegment"><code>Changepoints.NormalMeanSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">NormalMeanSegment(data[, σ = 1.0])</code></pre><p>Constructs a function which calculates the cost of fitting a Normal distribution  with unknown mean, and known standard deviation <code>σ</code> for a specified segment of <code>data</code>. By default, <code>sigma</code> is set to <code>1.0</code>.</p><p>See also: <a href="#Changepoints.NormalVarSegment"><code>NormalVarSegment</code></a>, <a href="#Changepoints.NormalMeanVarSegment"><code>NormalMeanVarSegment</code></a>, <a href="#Changepoints.ExponentialSegment"><code>ExponentialSegment</code></a>, <a href="#Changepoints.PoissonSegment"><code>PoissonSegment</code></a>, <a href="#Changepoints.GammaRateSegment"><code>GammaRateSegment</code></a>, <a href="#Changepoints.GammaShapeSegment"><code>GammaShapeSegment</code></a>, <a href="@ref"><code>Nonparametric</code></a>, <a href="#Changepoints.PELT"><code>PELT</code></a>, <a href="#Changepoints.BS"><code>BS</code></a></p><p><strong>Returns</strong></p><ul><li><code>cost::Function</code>: Function which takes indices (s, t) where                   0 ≤ s &lt; t &lt; n and n is the length of the time series                   and returns the cost of fitting distribution to the segment [s+1, ..., t]</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl">n = 1000
λ = 100
μ, σ = Normal(0.0, 10.0), 1.0
data, cps = @changepoint_sampler n λ Normal(μ, σ)
cost = NormalMeanSegment(data, σ = 1.0)
cps, cost = BS(cost, n)</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.NormalMeanVarSegment" href="#Changepoints.NormalMeanVarSegment"><code>Changepoints.NormalMeanVarSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">NormalMeanVarSegment(data)</code></pre><p>Constructs a segment cost function for <code>data</code> assuming it follows a Normal distribution with changing mean and variance.</p><p>See also: <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.NormalVarSegment" href="#Changepoints.NormalVarSegment"><code>Changepoints.NormalVarSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">NormalVarSegment(data, μ)</code></pre><p>Constructs a segment cost function for <code>data</code> assuming it follows a Normal distribution with changing variance and fixed mean <code>μ</code>.</p><p>See also: <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.OLSSegment" href="#Changepoints.OLSSegment"><code>Changepoints.OLSSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">OLSSegment(data)</code></pre><p>Create a segment cost function for piecewise linear regressions, fitted using OLS (assuming Normally distributed errors).</p><p>See also: <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a></p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.PELT" href="#Changepoints.PELT"><code>Changepoints.PELT</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">PELT(segment_cost, n[, β = log(n)])</code></pre><p>Runs the PELT algorithm using cost function <code>segment_cost</code> for a time series of length <code>n</code> and a penalty <code>β</code> and returns the position of changepoints and optimal segmentation cost.</p><p>See also: <a href="#Changepoints.@PELT"><code>@PELT</code></a>, <a href="#Changepoints.@segment_cost"><code>@segment_cost</code></a>, <a href="#Changepoints.CROPS"><code>CROPS</code></a></p><p><strong>Returns</strong></p><ul><li><code>(CP::Vector{Int}, cost::Float64)</code>:<ul><li><code>CP::Vector{Int}</code>: Vector of indices of detected changepoints</li><li><code>cost::Float64</code>: Cost of optimal segmentation</li></ul></li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl">n, λ = 1000, 100
μ, σ = Normal(0.0, 10.0), 1.0
sample, cps = @changepoint_sampler n λ Normal(μ, σ)  # Sample changepoints
seg_cost = NormalMeanChange(sample, σ)               # Create segment cost function
pelt_cps, pelt_cost = PELT(seg_cost, n)              # Run PELT</code></pre><p><strong>References</strong></p><p>Killick, R., Fearnhead, P. and Eckley, I.A. (2012) Optimal detection of changepoints with a linear computational cost, JASA 107(500), 1590-1598</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.PoissonSegment" href="#Changepoints.PoissonSegment"><code>Changepoints.PoissonSegment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">PoissonSegment(data)</code></pre><p>Constructs a segment cost function for <code>data</code> assuming it follows Poisson distribution with changing mean.</p><p>See also: <a href="#Changepoints.NormalMeanSegment"><code>NormalMeanSegment</code></a></p></div></div></section><pre><code class="language-none">Changepoints.Winston_init</code></pre><pre><code class="language-none">Changepoints.cost_function</code></pre><pre><code class="language-none">Changepoints.cp_rand</code></pre><pre><code class="language-none">Changepoints.eval</code></pre><pre><code class="language-none">Changepoints.include</code></pre><pre><code class="language-none">Changepoints.ran_dist</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Changepoints.zero_cumsum" href="#Changepoints.zero_cumsum"><code>Changepoints.zero_cumsum</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>equivalent to [0; cumsum(x)]</p></div></div></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Readme</span></a></footer></article></body></html>
