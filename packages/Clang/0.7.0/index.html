<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· Clang.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Clang.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#Clang.jl-1">Clang.jl</a></li><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Getting-Started-1">Getting Started</a></li><li><a class="toctext" href="#Example-notebooks:-1">Example notebooks:</a></li><li><a class="toctext" href="#C-wrapper-generator-1">C wrapper generator</a></li><li><a class="toctext" href="#Users-1">Users</a></li><li><a class="toctext" href="#Background-Information-1">Background Information</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h2><a class="nav-anchor" id="Clang.jl-1" href="#Clang.jl-1">Clang.jl</a></h2><p><a href="https://travis-ci.org/ihnorton/Clang.jl"><img src="https://api.travis-ci.org/ihnorton/Clang.jl.svg?branch=master" alt="Build status"/></a></p><p>Clang.jl provides a Julia language wrapper for libclang: the stable, C-exported interface to (a subset of) the LLVM Clang compiler. The <a href="http://clang.llvm.org/doxygen/group__CINDEX.html">libclang API documentation</a> provides background on the functionality available through libclang, and thus through the Julia wrapper. The Clang.jl repository also hosts related tools built on top of libclang functionality.</p><p>If you are unfamiliar with the Clang AST and plan to access the internals of this library (as opposed to accessing the &#39;wrap-c&#39; bindings), a good starting point is the <a href="http://clang.llvm.org/docs/IntroductionToTheClangAST.html">Introduction to the Clang AST</a>.</p><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>Before installing Clang.jl, you might need to install <code>libclang</code> related packages(llvm-6.0, llvm-6.0-tools, libclang-6.0-dev) on Linux. To use your LLVM/Clang in other places, you could set an environment variable <code>LLVM_CONFIG</code> to that path. On Windows, you need to install <a href="http://releases.llvm.org/download.html">LLVM officially released prebuild binaries</a> and the corresponding environment variable is <code>LLVM_WINDOWS</code>.</p><pre><code class="language-none">pkg&gt; add Clang</code></pre><h2><a class="nav-anchor" id="Getting-Started-1" href="#Getting-Started-1">Getting Started</a></h2><p>Installation requirements are listed down page.</p><p><a href="http://clangjl.readthedocs.org/">Clang.jl Documentation</a></p><h2><a class="nav-anchor" id="Example-notebooks:-1" href="#Example-notebooks:-1">Example notebooks:</a></h2><p><a href="http://nbviewer.ipython.org/urls/raw.github.com/ihnorton/Clang.jl/master/examples/example_notebook.ipynb">Usage Examples</a></p><p><a href="http://nbviewer.ipython.org/urls/raw.github.com/ihnorton/Clang.jl/master/examples/parsing_c_with_clangjl/notebook.ipynb">Parsing C with Clang and Julia</a></p><h2><a class="nav-anchor" id="C-wrapper-generator-1" href="#C-wrapper-generator-1">C wrapper generator</a></h2><p>Clang.jl includes a generator to create Julia wrappers for C libraries from a collection of header files. The following declarations are currently supported:</p><ul><li>function: translated to Julia ccall, with full type translation</li><li>typedef: translated to Julia typealias to underlying intrinsic type</li><li>enum: translated to const value symbol</li><li>struct: partial struct support may be enabled by setting WrapContext.options.wrap_structs = true</li></ul><h2><a class="nav-anchor" id="Users-1" href="#Users-1">Users</a></h2><p>Clang.jl tends to be used on large codebases, often with multiple API versions to support. Building a generator requires some customization effort, so for small libraries the initial investment may not pay off.</p><ul><li><a href="https://github.com/JuliaLang/Gtk.jl">Gtk.jl</a>: Julia Gtk bindings (uses heavily customized generator)</li><li><a href="https://github.com/JuliaGPU/CUDArt.jl">CUDArt.jl</a>: Bindings to the CUDA Runtime library</li><li><a href="https://github.com/JuliaGPU/CUFFT.jl">CUFFT.jl</a>: Bindings to CUDA FFT library</li><li><a href="https://github.com/tshort/Sundials.jl">Sundials.jl</a>: interface to the LLNL &quot;SUite of Nonlinear and DIfferential/ALgebraic equation Solvers&quot; package</li><li><a href="https://github.com/JuliaWeb/LibCURL.jl">LibCURL.jl</a>: wrapper of cURL</li><li><a href="https://github.com/kmsquire/VideoIO.jl">VideoIO.jl</a>: Julia bindings for libav/ffmpeg</li><li><a href="https://github.com/JuliaAstro/WCSLIB.jl">WCSLIB.jl</a></li><li><a href="https://github.com/JaneliaSciComp/NIDAQ.jl">NIDAQ.jl</a>: wrapper for NIDAQ data acquisition library</li></ul><h2><a class="nav-anchor" id="Background-Information-1" href="#Background-Information-1">Background Information</a></h2><h3><a class="nav-anchor" id="libclang-wrapper-status-1" href="#libclang-wrapper-status-1">libclang wrapper status</a></h3><p>The cindex.jl libclang wrapper encompasses most CXType, CXCursor, and C++ related functions. A small convenience API is provided for basic tasks related to index generation, and retrieval of cursor kind and type information.</p><h3><a class="nav-anchor" id="cindex.jl-Usage-1" href="#cindex.jl-Usage-1">cindex.jl Usage</a></h3><pre><code class="language-julia">using Clang.cindex

julia&gt; topcu = cindex.parse_header(&quot;Index.h&quot;) # Parse Index.h, returning the root cursor
julia&gt; children(topcu).size
2148

julia&gt; cu = cindex.search(top, &quot;clang_parseTranslationUnit&quot;)[1]
julia&gt; cu_kind(cu) == CIndex.CurKind.FUNCTIONDECL
true
julia&gt; name(cu)
&quot;clang_parseTranslationUnit(CXIndex, const char *, const char *const *, int, struct CXUnsavedFile *, unsigned int, unsigned int)&quot;

julia&gt; tkl = tokenize(cu)
julia&gt; for tk in tkl
           println(tk) # use tk.text to get underlying string
       end
Identifier(&quot;CXTranslationUnit&quot;)
Identifier(&quot;clang_parseTranslationUnit&quot;)
Punctuation(&quot;(&quot;)
Identifier(&quot;CXIndex&quot;)
Identifier(&quot;CIdx&quot;)
Punctuation(&quot;,&quot;)
Keyword(&quot;const&quot;)
Keyword(&quot;char&quot;)
Punctuation(&quot;*&quot;)
Identifier(&quot;source_filename&quot;)</code></pre><p>See the examples folder for further usage scenarios. Clang.jl is partially self-generating, including parsing of the enums.</p><p>There is a small convenience API exported by CIndex:</p><pre><code class="language-none">  tu_init     # init and parse file to TranslationUnit
  tu_cursor   # get top cursor from TranslationUnit
  children    # gets CXCursor children; accessed by ref.
  cu_kind     # CIndex.CurKind enum
  ty_kind     # CIndex.TypKind enum
  name        # get the DisplayName of a CXCursor
  spelling    # get spelling of a CXCursor or CXType
  cu_file     # file in which cursor was declared
  is_function # CXCursor or CXType
  is_null     # CXCursor
  tokenize    # get tokens underlying given cursor</code></pre><p>For documentation of wrapped CIndex functions, see:</p><p>http://clang.llvm.org/doxygen/group__CINDEX.html</p><p>For a nice introduction to some capabilities and limitations (fewer now) of the libclang API, see this post:</p><p>http://eli.thegreenplace.net/2011/07/03/parsing-c-in-python-with-clang/</p><footer><hr/></footer></article></body></html>
