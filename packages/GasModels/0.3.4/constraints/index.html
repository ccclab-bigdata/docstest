<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Constraints · GasModels</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-367975-10', 'auto');
ga('send', 'pageview');
</script><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>GasModels</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../quickguide/">Getting Started</a></li><li><a class="toctext" href="../network-data/">Network Data Format</a></li><li><a class="toctext" href="../result-data/">Result Data Format</a></li><li><a class="toctext" href="../math-model/">Mathematical Model</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../formulations/">Network Formulations</a></li><li><a class="toctext" href="../specifications/">Problem Specifications</a></li><li><span class="toctext">Modeling Components</span><ul><li><a class="toctext" href="../model/">GasModel</a></li><li><a class="toctext" href="../objective/">Objective</a></li><li><a class="toctext" href="../variables/">Variables</a></li><li class="current"><a class="toctext" href>Constraints</a><ul class="internal"><li><a class="toctext" href="#Constraint-Templates-1">Constraint Templates</a></li><li><a class="toctext" href="#Junction-Constraints-1">Junction Constraints</a></li><li><a class="toctext" href="#Pipe-Constraints-1">Pipe Constraints</a></li><li><a class="toctext" href="#Compressor-Constraints-1">Compressor Constraints</a></li><li><a class="toctext" href="#Control-Valve-Constraints-1">Control Valve Constraints</a></li><li><a class="toctext" href="#Valve-Constraints-1">Valve Constraints</a></li><li><a class="toctext" href="#Short-Pipes-1">Short Pipes</a></li><li><a class="toctext" href="#Direction-Cutting-Constraints-1">Direction Cutting Constraints</a></li></ul></li></ul></li><li><a class="toctext" href="../parser/">File IO</a></li></ul></li><li><a class="toctext" href="../developer/">Developer</a></li></ul></nav><article id="docs"><header><nav><ul><li>Library</li><li>Modeling Components</li><li><a href>Constraints</a></li></ul></nav><hr/><div id="topbar"><span>Constraints</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Constraints-1" href="#Constraints-1">Constraints</a></h1><h2><a class="nav-anchor" id="Constraint-Templates-1" href="#Constraint-Templates-1">Constraint Templates</a></h2><p>Constraint templates help simplify data wrangling across multiple Gas Flow formulations by providing an abstraction layer between the network data and network constraint definitions. The constraint template&#39;s job is to extract the required parameters from a given network data structure and pass the data as named arguments to the Gas Flow formulations.</p><p>These templates should be defined over <code>GenericGasModel</code> and should not refer to model variables. For more details, see the files: <code>core/constraint_template.jl</code> and <code>core/constraint.jl</code>.</p><h2><a class="nav-anchor" id="Junction-Constraints-1" href="#Junction-Constraints-1">Junction Constraints</a></h2><h3><a class="nav-anchor" id="Flow-Balance-Constraints-1" href="#Flow-Balance-Constraints-1">Flow Balance Constraints</a></h3><pre><code class="language-none">constraint_junction_flow_balance</code></pre><h3><a class="nav-anchor" id="Load-Shedding-Constraints-1" href="#Load-Shedding-Constraints-1">Load Shedding Constraints</a></h3><pre><code class="language-none">constraint_junction_flow_balance_ls</code></pre><h3><a class="nav-anchor" id="Network-Expansion-Constraints-1" href="#Network-Expansion-Constraints-1">Network Expansion Constraints</a></h3><pre><code class="language-none">constraint_junction_flow_balance_ne
constraint_junction_flow_balance_ne_ls</code></pre><h2><a class="nav-anchor" id="Pipe-Constraints-1" href="#Pipe-Constraints-1">Pipe Constraints</a></h2><h3><a class="nav-anchor" id="Weymouth&#39;s-Law-Constraints-1" href="#Weymouth&#39;s-Law-Constraints-1">Weymouth&#39;s Law Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_weymouth" href="#GasModels.constraint_weymouth"><code>GasModels.constraint_weymouth</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Weymouth equation with discrete direction variables </p></div></div><div><div><p>Weymouth equation with discrete direction variables </p></div></div><div><div><p>Weymouth equation with fixed direction variables</p></div></div><div><div><p>Weymouth equation with discrete direction variables </p></div></div><div><div><p>Weymouth equation with directed flow</p></div></div></section><h3><a class="nav-anchor" id="Direction-On/off-Constraints-1" href="#Direction-On/off-Constraints-1">Direction On/off Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_pressure_drop" href="#GasModels.constraint_on_off_pressure_drop"><code>GasModels.constraint_on_off_pressure_drop</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on pressure drop across pipes </p></div></div><div><div><p>constraints on pressure drop across pipes </p></div></div><div><div><p>constraints on pressure drop across pipes </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_pipe_flow_direction" href="#GasModels.constraint_on_off_pipe_flow_direction"><code>GasModels.constraint_on_off_pipe_flow_direction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on flow across pipes </p></div></div><div><div><p>constraints on flow across pipes where the directions are fixed </p></div></div><div><div><p>constraints on flow across pipes </p></div></div></section><h3><a class="nav-anchor" id="Network-Expansion-Constraints-2" href="#Network-Expansion-Constraints-2">Network Expansion Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_weymouth_ne" href="#GasModels.constraint_weymouth_ne"><code>GasModels.constraint_weymouth_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Weymouth equation with discrete direction variables for MINLP </p></div></div><div><div><p>Weymouth equation with discrete direction variables for MINLP </p></div></div><div><div><p>Weymouth equation with fixed directions for MINLP</p></div></div><div><div><p>Weymouth equation with discrete direction variables for MINLP</p></div></div><div><div><p>Weymouth equation with fixed direction</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_pressure_drop_ne" href="#GasModels.constraint_on_off_pressure_drop_ne"><code>GasModels.constraint_on_off_pressure_drop_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on pressure drop across pipes </p></div></div><div><div><p>constraints on pressure drop across pipes when the direction is fixed </p></div></div><div><div><p>constraints on pressure drop across pipes </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_pipe_flow_direction_ne" href="#GasModels.constraint_on_off_pipe_flow_direction_ne"><code>GasModels.constraint_on_off_pipe_flow_direction_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on flow across pipes </p></div></div><div><div><p>constraints on flow across pipes when directions are fixed </p></div></div><div><div><p>constraints on flow across pipes </p></div></div></section><h2><a class="nav-anchor" id="Compressor-Constraints-1" href="#Compressor-Constraints-1">Compressor Constraints</a></h2><h3><a class="nav-anchor" id="Direction-On/off-Constraints-2" href="#Direction-On/off-Constraints-2">Direction On/off Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_compressor_flow_direction" href="#GasModels.constraint_on_off_compressor_flow_direction"><code>GasModels.constraint_on_off_compressor_flow_direction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on flow across compressors </p></div></div><div><div><p>constraints on flow across compressors when directions are constants </p></div></div><div><div><p>constraints on flow across compressors </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_compressor_ratios" href="#GasModels.constraint_on_off_compressor_ratios"><code>GasModels.constraint_on_off_compressor_ratios</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>enforces pressure changes bounds that obey compression ratios </p></div></div><div><div><p>on/off constraint for compressors when the flow direction is constant </p></div></div><div><div><p>enforces pressure changes bounds that obey compression ratios </p></div></div></section><h3><a class="nav-anchor" id="Network-Expansion-Constraints-3" href="#Network-Expansion-Constraints-3">Network Expansion Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_compressor_flow_direction_ne" href="#GasModels.constraint_on_off_compressor_flow_direction_ne"><code>GasModels.constraint_on_off_compressor_flow_direction_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on flow across compressors </p></div></div><div><div><p>constraints on flow across compressors when the directions are constants </p></div></div><div><div><p>constraints on flow across compressors </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_compressor_ratios_ne" href="#GasModels.constraint_on_off_compressor_ratios_ne"><code>GasModels.constraint_on_off_compressor_ratios_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on pressure drop across control valves </p></div></div><div><div><p>constraints on pressure drop across control valves </p></div></div></section><h2><a class="nav-anchor" id="Control-Valve-Constraints-1" href="#Control-Valve-Constraints-1">Control Valve Constraints</a></h2><h3><a class="nav-anchor" id="Direction-On/off-Constraints-3" href="#Direction-On/off-Constraints-3">Direction On/off Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_control_valve_flow_direction" href="#GasModels.constraint_on_off_control_valve_flow_direction"><code>GasModels.constraint_on_off_control_valve_flow_direction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on flow across control valves </p></div></div><div><div><p>constraints on flow across control valves when directions are constants </p></div></div><div><div><p>constraints on flow across control valves </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_control_valve_pressure_drop" href="#GasModels.constraint_on_off_control_valve_pressure_drop"><code>GasModels.constraint_on_off_control_valve_pressure_drop</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on pressure drop across control valves </p></div></div><div><div><p>constraints on pressure drop across control valves when directions are constants </p></div></div><div><div><p>constraints on pressure drop across control valves </p></div></div></section><h2><a class="nav-anchor" id="Valve-Constraints-1" href="#Valve-Constraints-1">Valve Constraints</a></h2><h3><a class="nav-anchor" id="Direction-On/off-Constraints-4" href="#Direction-On/off-Constraints-4">Direction On/off Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_valve_flow_direction" href="#GasModels.constraint_on_off_valve_flow_direction"><code>GasModels.constraint_on_off_valve_flow_direction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on flow across valves </p></div></div><div><div><p>constraints on flow across valves when directions are constants </p></div></div><div><div><p>constraints on flow across valves </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_valve_pressure_drop" href="#GasModels.constraint_on_off_valve_pressure_drop"><code>GasModels.constraint_on_off_valve_pressure_drop</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on pressure drop across valves </p></div></div><div><div><p>constraints on pressure drop across valves </p></div></div></section><h2><a class="nav-anchor" id="Short-Pipes-1" href="#Short-Pipes-1">Short Pipes</a></h2><h3><a class="nav-anchor" id="Direction-On/off-Constraints-5" href="#Direction-On/off-Constraints-5">Direction On/off Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_on_off_short_pipe_flow_direction" href="#GasModels.constraint_on_off_short_pipe_flow_direction"><code>GasModels.constraint_on_off_short_pipe_flow_direction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on flow across short pipes </p></div></div><div><div><p>constraints on flow across short pipes when the directions are constants </p></div></div><div><div><p>constraints on flow across short pipes </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_short_pipe_pressure_drop" href="#GasModels.constraint_short_pipe_pressure_drop"><code>GasModels.constraint_short_pipe_pressure_drop</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>constraints on pressure drop across pipes </p></div></div><div><div><p>constraints on pressure drop across pipes </p></div></div></section><h2><a class="nav-anchor" id="Direction-Cutting-Constraints-1" href="#Direction-Cutting-Constraints-1">Direction Cutting Constraints</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_source_flow" href="#GasModels.constraint_source_flow"><code>GasModels.constraint_source_flow</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Make sure there is at least one direction set to take flow away from a junction (typically used on source nodes) </p></div></div><div><div><p>Make sure there is at least one direction set to take flow away from a junction (typically used on source nodes) </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_sink_flow" href="#GasModels.constraint_sink_flow"><code>GasModels.constraint_sink_flow</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Make sure there is at least one direction set to take flow to a junction (typically used on sink nodes) </p></div></div><div><div><p>Make sure there is at least one direction set to take flow to a junction (typically used on sink nodes) </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_conserve_flow" href="#GasModels.constraint_conserve_flow"><code>GasModels.constraint_conserve_flow</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>This constraint is intended to ensure that flow is on direction through a node with degree 2 and no production or consumption </p></div></div><div><div><p>This constraint is intended to ensure that flow is on direction through a node with degree 2 and no production or consumption </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_parallel_flow" href="#GasModels.constraint_parallel_flow"><code>GasModels.constraint_parallel_flow</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>ensures that parallel lines have flow in the same direction </p></div></div><div><div><p>ensures that parallel lines have flow in the same direction </p></div></div></section><h3><a class="nav-anchor" id="Network-Expansion-Constraints-4" href="#Network-Expansion-Constraints-4">Network Expansion Constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_source_flow_ne" href="#GasModels.constraint_source_flow_ne"><code>GasModels.constraint_source_flow_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Make sure there is at least one direction set to take flow away from a junction (typically used on source nodes) </p></div></div><div><div><p>Make sure there is at least one direction set to take flow away from a junction (typically used on source nodes) </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_sink_flow_ne" href="#GasModels.constraint_sink_flow_ne"><code>GasModels.constraint_sink_flow_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Make sure there is at least one direction set to take flow to a junction (typically used on sink nodes) </p></div></div><div><div><p>Make sure there is at least one direction set to take flow to a junction (typically used on sink nodes) </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_conserve_flow_ne" href="#GasModels.constraint_conserve_flow_ne"><code>GasModels.constraint_conserve_flow_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>This constraint is intended to ensure that flow is on direction through a node with degree 2 and no production or consumption </p></div></div><div><div><p>This constraint is intended to ensure that flow is on direction through a node with degree 2 and no production or consumption </p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GasModels.constraint_parallel_flow_ne" href="#GasModels.constraint_parallel_flow_ne"><code>GasModels.constraint_parallel_flow_ne</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>ensures that parallel lines have flow in the same direction </p></div></div><div><div><p>ensures that parallel lines have flow in the same direction </p></div></div></section><footer><hr/><a class="previous" href="../variables/"><span class="direction">Previous</span><span class="title">Variables</span></a><a class="next" href="../parser/"><span class="direction">Next</span><span class="title">File IO</span></a></footer></article></body></html>
