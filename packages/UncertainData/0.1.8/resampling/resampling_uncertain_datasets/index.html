<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>- · UncertainData.jl documentation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>UncertainData.jl documentation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">UncertainData.jl</a></li><li><span class="toctext">Uncertain values</span><ul><li><a class="toctext" href="../../uncertain_values/uncertainvalues_examples/">-</a></li><li><a class="toctext" href="../../uncertain_values/uncertainvalues_overview/">-</a></li><li><a class="toctext" href="../../uncertain_values/uncertainvalues_kde/">-</a></li><li><a class="toctext" href="../../uncertain_values/uncertainvalues_fitted/">-</a></li><li><a class="toctext" href="../../uncertain_values/uncertainvalues_theoreticaldistributions/">-</a></li><li><a class="toctext" href="../../uncertain_values/certainvalue/">Documentation</a></li><li><a class="toctext" href="../../uncertain_values/populations/">Documentation</a></li></ul></li><li><span class="toctext">Uncertain datasets</span><ul><li><a class="toctext" href="../../uncertain_datasets/uncertain_datasets_overview/">-</a></li><li><a class="toctext" href="../../uncertain_datasets/uncertain_index_dataset/">-</a></li><li><a class="toctext" href="../../uncertain_datasets/uncertain_value_dataset/">-</a></li><li><a class="toctext" href="../../uncertain_datasets/uncertain_dataset/">-</a></li><li><a class="toctext" href="../../uncertain_datasets/uncertain_indexvalue_dataset/">-</a></li></ul></li><li><span class="toctext">Uncertain statistics</span><ul><li><span class="toctext">Core statistics</span><ul><li><a class="toctext" href="../../uncertain_statistics/core_stats/core_statistics/">-</a></li></ul></li><li><span class="toctext">Hypothesis tests</span><ul><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/hypothesis_tests_overview/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/one_sample_t_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/equal_variance_t_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/unequal_variance_t_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/exact_kolmogorov_smirnov_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/approximate_twosample_kolmogorov_smirnov_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/jarque_bera_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/mann_whitney_u_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/anderson_darling_test/">-</a></li></ul></li></ul></li><li><span class="toctext">Sampling constraints</span><ul><li><a class="toctext" href="../../sampling_constraints/available_constraints/">-</a></li><li><a class="toctext" href="../../sampling_constraints/constrain_uncertain_values/">-</a></li><li><a class="toctext" href="../../sampling_constraints/ordered_sequence_exists/">-</a></li><li><a class="toctext" href="../../sampling_constraints/sequential_constraints/">-</a></li></ul></li><li><span class="toctext">Resampling</span><ul><li><a class="toctext" href="../resampling_overview/">-</a></li><li><a class="toctext" href="../resampling_uncertain_values/">-</a></li><li class="current"><a class="toctext" href>-</a><ul class="internal"><li><a class="toctext" href="#Documentation-1">Documentation</a></li><li><a class="toctext" href="#Examples-1">Examples</a></li></ul></li><li><a class="toctext" href="../resampling_uncertain_indexvalue_datasets/">-</a></li><li><a class="toctext" href="../sequential/resampling_uncertaindatasets_sequential/">Is a particular constraint applicable?</a></li><li><a class="toctext" href="../sequential/resampling_indexvalue_sequential/">Resampling syntax</a></li><li><a class="toctext" href="../sequential/strictly_increasing/">Documentation</a></li><li><a class="toctext" href="../sequential/strictly_decreasing/">Documentation</a></li><li><a class="toctext" href="../interpolation/interpolation/">Supported interpolations</a></li><li><a class="toctext" href="../interpolation/gridded/">Grids</a></li></ul></li><li><span class="toctext">Mathematics</span><ul><li><a class="toctext" href="../../mathematics/elementary_operations/">Elementary mathematical operations</a></li><li><a class="toctext" href="../../mathematics/trig_functions/">Trigonometric functions</a></li></ul></li><li><a class="toctext" href="../../implementing_algorithms_for_uncertaindata/">-</a></li><li><a class="toctext" href="../../changelog/">-</a></li></ul></nav><article id="docs"><header><nav><ul><li>Resampling</li><li><a href>-</a></li></ul></nav><hr/><div id="topbar"><span>-</span><a class="fa fa-bars" href="#"></a></div></header><p>Uncertain datasets are resampled by element-wise sampling the furnishing distributions  of the uncertain values in the dataset. </p><p>You may sample the dataset as it is, or apply  <a href="../../sampling_constraints/available_constraints/">sampling constraints</a> that limit the  support of the individual data value distributions.</p><p><strong>Note: for datasets where both indices and values are uncertain, see  <a href="../resampling_uncertain_indexvalue_datasets/">uncertain index-value datasets</a>.</strong></p><h2><a class="nav-anchor" id="Documentation-1" href="#Documentation-1">Documentation</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{AbstractUncertainValueDataset}" href="#UncertainData.Resampling.resample-Tuple{AbstractUncertainValueDataset}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(uv::UncertainDataset) -&gt; Vector{Float64}</code></pre><p>Resample an uncertain value dataset in an element-wise manner. </p><p>Draws values from the entire support of the furnishing distributions.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{AbstractUncertainValueDataset,Int64}" href="#UncertainData.Resampling.resample-Tuple{AbstractUncertainValueDataset,Int64}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(uv::UncertainDataset, n::Int) -&gt; Vector{Vector{Float64}}</code></pre><p>Resample <code>n</code> realizations of an uncertain value dataset in an element-wise manner. </p><p>Draws values from the entire support of the furnishing distributions.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{AbstractUncertainValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint}}" href="#UncertainData.Resampling.resample-Tuple{AbstractUncertainValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint}}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(udata::AbstractUncertainValueDataset, 
	constraint::Union{SamplingConstraint, Vector{SamplingConstraint}}) -&gt; Vector{Float64}</code></pre><p>Resample an uncertain value dataset in an element-wise manner. </p><p>Enforces the provided sampling <code>constraint</code>(s) to each of the data values, possibly  truncating the support of the furnishing distributions from which values are drawn.</p><p>If a single constraint is provided, then that constraint will be applied to all values. If a  vector of constraints (as many as there are values) is provided, then the constraints are  applied element-wise to the data values.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{AbstractUncertainValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint},Int64}" href="#UncertainData.Resampling.resample-Tuple{AbstractUncertainValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint},Int64}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(udata::AbstractUncertainValueDataset, 
	constraint::Union{SamplingConstraint, Vector{SamplingConstraint}},
	n::Int) -&gt; Vector{Vector{Float64}}</code></pre><p>Resample <code>n</code> realizations of an uncertain value dataset in an element-wise manner. </p><p>Enforces the provided sampling <code>constraint</code>(s) to each of the data values, possibly  truncating the support of the furnishing distributions from which values are drawn.</p><p>If a single constraint is provided, then that constraint will be applied to all values. If a  vector of constraints (as many as there are values) is provided, then the constraints are  applied element-wise to the data values.</p></div></div></section><h2><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h2><h3><a class="nav-anchor" id="Resampling-with-sampling-constraints-1" href="#Resampling-with-sampling-constraints-1">Resampling with sampling constraints</a></h3><p>Consider the following example where we had a bunch of different measurements. </p><p>The first ten measurements (<code>r1</code>) are normally distributed values with mean <code>μ = 0 ± 0.4</code>  and standard deviation <code>σ = 0.5 ± 0.1</code>. The next measurement <code>r2</code> is actually a sample  consisting of 9850 replicates. Upon plotting it, we see that it has some complex  distribution which  we have to estimate using a kernel density approach (calling  <code>UncertainValue</code> without any additional argument triggers kernel density estimation).  Next, we have distribution <code>r3</code> that upon plotting looks uniform, so we approximate it by a  uniform distribution. Finally, the last two uncertain values <code>r4</code> and <code>r5</code> are represented  by a normal and a gamma distribution with known parameters.</p><p>To plot these data, we gather them in an <code>UncertainDataset</code>.</p><pre><code class="language-julia">dist1 = Uniform(-0.4, 0.4)
dist2 = Uniform(-0.1, 0.1)
r1 = [UncertainValue(Normal, 0 + rand(dist), 0.5 + rand(dist2)) for i = 1:10]
 # now drawn from a uniform distribution, but simulates 
r2 = UncertainValue(rand(9850))
r3 = UncertainValue(Uniform, rand(10000))
r4 = UncertainValue(Normal, -0.1, 0.5)
r5 = UncertainValue(Gamma, 0.4, 0.8)

uvals = [r1; r2; r3; r4; r5]
udata = UncertainDataset(uvals);</code></pre><p>By default, the plot recipe for uncertain datasets will plot the median value with the  33rd to 67th percentile range (roughly equivalent to a one standard deviation for  normally distributed values). You may change the percentile range by providing a two-element vector to the plot function.</p><p>Let&#39;s demonstrate this by creating a function that plots the uncertain values with  errors bars covering the 0.1st to 99.9th, the 5th to 95th, and the 33rd to 67th percentile  ranges. The function will also take a sampling constraint, then resample the dataset  a number of times and plot the individual realizations as lines. </p><pre><code class="language-julia">using UncertainData, Plots

function resample_plot(data, sampling_constraint; n_resample_draws = 40) 
    p = plot(lw = 0.5)
    scatter!(data, [0.001, 0.999], seriescolor = :black)
    scatter!(data, [0.05, 0.95], seriescolor = :red)
    scatter!(data, [0.33, 0.67], seriescolor = :green)

    plot!(resample(data, sampling_constraint, n_resample_draws), 
        lc = :black, lw = 0.3, lα = 0.5)
    return p
end

# Now, resample using some different constraints and compare the plots
p1 = resample_plot(udata, NoConstraint())
title!(&quot;No constraints&quot;)
p2 = resample_plot(udata, TruncateQuantiles(0.05, 0.95))
title!(&quot;5th to 95th quantile range&quot;)
p3 = resample_plot(udata, TruncateQuantiles(0.33, 0.67))
title!(&quot;33th to 67th quantile range&quot;)
p4 = resample_plot(udata, TruncateMaximum(0.7))
title!(&quot;Truncate at maximum value = 0.7&quot;)

plot(p1, p2, p3, p4, layout = (4, 1), titlefont = font(8))</code></pre><p>This produces the following plot:</p><p><img src="../resampling_uncertain_datasets.png" alt/></p><h3><a class="nav-anchor" id="What-happens-when-applying-invalid-constraints-to-a-dataset?-1" href="#What-happens-when-applying-invalid-constraints-to-a-dataset?-1">What happens when applying invalid constraints to a dataset?</a></h3><p>In the example above, the resampling worked fine because all the constraints were  applicable to the data. However, it could happen that the constraint is not applicable  to all uncertain values in the dataset. For example, applying a <code>TruncateMaximum(2)</code>  constraint to an uncertain value <code>u</code> defined by <code>u = UncertainValue(Uniform, 4, 5)</code> would  not work, because the support of <code>u</code> would be empty after applying the constraint.</p><p>To check if a constraint yields a nonempty truncated uncertain value, use the  <code>support_intersection</code> function. If the result of `<code>support_intersection(uval1, uval2)</code>  for two uncertain values <code>uval1</code> and <code>uval2</code> is the empty set <code>∅</code>, then you&#39;ll run into  trouble.</p><p>To check for such cases for an entire dataset, you can use the  <code>verify_constraints(udata::AbstractUncertainValueDataset, constraint::SamplingConstraint)</code>  function. It will apply the constraint to each value and return the indices of the values  for which applying the constraint would result in a furnishing distribution whose support  is the empty set.</p><footer><hr/><a class="previous" href="../resampling_uncertain_values/"><span class="direction">Previous</span><span class="title">-</span></a><a class="next" href="../resampling_uncertain_indexvalue_datasets/"><span class="direction">Next</span><span class="title">-</span></a></footer></article></body></html>
