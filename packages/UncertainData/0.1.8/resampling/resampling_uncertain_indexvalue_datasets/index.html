<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>- · UncertainData.jl documentation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>UncertainData.jl documentation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">UncertainData.jl</a></li><li><span class="toctext">Uncertain values</span><ul><li><a class="toctext" href="../../uncertain_values/uncertainvalues_examples/">-</a></li><li><a class="toctext" href="../../uncertain_values/uncertainvalues_overview/">-</a></li><li><a class="toctext" href="../../uncertain_values/uncertainvalues_kde/">-</a></li><li><a class="toctext" href="../../uncertain_values/uncertainvalues_fitted/">-</a></li><li><a class="toctext" href="../../uncertain_values/uncertainvalues_theoreticaldistributions/">-</a></li><li><a class="toctext" href="../../uncertain_values/certainvalue/">Documentation</a></li><li><a class="toctext" href="../../uncertain_values/populations/">Documentation</a></li></ul></li><li><span class="toctext">Uncertain datasets</span><ul><li><a class="toctext" href="../../uncertain_datasets/uncertain_datasets_overview/">-</a></li><li><a class="toctext" href="../../uncertain_datasets/uncertain_index_dataset/">-</a></li><li><a class="toctext" href="../../uncertain_datasets/uncertain_value_dataset/">-</a></li><li><a class="toctext" href="../../uncertain_datasets/uncertain_dataset/">-</a></li><li><a class="toctext" href="../../uncertain_datasets/uncertain_indexvalue_dataset/">-</a></li></ul></li><li><span class="toctext">Uncertain statistics</span><ul><li><span class="toctext">Core statistics</span><ul><li><a class="toctext" href="../../uncertain_statistics/core_stats/core_statistics/">-</a></li></ul></li><li><span class="toctext">Hypothesis tests</span><ul><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/hypothesis_tests_overview/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/one_sample_t_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/equal_variance_t_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/unequal_variance_t_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/exact_kolmogorov_smirnov_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/approximate_twosample_kolmogorov_smirnov_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/jarque_bera_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/mann_whitney_u_test/">-</a></li><li><a class="toctext" href="../../uncertain_statistics/hypothesistests/anderson_darling_test/">-</a></li></ul></li></ul></li><li><span class="toctext">Sampling constraints</span><ul><li><a class="toctext" href="../../sampling_constraints/available_constraints/">-</a></li><li><a class="toctext" href="../../sampling_constraints/constrain_uncertain_values/">-</a></li><li><a class="toctext" href="../../sampling_constraints/ordered_sequence_exists/">-</a></li><li><a class="toctext" href="../../sampling_constraints/sequential_constraints/">-</a></li></ul></li><li><span class="toctext">Resampling</span><ul><li><a class="toctext" href="../resampling_overview/">-</a></li><li><a class="toctext" href="../resampling_uncertain_values/">-</a></li><li><a class="toctext" href="../resampling_uncertain_datasets/">-</a></li><li class="current"><a class="toctext" href>-</a><ul class="internal"><li><a class="toctext" href="#Documentation-1">Documentation</a></li><li><a class="toctext" href="#Examples-1">Examples</a></li></ul></li><li><a class="toctext" href="../sequential/resampling_uncertaindatasets_sequential/">Is a particular constraint applicable?</a></li><li><a class="toctext" href="../sequential/resampling_indexvalue_sequential/">Resampling syntax</a></li><li><a class="toctext" href="../sequential/strictly_increasing/">Documentation</a></li><li><a class="toctext" href="../sequential/strictly_decreasing/">Documentation</a></li><li><a class="toctext" href="../interpolation/interpolation/">Supported interpolations</a></li><li><a class="toctext" href="../interpolation/gridded/">Grids</a></li></ul></li><li><span class="toctext">Mathematics</span><ul><li><a class="toctext" href="../../mathematics/elementary_operations/">Elementary mathematical operations</a></li><li><a class="toctext" href="../../mathematics/trig_functions/">Trigonometric functions</a></li></ul></li><li><a class="toctext" href="../../implementing_algorithms_for_uncertaindata/">-</a></li><li><a class="toctext" href="../../changelog/">-</a></li></ul></nav><article id="docs"><header><nav><ul><li>Resampling</li><li><a href>-</a></li></ul></nav><hr/><div id="topbar"><span>-</span><a class="fa fa-bars" href="#"></a></div></header><p>Resampling <code>UncertainIndexValueDataset</code>s is done in the same manner as for uncertain  values and <code>UncertainDatasets</code>. </p><p>See also the list of  <a href="../../sampling_constraints/available_constraints/">available sampling constraints</a>.</p><h2><a class="nav-anchor" id="Documentation-1" href="#Documentation-1">Documentation</a></h2><h3><a class="nav-anchor" id="No-constraints-1" href="#No-constraints-1">No constraints</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset}" href="#UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(udata::UncertainIndexValueDataset) -&gt; Tuple{Vector{Float64}, Vector{Float64}}</code></pre><p>Resample an uncertain index-value dataset in an element-wise manner.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Int64}" href="#UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Int64}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(udata::UncertainIndexValueDataset, 
	n::Int) -&gt; Vector{Tuple{Vector{Float64}, Vector{Float64}}}</code></pre><p>Resample <code>n</code> realizations an uncertain index-value dataset in an element-wise manner. </p></div></div></section><h3><a class="nav-anchor" id="Same-constraint-to-both-indices-and-data-values-1" href="#Same-constraint-to-both-indices-and-data-values-1">Same constraint to both indices and data values</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint}}" href="#UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint}}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(udata::UncertainIndexValueDataset, 
	constraint::Union{SamplingConstraint, Vector{SamplingConstraint}}) -&gt; Tuple{Vector{Float64}, Vector{Float64}}</code></pre><p>Resample an uncertain index-value dataset in an element-wise manner. </p><p>Enforces the provided sampling <code>constraint</code> to all uncertain values in the dataset, both  indices and data values.</p><p>If a single constraint is provided, then that constraint will be applied to all values. If a  vector of constraints (as many as there are values) is provided, then the constraints are  applied element-wise to both the indices and the data values.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint},Int64}" href="#UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint},Int64}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(udata::UncertainIndexValueDataset, 
	constraint::Union{SamplingConstraint, Vector{SamplingConstraint}},
	n::Int) -&gt; Tuple{Vector{Float64}, Vector{Float64}}</code></pre><p>Resample <code>n</code> realizations of an uncertain index-value dataset in an element-wise manner. </p><p>Enforces the provided sampling <code>constraint</code> to all uncertain values in the dataset, both  indices and data values.</p><p>If a single constraint is provided, that constraint will be applied to all values. If a  vector of constraints (as many as there are values) is provided, then the constraints are  applied element-wise to both the indices and the data values.</p></div></div></section><h3><a class="nav-anchor" id="Different-constraints-to-indices-and-data-values-1" href="#Different-constraints-to-indices-and-data-values-1">Different constraints to indices and data values</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint},Union{Array{SamplingConstraint,1}, SamplingConstraint}}" href="#UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint},Union{Array{SamplingConstraint,1}, SamplingConstraint}}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(udata::UncertainIndexValueDataset, 
	constraint_idxs::Union{SamplingConstraint, Vector{SamplingConstraint}}, 
	constraint_vals::Union{SamplingConstraint, Vector{SamplingConstraint}}) -&gt; Tuple{Vector{Float64}, Vector{Float64}}</code></pre><p>Resample an uncertain index-value dataset in an element-wise manner. </p><p>Enforces separate sampling constraints to the indices and to the data values. </p><p>If a single constraint is provided, that constraint will be applied to all values. If a  vector of constraints (as many as there are values) is provided, then the constraints are  applied element-wise.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint},Union{Array{SamplingConstraint,1}, SamplingConstraint},Int64}" href="#UncertainData.Resampling.resample-Tuple{UncertainIndexValueDataset,Union{Array{SamplingConstraint,1}, SamplingConstraint},Union{Array{SamplingConstraint,1}, SamplingConstraint},Int64}"><code>UncertainData.Resampling.resample</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">resample(udata::UncertainIndexValueDataset, 
	constraint_idxs::Union{SamplingConstraint, Vector{SamplingConstraint}}, 
	constraint_vals::Union{SamplingConstraint, Vector{SamplingConstraint}},
	n::Int) -&gt; Vector{Tuple{Vector{Float64}, Vector{Float64}}}</code></pre><p>Resample <code>n</code> realizations of an uncertain index-value dataset in an element-wise manner. </p><p>Enforces separate sampling constraints to the indices and to the data values. </p><p>If a single constraint is provided, that constraint will be applied to all values. If a  vector of constraints (as many as there are values) is provided, then the constraints are  applied element-wise.</p></div></div></section><h2><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h2><h3><a class="nav-anchor" id="Same-constraint-for-all-uncertain-values-1" href="#Same-constraint-for-all-uncertain-values-1">Same constraint for all uncertain values</a></h3><p>First, let&#39;s define some data to work on.</p><pre><code class="language-julia">using UncertainData, Plots 
gr()
r1 = [UncertainValue(Normal, rand(), rand()) for i = 1:10]
r2 = UncertainValue(rand(10000))
r3 = UncertainValue(Uniform, rand(10000))
r4 = UncertainValue(Normal, -0.1, 0.5)
r5 = UncertainValue(Gamma, 0.4, 0.8)

u_values = [r1; r2; r3; r4; r5]
u_timeindices = [UncertainValue(Normal, i, rand(Uniform(0, 1))) for i = 1:length(u_values)]
uindices = UncertainDataset(u_timeindices);
udata = UncertainDataset(u_values);

# Now, gather uncertain indices and uncertain data values
x = UncertainIndexValueDataset(uindices, udata)</code></pre><p>By default, the plot recipe shows the median and 33rd to 67th percentile range error bars.  Let&#39;s use the default plot recipe, and add some line plots with resampled realizations  of the dataset. </p><pre><code class="language-julia">p = plot(x) 

for i = 1:100
    s = resample(x, TruncateQuantiles(0.33, 0.67), TruncateQuantiles(0.33, 0.67))
    scatter!(p, s[1], s[2], label = &quot;&quot;, lw = 0.3, lα = 0.1, lc = :black,
            mc = :black, ms = 0.5, mα = 0.4)
    plot!(p, s[1], s[2], label = &quot;&quot;, lw = 0.3, lα = 0.1, lc = :black,
            mc = :black, ms = 0.5, mα = 0.4)
end
p</code></pre><p><img src="../resample_uncertainindexvalue_dataset_default_withlines.svg" alt/></p><p>This would of course also work with any other sampling constraint that is valid for your  dataset. Let&#39;s demonstrate with a few more examples.</p><h3><a class="nav-anchor" id="Different-constraints-for-indices-and-data-values-1" href="#Different-constraints-for-indices-and-data-values-1">Different constraints for indices and data values</a></h3><p>Let&#39;s say that we want to treat the uncertainties of the indices (time, in this case)  separately from the uncertainties of the data values. </p><p>First, let&#39;s define a dataset to work on.</p><pre><code class="language-julia">using UncertainData, Plots 
gr()
r1 = [UncertainValue(Normal, rand(), rand()) for i = 1:10]
r2 = UncertainValue(rand(10000))
r3 = UncertainValue(Uniform, rand(10000))
r4 = UncertainValue(Normal, -0.1, 0.5)
r5 = UncertainValue(Gamma, 0.4, 0.8)

u_values = [r1; r2; r3; r4; r5]
u_timeindices = [UncertainValue(Normal, i, rand(Uniform(0, 1))) for i = 1:length(u_values)]
uindices = UncertainDataset(u_timeindices);
udata = UncertainDataset(u_values);

# Now, gather uncertain indices and uncertain data values
x = UncertainIndexValueDataset(uindices, udata)</code></pre><p>Let&#39;s pretend every 2nd time index has many outliers which we don&#39;t trust, so we restrict  resampling of those values to the 30th to 70th percentile range. For the remaining time  indices, there are some outliers outliers, but these are concentrated at the lower end of  the distributions, so we&#39;ll resample by truncating the furnishing distributions below at  the 10th percentile. </p><p>For the data values, we pretend that the same applies: every 2nd value has a bunch of  outliers, so we restrict the support of the distributions of those uncertain values to  1.5 standard deviations around the mean. For the remaining data values, we&#39;ll resample  from the the 20th to 80th percentile range.</p><p>Now, define the constraints as described:</p><pre><code class="language-julia"># Define the constraints
n_vals = length(x)

index_constraints = Vector{SamplingConstraint}(undef, n_vals)
value_constraints = Vector{SamplingConstraint}(undef, n_vals)

for i = 1:n_vals
    if i % 2 == 0
        index_constraints[i] = TruncateQuantiles(0.3, 0.7)
        value_constraints[i] = TruncateStd(1.5)
    else
        index_constraints[i] = TruncateLowerQuantile(0.1)
        value_constraints[i] = TruncateQuantiles(0.2, 0.8)  
    end
end</code></pre><p>Finally, plot the realizations.</p><pre><code class="language-julia">
# Resample a bunch of times and plot the realizations both as lines as scatter points
p = plot(xlabel = &quot;Index&quot;, ylabel = &quot;Value&quot;)
for i = 1:500
    s = resample(x, index_constraints, value_constraints)
    scatter!(p, s[1], s[2], label = &quot;&quot;, lw = 0.3, lα = 0.1, lc = :black,
            mc = :black, ms = 0.5, mα = 0.4)
    plot!(p, s[1], s[2], label = &quot;&quot;, lw = 0.3, lα = 0.1, lc = :black,
            mc = :black, ms = 0.5, mα = 0.4)
end
p</code></pre><p><img src="../uncertain_indexvalue_dataset_sampling_manyconstraints.svg" alt/></p><footer><hr/><a class="previous" href="../resampling_uncertain_datasets/"><span class="direction">Previous</span><span class="title">-</span></a><a class="next" href="../sequential/resampling_uncertaindatasets_sequential/"><span class="direction">Next</span><span class="title">Is a particular constraint applicable?</span></a></footer></article></body></html>
