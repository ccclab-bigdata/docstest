<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· FieldDefaults.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>FieldDefaults.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="FieldDefaults-1" href="#FieldDefaults-1">FieldDefaults</a></h1><p><a href="https://travis-ci.org/rafaqz/FieldDefaults.jl"><img src="https://travis-ci.org/rafaqz/FieldDefaults.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://coveralls.io/github/rafaqz/FieldDefaults.jl?branch=master"><img src="https://coveralls.io/repos/rafaqz/FieldDefaults.jl/badge.svg?branch=master&amp;service=github" alt="Coverage Status"/></a> <a href="http://codecov.io/github/rafaqz/FieldDefaults.jl?branch=master"><img src="http://codecov.io/github/rafaqz/FieldDefaults.jl/coverage.svg?branch=master" alt="codecov.io"/></a></p><p>A lightweight package that adds keyword defaults to (the also lightweight!) <a href="https://github.com/rafaqz/FieldMetadata.jl">FieldMetadata.jl</a>.</p><p>The <code>@default_kw</code> macro adds a keyword arg constructor to a type:</p><pre><code class="language-julia">@default_kw struct MyStruct
    foo::Int | 1
    bar::Int | 2
end

julia&gt; m = MyStruct()
julia&gt; m.foo
1

julia&gt; m.bar
2</code></pre><p>It has a similar outcome (though entirely difference mechanism) to Parameters.jl. It has some limitations: presently it only adds an outside constructor, and defaults can&#39;t use the other default values.</p><p>But it has some other nice features. Defaults can be added to a struct that has already been defined by prefixing <code>re</code> to the macro name, as in FieldMetadata.jl:</p><pre><code class="language-julia">struct SomeoneElseDefined
    foo::Int
    bar::Int
end

@redefault struct SomeoneElseDefined
    foo | 7
    bar | 19
end</code></pre><p>Each default value can be overridden by declaring a new function:</p><pre><code class="language-none">default(::YourType, ::Type{Val{:fieldname}}) = 99</code></pre><p>The process of creating defaults can be also overriden by writing methods of <code>get_default()</code>, to change defauls for all fields at once, to say, swap out all defaults for a second default field, or optionally add units from @units metadata. </p><p>Add units metadata when you need it (and you have allready attached it to YourType with FieldMetadata.jl):</p><pre><code class="language-julia">get_default(t::YourType) = default(t) .* units(t)</code></pre><p>Or change an individual fields using the original default value:</p><pre><code class="language-julia">get_default(t::YourType, x::Val{:fieldname}) = default(t, x) * 2</code></pre><p>Extra metadata fields are easy to add to a struct at definition time or afterwards, using a <a href="https://github.com/rafaqz/FieldMetadata.jl">@metadata</a> macro.</p><p>Default values of single structs or more complex composite types can be flattened to tuples or vectors using <a href="https://github.com/rafaqz/Flatten.jl">Flatten.jl</a>. This can be combined with fieldnames, other metadata and current field values for generating tabular displays, or other uses.</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
