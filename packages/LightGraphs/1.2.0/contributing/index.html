<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contributing Â· LightGraphs</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>LightGraphs</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Getting Started</a></li><li><a class="toctext" href="../graphtypes/">Choosing A Graph Type</a></li><li><a class="toctext" href="../types/">LightGraphs Types</a></li><li><a class="toctext" href="../basicproperties/">Accessing Properties</a></li><li><a class="toctext" href="../generators/">Making and Modifying Graphs</a></li><li><a class="toctext" href="../persistence/">Reading / Writing Graphs</a></li><li><a class="toctext" href="../operators/">Operators</a></li><li><a class="toctext" href="../plotting/">Plotting Graphs</a></li><li><a class="toctext" href="../pathing/">Path and Traversal</a></li><li><a class="toctext" href="../distance/">Distance</a></li><li><a class="toctext" href="../centrality/">Centrality Measures</a></li><li><a class="toctext" href="../linalg/">Linear Algebra</a></li><li><a class="toctext" href="../matching/">Matching</a></li><li><a class="toctext" href="../community/">Community Structures</a></li><li><a class="toctext" href="../degeneracy/">Degeneracy</a></li><li><a class="toctext" href="../integration/">Integration with other packages</a></li><li><a class="toctext" href="../experimental/">Experimental Functionality</a></li><li><a class="toctext" href="../parallel/">Parallel Algorithms</a></li><li class="current"><a class="toctext" href>Contributing</a><ul class="internal"><li><a class="toctext" href="#Bug-reports-1">Bug reports</a></li><li><a class="toctext" href="#Development-guidelines-1">Development guidelines</a></li><li><a class="toctext" href="#Git-usage-1">Git usage</a></li></ul></li><li><a class="toctext" href="../developing/">Developer Notes</a></li><li><a class="toctext" href="../license/">License Information</a></li><li><a class="toctext" href="../citing/">Citing LightGraphs</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Contributing</a></li></ul></nav><hr/><div id="topbar"><span>Contributing</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Contributor-Guide-1" href="#Contributor-Guide-1">Contributor Guide</a></h1><p>We welcome all possible contributors and ask that you read these guidelines before starting to work on this project. Following these guidelines will reduce friction and improve the speed at which your code gets merged.</p><h2><a class="nav-anchor" id="Bug-reports-1" href="#Bug-reports-1">Bug reports</a></h2><p>If you notice code that is incorrect/crashes/too slow please file a bug report. The report should be raised as a github issue with a minimal working example that reproduces the error message. The example should include any data needed. If the problem is incorrectness, then please post the correct result along with an incorrect result.</p><p>Please include version numbers of all relevant libraries and Julia itself.</p><h2><a class="nav-anchor" id="Development-guidelines-1" href="#Development-guidelines-1">Development guidelines</a></h2><ul><li><p>PRs should contain one logical enhancement to the codebase.</p></li><li><p>Squash commits in a PR.</p></li><li><p>Open an issue to discuss a feature before you start coding (this maximizes the likelihood of patch acceptance).</p></li><li><p>Minimize dependencies on external packages, and avoid introducing new dependencies. In general,</p><ul><li>PRs introducing dependencies on Julia Base or the packages in the Julia Standard Library are ok.</li><li>PRs introducing dependencies on third-party non-core &quot;leaf&quot; packages (no subdependencies except for Julia Base / Standard Library packages) are less ok.</li><li>PRs introducing dependencies on third-party non-core non-leaf packages (that is, third-party packages that have dependencies on one or more other third-party packages) require strict scrutiny and will likely not be accepted without some compelling reason (urgent bugfix or much-needed functionality).</li></ul></li><li><p>Put type assertions on all function arguments where conflict may arise (use abstract types, Union, or Any if necessary).</p></li><li><p>If the algorithm was presented in a paper, include a reference to the paper (i.e. a proper academic citation along with an eprint link).</p></li><li><p>Take steps to ensure that code works on graphs with multiple connected components efficiently.</p></li><li><p>Correctness is a necessary requirement; efficiency is desirable. Once you have a correct implementation, make a PR so we can help improve performance.</p></li><li><p>We can accept code that does not work for directed graphs as long as it comes with an explanation of what it would take to make it work for directed graphs.</p></li><li><p>Style point: prefer the short circuiting conditional over if/else when convenient, and where state is not explicitly being mutated (<em>e.g.</em>, <code>condition &amp;&amp; error(&quot;message&quot;)</code> is good; <code>condition &amp;&amp; i += 1</code> is not).</p></li><li><p>When possible write code to reuse memory. For example:</p></li></ul><pre><code class="language-julia">function f(g, v)
    storage = Vector{Int}(undef, nv(g))
    # some code operating on storage, g, and v.
    for i in 1:nv(g)
        storage[i] = v-i
    end
    return sum(storage)
end</code></pre><p>should be rewritten as two functions</p><pre><code class="language-julia">function f(g::AbstractGraph, v::Integer)
    storage = Vector{Int}(undef, nv(g))
    return f!(g, v, storage)
end

function f!(g::AbstractGraph, v::Integer, storage::AbstractVector{Int})
    # some code operating on storage, g, and v.
    for i in 1:nv(g)
        storage[i] = v-i
    end
    return sum(storage)
end</code></pre><p>This gives users the option of reusing memory and improving performance.</p><h3><a class="nav-anchor" id="Minimizing-use-of-internal-struct-fields-1" href="#Minimizing-use-of-internal-struct-fields-1">Minimizing use of internal struct fields</a></h3><p>Since LightGraphs supports multiple implementations of the graph datastructure using the <code>AbstractGraph</code> <a href="https://juliagraphs.github.io/LightGraphs.jl/latest/types.html#AbstractGraph-Type-1">type</a> you should refrain as much as reasonably practicable from using the internal fields of structs such as <code>fadjlist</code>. Instead, you should use the functions provided in the api. Code that is instrumental to defining a concrete graph type can use the internal structure of that type for example graph generators in <code>/src/StaticGraphs/generators/staticgraphs.jl</code> use the <code>fadjlist</code> field in order to construct graphs efficiently.</p><h2><a class="nav-anchor" id="Git-usage-1" href="#Git-usage-1">Git usage</a></h2><p>In order to make it easier for you to review Pull Requests (PRs), you can add this to your git config file, which should be located at <code>$HOME/.julia/v0.6/LightGraphs/.git/config</code>. Follow the instructions <a href="https://gist.github.com/piscisaureus/3342247">here</a>.</p><p>Locate the section for your github remote in the <code>.git/config</code> file. It looks like this:</p><pre><code class="language-none">[remote &quot;origin&quot;]
    fetch = +refs/heads/*:refs/remotes/origin/*
    url = git@github.com:JuliaGraphs/LightGraphs.jl.git</code></pre><p>Now add the line <code>fetch = +refs/pull/*/head:refs/remotes/origin/pr/*</code> to this section. Obviously, change the github url to match your project&#39;s URL. It ends up looking like this:</p><pre><code class="language-none">[remote &quot;origin&quot;]
    fetch = +refs/heads/*:refs/remotes/origin/*
    url = git@github.com:JuliaGraphs/LightGraphs.jl.git
    fetch = +refs/pull/*/head:refs/remotes/origin/pr/*</code></pre><p>Now fetch all the pull requests:</p><pre><code class="language-none">$ git fetch origin
From github.com:JuliaGraphs/LightGraphs.jl
 * [new ref]         refs/pull/1000/head -&gt; origin/pr/1000
 * [new ref]         refs/pull/1002/head -&gt; origin/pr/1002
 * [new ref]         refs/pull/1004/head -&gt; origin/pr/1004
 * [new ref]         refs/pull/1009/head -&gt; origin/pr/1009
...</code></pre><p>To check out a particular pull request:</p><pre><code class="language-none">$ git checkout pr/999
Branch pr/999 set up to track remote branch pr/999 from origin.
Switched to a new branch &#39;pr/999&#39;</code></pre><p>Now you can test a PR by running <code>git fetch &amp;&amp; git checkout pr/PRNUMBER &amp;&amp; julia -e &#39;Pkg.test(&quot;LightGraphs&quot;)</code></p><footer><hr/><a class="previous" href="../parallel/"><span class="direction">Previous</span><span class="title">Parallel Algorithms</span></a><a class="next" href="../developing/"><span class="direction">Next</span><span class="title">Developer Notes</span></a></footer></article></body></html>
