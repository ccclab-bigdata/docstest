<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Experimental Features Â· Query.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Query.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li><a class="toctext" href="../gettingstarted/">Getting Started</a></li><li><a class="toctext" href="../standalonequerycommands/">Standalone Query Commands</a></li><li><a class="toctext" href="../linqquerycommands/">LINQ Style Query Commands</a></li><li><a class="toctext" href="../sources/">Data Sources</a></li><li><a class="toctext" href="../sinks/">Data Sinks</a></li><li class="current"><a class="toctext" href>Experimental Features</a><ul class="internal"><li><a class="toctext" href="#Source-as-the-first-argument-to-standalone-query-commands-1">Source as the first argument to standalone query commands</a></li><li><a class="toctext" href="#The-_-and-__-syntax-1">The <code>_</code> and <code>__</code> syntax</a></li><li><a class="toctext" href="#Key-selector-in-the-@unique-standalone-command-1">Key selector in the <code>@unique</code> standalone command</a></li></ul></li><li><a class="toctext" href="../internals/">Internals</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Experimental Features</a></li></ul></nav><hr/><div id="topbar"><span>Experimental Features</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Experimental-features-1" href="#Experimental-features-1">Experimental features</a></h1><p>The following features are experimental, i.e. they might change significantly in the future. You are advised to only use them if you are prepared to deal with significant changes to these features in future versions of Query.jl. At the same time any feedback on these features would be especially welcome.</p><h2><a class="nav-anchor" id="Source-as-the-first-argument-to-standalone-query-commands-1" href="#Source-as-the-first-argument-to-standalone-query-commands-1">Source as the first argument to standalone query commands</a></h2><p>Some standalone query commands accept the source argument as the first argument, in addition to accepting it via the pipe operator. For example, <code>source |&gt; @map(_)</code> and @map(source, _)` are equivalent. These source-as-the-first-argument versions of the standalone query operators are considered experimental and might disappear in future releases.</p><h2><a class="nav-anchor" id="The-_-and-__-syntax-1" href="#The-_-and-__-syntax-1">The <code>_</code> and <code>__</code> syntax</a></h2><p>This syntax only works in the standalone query commands. Instead of writing a full anonymous function, for example <code>@map(i-&gt;i.a)</code>, one can write <code>@map(_.a)</code>, where <code>_</code> stands for the current element, i.e. has the same role as the argument of the anonymous function.</p><p>If one uses both <code>_</code> and <code>__</code>, Query will automatically create an anonymous function with two arguments. For example, the result selector in the <code>@join</code> command requires an anonymous function that takes two arguments. This can be written succinctly like this:</p><pre><code class="language-julia">using DataFrames, Query

df_parents = DataFrame(Name=[&quot;John&quot;, &quot;Sally&quot;])
df_children = DataFrame(Name=[&quot;Bill&quot;, &quot;Joe&quot;, &quot;Mary&quot;], Parent=[&quot;John&quot;, &quot;John&quot;, &quot;Sally&quot;])

df_parents |&gt; @join(df_children, _.Name, _.Parent, {Parent=_.Name, Child=__.Name}) |&gt; DataFrame</code></pre><h2><a class="nav-anchor" id="Key-selector-in-the-@unique-standalone-command-1" href="#Key-selector-in-the-@unique-standalone-command-1">Key selector in the <code>@unique</code> standalone command</a></h2><p>As an experimental feature, one can specify a key selector for the <code>@unique</code> command. In that case uniqueness is tested based on that key.</p><pre><code class="language-julia">using Query

source = [1,-1,2,2,3]

q = source |&gt; @unique(abs(_)) |&gt; collect

println(q)

# output

[1, 2, 3]</code></pre><footer><hr/><a class="previous" href="../sinks/"><span class="direction">Previous</span><span class="title">Data Sinks</span></a><a class="next" href="../internals/"><span class="direction">Next</span><span class="title">Internals</span></a></footer></article></body></html>
