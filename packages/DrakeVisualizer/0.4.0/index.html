<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· DrakeVisualizer.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DrakeVisualizer.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Dependencies-1">Dependencies</a></li><li class="toplevel"><a class="toctext" href="#Troubleshooting-1">Troubleshooting</a></li><li><a class="toctext" href="#Linux:-Configuring-Large-UDP-Packets-1">Linux: Configuring Large UDP Packets</a></li><li class="toplevel"><a class="toctext" href="#Launching-the-Viewer-1">Launching the Viewer</a></li><li class="toplevel"><a class="toctext" href="#Usage:-1">Usage:</a></li><li><a class="toctext" href="#Geometric-Primitives-1">Geometric Primitives</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="DrakeVisualizer-1" href="#DrakeVisualizer-1">DrakeVisualizer</a></h1><p><a href="https://travis-ci.org/rdeits/DrakeVisualizer.jl"><img src="https://travis-ci.org/rdeits/DrakeVisualizer.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://codecov.io/gh/rdeits/DrakeVisualizer.jl"><img src="https://codecov.io/gh/rdeits/DrakeVisualizer.jl/branch/master/graph/badge.svg" alt="codecov"/></a></p><hr/><p><strong>Note:</strong> While this package should still work, active development has been moved to <a href="https://github.com/rdeits/MeshCat.jl">MeshCat.jl</a>, which offers more features and a much less complicated set of dependencies.</p><hr/><p>This package provides a Julia interface to the Drake Visualizer, part of the <a href="http://drake.mit.edu">Drake</a> project and built on top of <a href="https://github.com/RobotLocomotion/director">Director</a>, a highly customizable 3D interface for robotics visualization and interaction.</p><h1><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h1><p>DrakeVisualizer.jl uses <a href="https://github.com/JuliaLang/BinDeps.jl">BinDeps.jl</a> to try to automatically install an appropriate copy of Director for you. On Ubuntu (14.04 and higher) and macOS, this package will attempt to download the pre-built binaries of Director from <a href="http://people.csail.mit.edu/patmarion/software/director/">http://people.csail.mit.edu/patmarion/software/director/</a>. On other Linux platforms, it will compile Director from source. If you would like to force Director to build from source on any platform, just set the environment variable <code>DIRECTOR_BUILD_FROM_SOURCE=1</code>.</p><h2><a class="nav-anchor" id="Dependencies-1" href="#Dependencies-1">Dependencies</a></h2><p>On Ubuntu (14.04 and up) and macOS, all of Director&#39;s dependencies will automatically be installed using BinDeps.jl. On other platforms, you&#39;ll need to provide them yourself. The required packages are available via <code>apt-get</code> as:</p><pre><code class="language-none">libqt4-dev
libqt4-opengl-dev
python-numpy
python-dev</code></pre><h1><a class="nav-anchor" id="Troubleshooting-1" href="#Troubleshooting-1">Troubleshooting</a></h1><p>If you have issues with the Director application itself (like your geometry not showing up), you may have an out-of-date version of the Director binaries. To clear the downloaded binaries, you can run:</p><pre><code class="language-none">julia&gt; DrakeVisualizer.delete_director_binaries()</code></pre><p>After which you will need to re-download the binaries with:</p><pre><code class="language-none">julia&gt; Pkg.build(&quot;DrakeVisualizer&quot;)</code></pre><h2><a class="nav-anchor" id="Linux:-Configuring-Large-UDP-Packets-1" href="#Linux:-Configuring-Large-UDP-Packets-1">Linux: Configuring Large UDP Packets</a></h2><p><code>DrakeVisualizer</code> uses <a href="http://lcm-proj.github.io/">LCM</a> for communication, and LCM uses UDP under the hood. Very large LCM messages (like those created when loading a robot with lots of mesh geometries) can result in UDP packets being dropped, which will result in you not seeing anything in the visualizer. If that happens to you, you&#39;ll need to follow the instructions in <a href="https://github.com/rdeits/DrakeVisualizer.jl/issues/19#issuecomment-267429751">this comment</a>. Edit <code>/etc/sysctl.conf</code> and add:</p><pre><code class="language-none">net.core.rmem_max=2097152
net.core.rmem_default=2097152</code></pre><h1><a class="nav-anchor" id="Launching-the-Viewer-1" href="#Launching-the-Viewer-1">Launching the Viewer</a></h1><p>You can launch the viewer application with</p><pre><code class="language-none">julia&gt; DrakeVisualizer.new_window()</code></pre><p>which is just a convenience wrapper around a call to the <code>drake-visualizer</code> executable, included in the <code>director</code> binaries or source installation.</p><h1><a class="nav-anchor" id="Usage:-1" href="#Usage:-1">Usage:</a></h1><p>This package makes use of <a href="https://github.com/JuliaGeometry/GeometryTypes.jl">GeometryTypes.jl</a> to represent robot geometries and <a href="https://github.com/FugroRoames/CoordinateTransformations.jl">CoordinateTransformations.jl</a> to represent spatial transformations. Check out <a href="https://github.com/rdeits/DrakeVisualizer.jl/blob/master/demo.ipynb">demo.ipynb</a> for some examples of usage.</p><h2><a class="nav-anchor" id="Geometric-Primitives-1" href="#Geometric-Primitives-1">Geometric Primitives</a></h2><p>Geometric primitives from GeometryTypes.jl can be visualized directly:</p><pre><code class="language-julia">using DrakeVisualizer
using GeometryTypes
box = HyperRectangle(Vec(0.,0,0), Vec(1.,1,1))
model = Visualizer(box)</code></pre><p><img src="https://cloud.githubusercontent.com/assets/591886/19826370/3efea352-9d56-11e6-9d6b-695035c5baae.png" alt="box"/></p><pre><code class="language-julia">sphere = HyperSphere(Point(0., 0, 0), 1.0)
model = Visualizer(sphere)</code></pre><p><img src="https://cloud.githubusercontent.com/assets/591886/19826371/414ebec6-9d56-11e6-99e3-73a3bad190b9.png" alt="sphere"/></p><p>Once a Visualizer model has been created, it can be rendered at arbitrary positions and orientations:</p><pre><code class="language-julia">using CoordinateTransformations
settransform!(model, Translation(1.0, 0.0, 0.0))</code></pre><p>DrakeVisualizer can also render mesh data:</p><pre><code class="language-julia">using MeshIO
using FileIO
cat = load(joinpath(Pkg.dir(&quot;GeometryTypes&quot;), &quot;test&quot;, &quot;data&quot;, &quot;cat.obj&quot;))
Visualizer(cat)</code></pre><p><img src="https://cloud.githubusercontent.com/assets/591886/19826425/faebbb9e-9d57-11e6-852f-71c91f9ff757.png" alt="cat mesh"/></p><p>And it can even generate 3D contours from functions:</p><pre><code class="language-julia"># First, we&#39;ll define our function:
f = x -&gt; sum(sin, 5 * x)

# Then we pick a region of interest in which to sample the function.
# This region starts at (-1, -1, -1) and extends to (1, 1, 1):
lower_bound = Vec(-1.,-1,-1)
upper_bound = Vec(1., 1, 1)

# contour_mesh constructs a mesh representing an approximation of
# the surface in 3D space for which f(x) = 0
mesh = contour_mesh(f, lower_bound, upper_bound)
Visualizer(mesh)</code></pre><p><img src="https://cloud.githubusercontent.com/assets/591886/19826595/a1e09484-9d5c-11e6-9268-314059767224.png" alt="custom function contour mesh"/></p><p>For more visualizations, including moving and rotating visualized elements, and visualizing the level sets of functions, check out <a href="https://github.com/rdeits/DrakeVisualizer.jl/blob/master/demo.ipynb">demo.ipynb</a>.</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
