<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Readme Â· HeaderREPLs.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>HeaderREPLs.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Readme</a><ul class="internal"><li><a class="toctext" href="#Utilities-1">Utilities</a></li><li><a class="toctext" href="#Notes-1">Notes</a></li></ul></li><li><a class="toctext" href="autodocs/">Docstrings</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Readme</a></li></ul></nav><hr/><div id="topbar"><span>Readme</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="HeaderREPLs-1" href="#HeaderREPLs-1">HeaderREPLs</a></h1><p><a href="https://travis-ci.org/timholy/HeaderREPLs.jl"><img src="https://travis-ci.org/timholy/HeaderREPLs.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://ci.appveyor.com/project/timholy/revise-jl/branch/master"><img src="https://ci.appveyor.com/api/projects/status/e1xnsj4e5q9308y6/branch/master?svg=true" alt="Build status"/></a> <a href="http://codecov.io/github/timholy/HeaderREPLs.jl?branch=master"><img src="http://codecov.io/github/timholy/HeaderREPLs.jl/coverage.svg?branch=master" alt="codecov.io"/></a></p><p><code>HeaderREPLs.jl</code> is a Julia package that allows you to extend Julia&#39;s amazing REPL to support &quot;mini-applications&quot; that need to communicate more information to the user. They allow you to define a custom &quot;header&quot; type that you can use to print extra information above the prompt.</p><p>To demonstrate, here we build a <code>CountingHeader</code> type and show how the header is printed:</p><pre><code class="language-julia">mutable struct CountingHeader &lt;: AbstractHeader    # note must be mutable and contain nlines field
    n::Int            # internal data needed by the header
    nlines::Int       # the number of lines needed for display---update this in print_header
end

function HeaderREPLs.print_header(io::IO, header::CountingHeader)
    if header.nlines == 0
        if header.n &gt; 0
            printstyled(io, &quot;Header:\n&quot;; color=:light_magenta)
            for i = 1:header.n
                printstyled(io, &quot;  &quot;, i, &#39;\n&#39;; color=:light_blue)
            end
        end
        header.nlines = nlines(header.n)
    end
    return nothing
end</code></pre><p>In <code>test/runtests.jl</code> there is a complete example showing how you initialize this mode and specify the user interaction: briefly, a pipe character (&#39;|&#39;) switches into &quot;count&quot; mode, and once in &quot;count&quot; mode &#39;+&#39; and &#39;-&#39; increment and decrement <code>n</code>.</p><p>Here, let&#39;s check out the outcome with a series of images.</p><p><img src="images/screenshot1.png" alt="entry"/></p><p>This is what you see when you first press &#39;|&#39;. <code>n</code> starts at 0, and our <code>print_header</code> method above displays nothing in that case.</p><p><img src="images/screenshot2.png" alt="plusses"/></p><p>This is what you get after pressing &#39;+&#39; three times.</p><p><img src="images/screenshot3.png" alt="minus"/></p><p>Now after pressing &#39;-&#39;. Note the line moved up to stay aligned.</p><p><img src="images/screenshot4.png" alt="enter"/></p><p>Note we can enter Julia commands as usual. In this demo, &quot;count&quot; mode is non-sticky, so it reverts back to the <code>julia&gt;</code> prompt.</p><p>In theory at least, &quot;count&quot; mode works as you&#39;d expect when you traverse the history: when you get to a &quot;count&quot; line it shows the (current) header.</p><h2><a class="nav-anchor" id="Utilities-1" href="#Utilities-1">Utilities</a></h2><p>The package exports a few utilities that may make it easier to define custom REPL modes. Aside from key-binding initialization utilities (see the source for details), perhaps the two most useful are <code>find_prompt</code> and <code>count_display_lines</code>. Use <code>?</code> for more information.</p><h2><a class="nav-anchor" id="Notes-1" href="#Notes-1">Notes</a></h2><p>Currently this package overwrites a few methods in Julia&#39;s &quot;REPL&quot; standard library. This generates some warnings. Hopefully we can eliminate them in a future version of this package.</p><footer><hr/><a class="next" href="autodocs/"><span class="direction">Next</span><span class="title">Docstrings</span></a></footer></article></body></html>
